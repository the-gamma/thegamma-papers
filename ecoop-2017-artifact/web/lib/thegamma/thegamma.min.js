!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("monaco")):"function"==typeof define&&define.amd?define(["exports","monaco"],t):t(e.main=e.main||{},e.na)}(this,function(exports,monaco$1){"use strict";function unwrapExports(e){return e&&e.__esModule?e.default:e}function createCommonjsModule(e,t){return t={exports:{}},e(t,t.exports),t.exports}function setType(e,t){fableGlobal.types.set(e,t)}function Option(e){return new NonDeclaredType("Option",null,e)}function FableArray(e,t){void 0===t&&(t=!1);var n=null,i=null;return t?n=e:i=e,new NonDeclaredType("Array",n,i)}function Tuple(e){return new NonDeclaredType("Tuple",null,e)}function GenericParam(e){return new NonDeclaredType("GenericParam",e)}function Interface(e){return new NonDeclaredType("Interface",e)}function makeGeneric(e,t){return new NonDeclaredType("GenericType",e,t)}function hasInterface(e,t){if("System.Collections.Generic.IEnumerable"===t)return"function"==typeof e[Symbol.iterator];if("function"==typeof e[_Symbol.reflection]){var n=e[_Symbol.reflection]().interfaces;return Array.isArray(n)&&n.indexOf(t)>-1}return!1}function getPropertyNames(e){if(null==e)return[];var t="function"==typeof e[_Symbol.reflection]?e[_Symbol.reflection]().properties:e;return Object.getOwnPropertyNames(t)}function getRestParams(e,t){for(var n=e.length,i=Array(n>t?n-t:0),r=t;r<n;r++)i[r-t]=e[r];return i}function toString$2(e){return null!=e&&"function"==typeof e.ToString?e.ToString():String(e)}function equals(e,t){if(e===t)return!0;if(null==e)return null==t;if(null==t)return!1;if(Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;if("function"==typeof e.Equals)return e.Equals(t);if(Array.isArray(e)){if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(!equals(e[n],t[n]))return!1;return!0}if(ArrayBuffer.isView(e)){if(e.byteLength!==t.byteLength)return!1;for(var i=new DataView(e.buffer),r=new DataView(t.buffer),n=0;n<e.byteLength;n++)if(i.getUint8(n)!==r.getUint8(n))return!1;return!0}return e instanceof Date&&e.getTime()==t.getTime()}function compare(e,t){if(e===t)return 0;if(null==e)return null==t?0:-1;if(null==t)return 1;if(Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return-1;if("function"==typeof e.CompareTo)return e.CompareTo(t);if(Array.isArray(e)){if(e.length!=t.length)return e.length<t.length?-1:1;for(var n=0,i=0;n<e.length;n++)if(0!==(i=compare(e[n],t[n])))return i;return 0}if(ArrayBuffer.isView(e)){if(e.byteLength!=t.byteLength)return e.byteLength<t.byteLength?-1:1;for(var r=new DataView(e.buffer),o=new DataView(t.buffer),n=0,s=0,a=0;n<e.byteLength;n++){if(s=r.getUint8(n),a=o.getUint8(n),s<a)return-1;if(s>a)return 1}return 0}return e instanceof Date?compare(e.getTime(),t.getTime()):e<t?-1:1}function equalsRecords(e,t){if(e===t)return!0;for(var n=getPropertyNames(e),i=0;i<n.length;i++)if(!equals(e[n[i]],t[n[i]]))return!1;return!0}function compareRecords(e,t){if(e===t)return 0;for(var n=getPropertyNames(e),i=0;i<n.length;i++){var r=compare(e[n[i]],t[n[i]]);if(0!==r)return r}return 0}function equalsUnions(e,t){if(e===t)return!0;if(e.Case!==t.Case)return!1;for(var n=0;n<e.Fields.length;n++)if(!equals(e.Fields[n],t.Fields[n]))return!1;return!0}function compareUnions(e,t){if(e===t)return 0;var n=compare(e.Case,t.Case);if(0!==n)return n;for(var i=0;i<e.Fields.length;i++)if(n=compare(e.Fields[i],t.Fields[i]),0!==n)return n;return 0}function createDisposable(e){return t={Dispose:e},t[_Symbol.reflection]=function(){return{interfaces:["System.IDisposable"]}},t;var t}function createObj(e){for(var t=e[Symbol.iterator](),n=t.next(),i={};!n.done;)i[n.value[0]]=n.value[1],n=t.next();return i}function round(e,t){void 0===t&&(t=0);var n=Math.pow(10,t),i=+(t?e*n:e).toFixed(8),r=Math.floor(i),o=i-r,s=1e-8,a=o>.5-s&&o<.5+s?r%2==0?r:r+1:Math.round(i);return t?a/n:a}function randomNext(e,t){return Math.floor(Math.random()*(t-e))+e}function defaultArg(e,t,n){return null==e?t:null!=n?n(e):e}function ofArray(e,t){for(var n=t||new List$2,i=e.length-1;i>=0;i--)n=new List$2(e[i],n);return n}function addRangeInPlace(e,t){for(var n=e[Symbol.iterator](),i=n.next();!i.done;)t.push(i.value),i=n.next()}function __failIfNone(e){if(null==e)throw new Error("Seq did not contain any matching element");return e}function toList(e){return foldBack$1(function(e,t){return new List$2(e,t)},e,new List$2)}function ofArray$1(e){return delay(function(){return unfold(function(t){return t<e.length?[e[t],t+1]:null},0)})}function append$1(e,t){return delay(function(){var n=!1,i=e[Symbol.iterator](),r=[i,null];return unfold(function(){var e;if(!n){if(e=r[0].next(),!e.done)return[e.value,r];n=!0,r=[null,t[Symbol.iterator]()]}return e=r[1].next(),e.done?null:[e.value,r]},r)})}function averageBy(e,t){var n=1,i=reduce(function(t,i){return n++,(2===n?e(t):t)+e(i)},t);return i/n}function concat$1(e){return delay(function(){var t=e[Symbol.iterator](),n=null;return unfold(function(e){for(var i=!1;!i;)if(null==e){var r=t.next();r.done?i=!0:e=r.value[Symbol.iterator]()}else{var r=e.next();r.done?e=null:(n=r.value,i=!0)}return null!=e&&null!=n?[n,e]:null},null)})}function collect$1(e,t){return concat$1(map$5(e,t))}function choose$1(e,t){var n=function(t){var i=t.next();if(!i.done){var r=e(i.value);return null!=r?[r,t]:n(t)}};return delay(function(){return unfold(function(e){return n(e)},t[Symbol.iterator]())})}function compareWith(e,t,n){var i=tryFind(function(e){return 0!=e},map2(function(t,n){return e(t,n)},t,n));return null!=i?i:count(t)-count(n)}function delay(e){return t={},t[Symbol.iterator]=function(){return e()[Symbol.iterator]()},t;var t}function empty(){return unfold(function(){})}function exists$1(e,t){function n(t){var i=t.next();return!i.done&&(e(i.value)||n(t))}return n(t[Symbol.iterator]())}function filter$2(e,t){function n(t){for(var n=t.next();!n.done;){if(e(n.value))return[n.value,t];n=t.next()}}return delay(function(){return unfold(n,t[Symbol.iterator]())})}function fold$1(e,t,n){if(Array.isArray(n)||ArrayBuffer.isView(n))return n.reduce(e,t);for(var i=void 0,r=0,o=n[Symbol.iterator]();i=o.next(),!i.done;r++)t=e(t,i.value,r);return t}function foldBack$1(e,t,n){for(var i=Array.isArray(t)||ArrayBuffer.isView(t)?t:Array.from(t),r=i.length-1;r>=0;r--)n=e(i[r],n,r);return n}function forAll$1(e,t){return fold$1(function(t,n){return t&&e(n)},!0,t)}function tryHead(e){var t=e[Symbol.iterator](),n=t.next();return n.done?null:n.value}function head(e){return __failIfNone(tryHead(e))}function initialize$1(e,t){return delay(function(){return unfold(function(n){return n<e?[t(n),n+1]:null},0)})}function tryItem(e,t){if(e<0)return null;if(Array.isArray(t)||ArrayBuffer.isView(t))return e<t.length?t[e]:null;for(var n=0,i=t[Symbol.iterator]();;n++){var r=i.next();if(r.done)return null;if(n===e)return r.value}}function item(e,t){return __failIfNone(tryItem(e,t))}function iterate$1(e,t){fold$1(function(t,n){return e(n)},null,t)}function iterateIndexed(e,t){fold$1(function(t,n,i){return e(i,n)},null,t)}function isEmpty$1(e){var t=e[Symbol.iterator]();return t.next().done}function tryLast(e){try{return reduce(function(e,t){return t},e)}catch(e){return null}}function last(e){return __failIfNone(tryLast(e))}function count(e){return Array.isArray(e)||ArrayBuffer.isView(e)?e.length:fold$1(function(e,t){return e+1},0,e)}function map$5(e,t){return delay(function(){return unfold(function(t){var n=t.next();return n.done?null:[e(n.value),t]},t[Symbol.iterator]())})}function mapIndexed$1(e,t){return delay(function(){var n=0;return unfold(function(t){var i=t.next();return i.done?null:[e(n++,i.value),t]},t[Symbol.iterator]())})}function map2(e,t,n){return delay(function(){var i=t[Symbol.iterator](),r=n[Symbol.iterator]();return unfold(function(){var t=i.next(),n=r.next();return t.done||n.done?null:[e(t.value,n.value),null]})})}function rangeStep(e,t,n){if(0===t)throw new Error("Step cannot be 0");return delay(function(){return unfold(function(e){return t>0&&e<=n||t<0&&e>=n?[e,e+t]:null},e)})}function range(e,t){return rangeStep(e,1,t)}function reduce(e,t){if(Array.isArray(t)||ArrayBuffer.isView(t))return t.reduce(e);var n=t[Symbol.iterator](),i=n.next();if(i.done)throw new Error("Seq was empty");for(var r=i.value;i=n.next(),!i.done;)r=e(r,i.value);return r}function scan(e,t,n){return delay(function(){var i=n[Symbol.iterator]();return unfold(function(n){if(null==n)return[t,t];var r=i.next();return r.done?void 0:(n=e(n,r.value),[n,n])},null)})}function singleton$1(e){return unfold(function(e){return null!=e?[e,null]:null},e)}function skip(e,t){return n={},n[Symbol.iterator]=function(){for(var n=t[Symbol.iterator](),i=1;i<=e;i++)if(n.next().done)throw new Error("Seq has not enough elements");return n},n;var n}function skipWhile(e,t){return delay(function(){var n=!1;return filter$2(function(t){return n||(n=!e(t))},t)})}function sortWith(e,t){var n=Array.from(t);return ofArray$1(n.sort(e))}function sumBy(e,t){return fold$1(function(t,n){return t+e(n)},0,t)}function take(e,t,n){return void 0===n&&(n=!1),delay(function(){var i=t[Symbol.iterator]();return unfold(function(t){if(t<e){var r=i.next();if(!r.done)return[r.value,t+1];if(!n)throw new Error("Seq has not enough elements")}},0)})}function truncate(e,t){return take(e,t,!0)}function takeWhile(e,t){return delay(function(){var n=t[Symbol.iterator]();return unfold(function(t){var i=n.next();if(!i.done&&e(i.value))return[i.value,null]},0)})}function tryFind(e,t,n){for(var i=0,r=t[Symbol.iterator]();;i++){var o=r.next();if(o.done)return void 0===n?null:n;if(e(o.value,i))return o.value}}function find(e,t){return __failIfNone(tryFind(e,t))}function tryPick(e,t){for(var n=0,i=t[Symbol.iterator]();;n++){var r=i.next();if(r.done)break;var o=e(r.value,n);if(null!=o)return o}}function pick(e,t){return __failIfNone(tryPick(e,t))}function unfold(e,t){return n={},n[Symbol.iterator]=function(){return{next:function(){var n=e(t);return null!=n?(t=n[1],{done:!1,value:n[0]}):{done:!0}}}},n;var n}function zip(e,t){return map2(function(e,t){return[e,t]},e,t)}function groupBy$1(e,t){for(var n=[],i=t[Symbol.iterator](),r=create$3(),o=i.next();!o.done;){var s=e(o.value),a=tryFind$1(s,r);null==a?(n.push(s),r=add$1(s,[o.value],r)):a.push(o.value),o=i.next()}return n.map(function(e){return[e,r.get(e)]})}function countBy(e,t){return groupBy$1(e,t).map(function(e){return[e[0],e[1].length]})}function tree_sizeAux(e,t){return"MapOne"===t.Case?e+1:"MapNode"===t.Case?tree_sizeAux(tree_sizeAux(e+1,t.Fields[2]),t.Fields[3]):e}function tree_size(e){return tree_sizeAux(0,e)}function tree_empty(){return new MapTree("MapEmpty",[])}function tree_height$1(e){return"MapOne"===e.Case?1:"MapNode"===e.Case?e.Fields[4]:0}function tree_mk$1(e,t,n,i){var r=[e,i],o=function(){var r=tree_height$1(e),o=tree_height$1(i),s=r<o?o:r;return new MapTree("MapNode",[t,n,e,i,s+1])};return"MapEmpty"===r[0].Case&&"MapEmpty"===r[1].Case?new MapTree("MapOne",[t,n]):o()}function tree_rebalance$1(e,t,n,i){var r=tree_height$1(e),o=tree_height$1(i);if(o>r+2){if("MapNode"===i.Case){if(tree_height$1(i.Fields[2])>r+1){if("MapNode"===i.Fields[2].Case)return tree_mk$1(tree_mk$1(e,t,n,i.Fields[2].Fields[2]),i.Fields[2].Fields[0],i.Fields[2].Fields[1],tree_mk$1(i.Fields[2].Fields[3],i.Fields[0],i.Fields[1],i.Fields[3]));throw new Error("rebalance")}return tree_mk$1(tree_mk$1(e,t,n,i.Fields[2]),i.Fields[0],i.Fields[1],i.Fields[3])}throw new Error("rebalance")}if(r>o+2){if("MapNode"===e.Case){if(tree_height$1(e.Fields[3])>o+1){if("MapNode"===e.Fields[3].Case)return tree_mk$1(tree_mk$1(e.Fields[2],e.Fields[0],e.Fields[1],e.Fields[3].Fields[2]),e.Fields[3].Fields[0],e.Fields[3].Fields[1],tree_mk$1(e.Fields[3].Fields[3],t,n,i));throw new Error("rebalance")}return tree_mk$1(e.Fields[2],e.Fields[0],e.Fields[1],tree_mk$1(e.Fields[3],t,n,i))}throw new Error("rebalance")}return tree_mk$1(e,t,n,i)}function tree_add$1(e,t,n,i){if("MapOne"===i.Case){var r=e.Compare(t,i.Fields[0]);return r<0?new MapTree("MapNode",[t,n,new MapTree("MapEmpty",[]),i,2]):0===r?new MapTree("MapOne",[t,n]):new MapTree("MapNode",[t,n,i,new MapTree("MapEmpty",[]),2])}if("MapNode"===i.Case){var r=e.Compare(t,i.Fields[0]);return r<0?tree_rebalance$1(tree_add$1(e,t,n,i.Fields[2]),i.Fields[0],i.Fields[1],i.Fields[3]):0===r?new MapTree("MapNode",[t,n,i.Fields[2],i.Fields[3],i.Fields[4]]):tree_rebalance$1(i.Fields[2],i.Fields[0],i.Fields[1],tree_add$1(e,t,n,i.Fields[3]))}return new MapTree("MapOne",[t,n])}function tree_find(e,t,n){var i=tree_tryFind(e,t,n);if(null!=i)return i;throw new Error("key not found")}function tree_tryFind(e,t,n){if("MapOne"===n.Case){var i=e.Compare(t,n.Fields[0]);return 0===i?n.Fields[1]:null}if("MapNode"===n.Case){var i=e.Compare(t,n.Fields[0]);return i<0?tree_tryFind(e,t,n.Fields[2]):0===i?n.Fields[1]:tree_tryFind(e,t,n.Fields[3])}return null}function tree_spliceOutSuccessor$1(e){if("MapOne"===e.Case)return[e.Fields[0],e.Fields[1],new MapTree("MapEmpty",[])];if("MapNode"===e.Case){if("MapEmpty"===e.Fields[2].Case)return[e.Fields[0],e.Fields[1],e.Fields[3]];var t=tree_spliceOutSuccessor$1(e.Fields[2]);return[t[0],t[1],tree_mk$1(t[2],e.Fields[0],e.Fields[1],e.Fields[3])]}throw new Error("internal error: Map.spliceOutSuccessor")}function tree_remove$1(e,t,n){if("MapOne"===n.Case){var i=e.Compare(t,n.Fields[0]);return 0===i?new MapTree("MapEmpty",[]):n}if("MapNode"===n.Case){var i=e.Compare(t,n.Fields[0]);if(i<0)return tree_rebalance$1(tree_remove$1(e,t,n.Fields[2]),n.Fields[0],n.Fields[1],n.Fields[3]);if(0===i){var r=[n.Fields[2],n.Fields[3]];if("MapEmpty"===r[0].Case)return n.Fields[3];if("MapEmpty"===r[1].Case)return n.Fields[2];var o=tree_spliceOutSuccessor$1(n.Fields[3]),s=o[1],a=o[0],l=o[2];return tree_mk$1(n.Fields[2],a,s,l)}return tree_rebalance$1(n.Fields[2],n.Fields[0],n.Fields[1],tree_remove$1(e,t,n.Fields[3]))}return tree_empty()}function tree_mem$1(e,t,n){if("MapOne"===n.Case)return 0===e.Compare(t,n.Fields[0]);if("MapNode"===n.Case){var i=e.Compare(t,n.Fields[0]);return i<0?tree_mem$1(e,t,n.Fields[2]):0===i||tree_mem$1(e,t,n.Fields[3])}return!1}function tree_mkFromEnumerator$1(e,t,n){for(var i=n.next();!i.done;)t=tree_add$1(e,i.value[0],i.value[1],t),i=n.next();return t}function tree_ofSeq$1(e,t){var n=t[Symbol.iterator]();return tree_mkFromEnumerator$1(e,tree_empty(),n)}function tree_collapseLHS$1(e){return null!=e.tail?"MapOne"===e.head.Case?e:tree_collapseLHS$1("MapNode"===e.head.Case?ofArray([e.head.Fields[2],new MapTree("MapOne",[e.head.Fields[0],e.head.Fields[1]]),e.head.Fields[3]],e.tail):e.tail):new List$2}function tree_mkIterator$1(e){return{stack:tree_collapseLHS$1(new List$2(e,new List$2)),started:!1}}function tree_moveNext$1(e){function t(e){if(null==e.stack.tail)return null;if("MapOne"===e.stack.head.Case)return[e.stack.head.Fields[0],e.stack.head.Fields[1]];throw new Error("Please report error: Map iterator, unexpected stack for current")}if(e.started){if(null==e.stack.tail)return{done:!0,value:null};if("MapOne"===e.stack.head.Case)return e.stack=tree_collapseLHS$1(e.stack.tail),{done:null==e.stack.tail,value:t(e)};throw new Error("Please report error: Map iterator, unexpected stack for moveNext")}return e.started=!0,{done:null==e.stack.tail,value:t(e)}}function from$5(e,t){var n=new FableMap;return n.tree=t,n.comparer=e||new GenericComparer,n}function create$3(e,t){return t=t||new GenericComparer,from$5(t,e?tree_ofSeq$1(t,e):tree_empty())}function add$1(e,t,n){return from$5(n.comparer,tree_add$1(n.comparer,e,t,n.tree))}function remove$1(e,t){return from$5(t.comparer,tree_remove$1(t.comparer,e,t.tree))}function tryGetValue(e,t,n){return e.has(t)?[!0,e.get(t)]:[!1,n]}function tryFind$1(e,t){return tree_tryFind(t.comparer,e,t.tree)}function append$$1(e,t){return fold$1(function(e,t){return new List$2(t,e)},t,reverse$$1(e))}function choose$$1(e,t){var n=fold$1(function(t,n){var i=e(n);return null!=i?new List$2(i,t):t},new List$2,t);return reverse$$1(n)}function collect$$1(e,t){return fold$1(function(t,n){return append$$1(t,e(n))},new List$2,t)}function concat$$1(e){return collect$$1(function(e){return e},e)}function filter$1(e,t){return reverse$$1(fold$1(function(t,n){return e(n)?new List$2(n,t):t},new List$2,t))}function map$4(e,t){return reverse$$1(fold$1(function(t,n){return new List$2(e(n),t)},new List$2,t))}function mapIndexed$$1(e,t){return reverse$$1(fold$1(function(t,n,i){return new List$2(e(i,n),t)},new List$2,t))}function reverse$$1(e){return fold$1(function(e,t){return new List$2(t,e)},new List$2,e)}function distinctBy(e,t){return choose$1(function(e){return e[0]},scan(function(t,n){var i=t[1],r=e(n);return i.has(r)?[null,i]:[n,add(r,i)]},[null,create$2()],t))}function distinct(e){return distinctBy(function(e){return e},e)}function tree_countAux(e,t){return"SetOne"===e.Case?t+1:"SetEmpty"===e.Case?t:tree_countAux(e.Fields[1],tree_countAux(e.Fields[2],t+1))}function tree_count(e){return tree_countAux(e,0)}function tree_SetOne(e){return new SetTree("SetOne",[e])}function tree_SetNode(e,t,n,i){return new SetTree("SetNode",[e,t,n,i])}function tree_height(e){return"SetOne"===e.Case?1:"SetNode"===e.Case?e.Fields[3]:0}function tree_mk(e,t,n){var i=[e,n],r=function(){var i=tree_height(e),r=tree_height(n),o=i<r?r:i;return tree_SetNode(t,e,n,o+1)};return"SetEmpty"===i[0].Case&&"SetEmpty"===i[1].Case?tree_SetOne(t):r()}function tree_rebalance(e,t,n){var i=tree_height(e),r=tree_height(n);if(r>i+tree_tolerance){if("SetNode"===n.Case){if(tree_height(n.Fields[1])>i+1){if("SetNode"===n.Fields[1].Case)return tree_mk(tree_mk(e,t,n.Fields[1].Fields[1]),n.Fields[1].Fields[0],tree_mk(n.Fields[1].Fields[2],n.Fields[0],n.Fields[2]));throw new Error("rebalance")}return tree_mk(tree_mk(e,t,n.Fields[1]),n.Fields[0],n.Fields[2])}throw new Error("rebalance")}if(i>r+tree_tolerance){if("SetNode"===e.Case){if(tree_height(e.Fields[2])>r+1){if("SetNode"===e.Fields[2].Case)return tree_mk(tree_mk(e.Fields[1],e.Fields[0],e.Fields[2].Fields[1]),e.Fields[2].Fields[0],tree_mk(e.Fields[2].Fields[2],t,n));throw new Error("rebalance")}return tree_mk(e.Fields[1],e.Fields[0],tree_mk(e.Fields[2],t,n))}throw new Error("rebalance")}return tree_mk(e,t,n)}function tree_add(e,t,n){if("SetOne"===n.Case){var i=e.Compare(t,n.Fields[0]);return i<0?tree_SetNode(t,new SetTree("SetEmpty",[]),n,2):0===i?n:tree_SetNode(t,n,new SetTree("SetEmpty",[]),2)}if("SetEmpty"===n.Case)return tree_SetOne(t);var i=e.Compare(t,n.Fields[0]);return i<0?tree_rebalance(tree_add(e,t,n.Fields[1]),n.Fields[0],n.Fields[2]):0===i?n:tree_rebalance(n.Fields[1],n.Fields[0],tree_add(e,t,n.Fields[2]))}function tree_mem(e,t,n){if("SetOne"===n.Case)return 0===e.Compare(t,n.Fields[0]);if("SetEmpty"===n.Case)return!1;var i=e.Compare(t,n.Fields[0]);return i<0?tree_mem(e,t,n.Fields[1]):0===i||tree_mem(e,t,n.Fields[2])}function tree_collapseLHS(e){return null!=e.tail?"SetOne"===e.head.Case?e:tree_collapseLHS("SetNode"===e.head.Case?ofArray([e.head.Fields[1],tree_SetOne(e.head.Fields[0]),e.head.Fields[2]],e.tail):e.tail):new List$2}function tree_mkIterator(e){return{stack:tree_collapseLHS(new List$2(e,new List$2)),started:!1}}function tree_moveNext(e){function t(e){if(null==e.stack.tail)return null;if("SetOne"===e.stack.head.Case)return e.stack.head.Fields[0];throw new Error("Please report error: Set iterator, unexpected stack for current")}if(e.started){if(null==e.stack.tail)return{done:!0,value:null};if("SetOne"===e.stack.head.Case)return e.stack=tree_collapseLHS(e.stack.tail),{done:null==e.stack.tail,value:t(e)};throw new Error("Please report error: Set iterator, unexpected stack for moveNext")}return e.started=!0,{done:null==e.stack.tail,value:t(e)}}function tree_compareStacks(e,t,n){var i=function(t,i){return tree_compareStacks(e,ofArray([new SetTree("SetEmpty",[]),tree_SetOne(t)],i),n)},r=function(t,i,r,o){return tree_compareStacks(e,ofArray([i,tree_SetNode(t,new SetTree("SetEmpty",[]),r,0)],o),n)},o=function(n,i,r,o){return tree_compareStacks(e,t,ofArray([i,tree_SetNode(n,new SetTree("SetEmpty",[]),r,0)],o))};if(null!=t.tail){if(null!=n.tail){if("SetOne"===n.head.Case){if("SetOne"===t.head.Case){var s=t.head.Fields[0],a=n.head.Fields[0],l=t.tail,u=n.tail,c=e.Compare(s,a);return 0!==c?c:tree_compareStacks(e,l,u)}if("SetNode"===t.head.Case){if("SetEmpty"===t.head.Fields[1].Case){var p=t.head.Fields[1],s=t.head.Fields[0],h=t.head.Fields[2],a=n.head.Fields[0],l=t.tail,u=n.tail,c=e.Compare(s,a);return 0!==c?c:tree_compareStacks(e,ofArray([h],l),ofArray([p],u))}return r(t.head.Fields[0],t.head.Fields[1],t.head.Fields[2],t.tail)}var a=n.head.Fields[0],u=n.tail;return tree_compareStacks(e,t,ofArray([new SetTree("SetEmpty",[]),tree_SetOne(a)],u))}if("SetNode"===n.head.Case){if("SetEmpty"===n.head.Fields[1].Case){if("SetOne"===t.head.Case){var s=t.head.Fields[0],a=n.head.Fields[0],d=n.head.Fields[2],l=t.tail,u=n.tail,c=e.Compare(s,a);return 0!==c?c:tree_compareStacks(e,ofArray([new SetTree("SetEmpty",[])],l),ofArray([d],u))}if("SetNode"===t.head.Case){if("SetEmpty"===t.head.Fields[1].Case){var s=t.head.Fields[0],h=t.head.Fields[2],a=n.head.Fields[0],d=n.head.Fields[2],l=t.tail,u=n.tail,c=e.Compare(s,a);return 0!==c?c:tree_compareStacks(e,ofArray([h],l),ofArray([d],u))}return r(t.head.Fields[0],t.head.Fields[1],t.head.Fields[2],t.tail)}return o(n.head.Fields[0],n.head.Fields[1],n.head.Fields[2],n.tail)}return"SetOne"===t.head.Case?i(t.head.Fields[0],t.tail):"SetNode"===t.head.Case?r(t.head.Fields[0],t.head.Fields[1],t.head.Fields[2],t.tail):o(n.head.Fields[0],n.head.Fields[1],n.head.Fields[2],n.tail)}return"SetOne"===t.head.Case?i(t.head.Fields[0],t.tail):"SetNode"===t.head.Case?r(t.head.Fields[0],t.head.Fields[1],t.head.Fields[2],t.tail):tree_compareStacks(e,t.tail,n.tail)}return 1}return null!=n.tail?-1:0}function tree_compare(e,t,n){return"SetEmpty"===t.Case?"SetEmpty"===n.Case?0:-1:"SetEmpty"===n.Case?1:tree_compareStacks(e,ofArray([t]),ofArray([n]))}function tree_mkFromEnumerator(e,t,n){for(var i=n.next();!i.done;)t=tree_add(e,i.value,t),i=n.next();return t}function tree_ofSeq(e,t){var n=t[Symbol.iterator]();return tree_mkFromEnumerator(e,new SetTree("SetEmpty",[]),n)}function from$4(e,t){var n=new FableSet;return n.tree=t,n.comparer=e||new GenericComparer,n}function create$2(e,t){return t=t||new GenericComparer,from$4(t,e?tree_ofSeq(t,e):new SetTree("SetEmpty",[]))}function add(e,t){return from$4(t.comparer,tree_add(t.comparer,e,t.tree))}function isLong(e){return e&&e instanceof Long}function fromInt(e,t){void 0===t&&(t=!1);var n,i,r;return t?(e>>>=0,(r=0<=e&&e<256)&&(i=UINT_CACHE[e])?i:(n=fromBits(e,(0|e)<0?-1:0,!0),r&&(UINT_CACHE[e]=n),n)):(e|=0,(r=-128<=e&&e<128)&&(i=INT_CACHE[e])?i:(n=fromBits(e,e<0?-1:0,!1),r&&(INT_CACHE[e]=n),n))}function fromNumber(e,t){if(void 0===t&&(t=!1),isNaN(e)||!isFinite(e))return t?UZERO:ZERO;if(t){if(e<0)return UZERO;if(e>=TWO_PWR_64_DBL)return MAX_UNSIGNED_VALUE}else{if(e<=-TWO_PWR_63_DBL)return MIN_VALUE;if(e+1>=TWO_PWR_63_DBL)return MAX_VALUE}return e<0?fromNumber(-e,t).neg():fromBits(e%TWO_PWR_32_DBL|0,e/TWO_PWR_32_DBL|0,t)}function fromBits(e,t,n){return new Long(e,t,n)}function fromString(e,t,n){if(void 0===t&&(t=!1),void 0===n&&(n=10),0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return ZERO;if("number"==typeof t?(n=t,t=!1):t=!!t,n=n||10,n<2||36<n)throw RangeError("radix");var i=e.indexOf("-");if(i>0)throw Error("interior hyphen");if(0===i)return fromString(e.substring(1),t,n).neg();for(var r=fromNumber(pow_dbl(n,8)),o=ZERO,s=0;s<e.length;s+=8){var a=Math.min(8,e.length-s),l=parseInt(e.substring(s,s+a),n);if(a<8){var u=fromNumber(pow_dbl(n,a));o=o.mul(u).add(fromNumber(l))}else o=o.mul(r),o=o.add(fromNumber(l))}return o.unsigned=t,o}function fromValue(e){return e instanceof Long?e:"number"==typeof e?fromNumber(e):"string"==typeof e?fromString(e):fromBits(e.low,e.high,e.unsigned)}function parse(e,t){null==t&&(t="string"==typeof e&&"Z"==e.slice(-1)?1:2);var n=null==e?new Date:new Date(e);if(2===t&&(n.kind=t),isNaN(n.getTime()))throw new Error("The string is not a valid Date.");return n}function now(){return parse()}function hour(e){return 2===e.kind?e.getHours():e.getUTCHours()}function millisecond(e){return 2===e.kind?e.getMilliseconds():e.getUTCMilliseconds()}function minute(e){return 2===e.kind?e.getMinutes():e.getUTCMinutes()}function second(e){return 2===e.kind?e.getSeconds():e.getUTCSeconds()}function ticks$$1(e){return fromNumber(e.getTime()).add(621355968e5).sub(2==e.kind?60*e.getTimezoneOffset()*1e3:0).mul(1e4)}function escape(e){return e.replace(/[\-\[\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}function toHex(e){return e<0?"ff"+(16777215-(Math.abs(e)-1)).toString(16):e.toString(16)}function fsFormat(e){function t(e){return!(null===e||"object"!=typeof e||e instanceof Number||e instanceof String||e instanceof Boolean)}function n(e,n){return e.replace(fsFormatRegExp,function(e,i,r,o,s,a){switch(a){case"f":case"F":n=n.toFixed(s||6);break;case"g":case"G":n=n.toPrecision(s);break;case"e":case"E":n=n.toExponential(s);break;case"O":n=toString$2(n);break;case"A":try{n=JSON.stringify(n,function(e,n){return n&&n[Symbol.iterator]&&!Array.isArray(n)&&t(n)?Array.from(n):n&&"function"==typeof n.ToString?toString$2(n):n})}catch(e){n="{"+Object.getOwnPropertyNames(n).map(function(e){return e+": "+String(n[e])}).join(", ")+"}"}break;case"x":n=toHex(Number(n));break;case"X":n=toHex(Number(n)).toUpperCase()}var l=r.indexOf("+")>=0&&parseInt(n)>=0;if(!isNaN(o=parseInt(o))){var u=o>=0&&r.indexOf("0")>=0?"0":" ";n=padLeft(n,Math.abs(o)-(l?1:0),u,o<0)}var c=i+(l?"+"+n:n);return c.replace(/%/g,"%%")})}function i(e){return function(t){var r=n(e,t);return fsFormatRegExp.test(r)?i(r):s(r.replace(/%%/g,"%"))}}for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];var s;if(0===r.length)return function(t){return s=t,fsFormatRegExp.test(e)?i(e):s(e)};for(var a=0;a<r.length;a++)e=n(e,r[a]);return e.replace(/%%/g,"%")}function endsWith(e,t){var n=e.lastIndexOf(t);return n>=0&&n==e.length-t.length}function isNullOrEmpty(e){return"string"!=typeof e||0==e.length}function isNullOrWhiteSpace(e){return"string"!=typeof e||/^\s*$/.test(e)}function join(e,t){return t="string"==typeof t?getRestParams(arguments,1):t,(Array.isArray(t)?t:Array.from(t)).join(e)}function newGuid(){for(var e="",t=0;t<32;t++){var n=16*Math.random()|0;8!==t&&12!==t&&16!==t&&20!==t||(e+="-"),e+=(12===t?4:16===t?3&n|8:n).toString(16)}return e}function padLeft(e,t,n,i){n=n||" ",e=String(e),t-=e.length;for(var r=-1;++r<t;)e=i?e+n:n+e;return e}function replace$$1(e,t,n){return e.replace(new RegExp(escape(t),"g"),n)}function split$$1(e,t,n,i){if(n="number"==typeof n?n:null,i="number"==typeof i?i:null,n<0)throw new Error("Count cannot be less than zero");if(0===n)return[];t=Array.isArray(t)?t:getRestParams(arguments,1),t=t.map(function(e){return escape(e)}),t=t.length>0?t:[" "];for(var r,o=0,s=[],a=new RegExp(t.join("|"),"g");(null==n||n>1)&&null!==(r=a.exec(e));)(!i||r.index-o>0)&&(n=null!=n?n-1:n,s.push(e.substring(o,r.index))),o=a.lastIndex;return(!i||e.length-o>0)&&s.push(e.substring(o)),s}function trim(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if("both"==t&&0==n.length)return e.trim();if("start"==t||"both"==t){var r=0==n.length?/^\s+/:new RegExp("^["+escape(n.join(""))+"]+");e=e.replace(r,"")}if("end"==t||"both"==t){var r=0==n.length?/\s+$/:new RegExp("["+escape(n.join(""))+"]+$");e=e.replace(r,"")}return e}function protectedCont(e){return function(t){if(t.cancelToken.isCancelled)t.onCancel("cancelled");else if(t.trampoline.incrementAndCheck())t.trampoline.hijack(function(){try{e(t)}catch(e){t.onError(e)}});else try{e(t)}catch(e){t.onError(e)}}}function protectedBind(e,t){return protectedCont(function(n){e({onSuccess:function(e){return t(e)(n)},onError:n.onError,onCancel:n.onCancel,cancelToken:n.cancelToken,trampoline:n.trampoline})})}function protectedReturn(e){return protectedCont(function(t){return t.onSuccess(e)})}function emptyContinuation(e){}function awaitPromise(e){return fromContinuations(function(t){return e.then(t[0]).catch(function(e){return("cancelled"==e?t[2]:t[1])(e)})})}function fromContinuations(e){return protectedCont(function(t){return e([t.onSuccess,t.onError,t.onCancel])})}function parallel(e){return awaitPromise(Promise.all(map$5(function(e){return startAsPromise(e)},e)))}function sleep(e){return protectedCont(function(t){setTimeout(function(){return t.cancelToken.isCancelled?t.onCancel("cancelled"):t.onSuccess(void 0)},e)})}function start(e,t){return startWithContinuations(e,t)}function startImmediate(e,t){return start(e,t)}function startWithContinuations(e,t,n,i,r){"function"!=typeof t&&(r=t,t=null);var o=new Trampoline;e({onSuccess:t?t:emptyContinuation,onError:n?n:emptyContinuation,onCancel:i?i:emptyContinuation,cancelToken:r?r:defaultCancellationToken,trampoline:o})}function startAsPromise(e,t){return new Promise(function(n,i){return startWithContinuations(e,n,i,i,t?t:defaultCancellationToken)})}function isLocalHost(){return"undefined"==typeof window||"localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname}function Async_AwaitFuture_Static(e){return fromContinuations(function(t){e.Then(t[0])})}function Async_Future_Static(e,t,n){var i=new Choice("Choice1Of3",[null]),r=new List$2,o=!1,s=function(e){if("Choice2Of3"===i.Case){var t=i.Fields[0];e(t)}else{if("Choice3Of3"===i.Case){var n=i.Fields[0];throw n}r=new List$2(e,r)}},a=function(){o||(iterate$1(function(e){Log.trace("system","Starting future '%s'....",e)},defaultArg(e,[],function(e){return[e]})),o=!0,function(e){startImmediate(e)}(function(n){return n.Delay(function(){return n.Combine(n.TryWith(n.Delay(function(){return n.Bind(t,function(t){return iterate$1(function(e){Log.trace("system","Future '%s' evaluated to: %O",e,t)},defaultArg(e,[],function(e){return[e]})),i=new Choice("Choice2Of3",[t]),n.Zero()})}),function(e){return Log.exn("system","Evaluating future failed: %O",e),i=new Choice("Choice3Of3",[e]),n.Zero()}),n.Delay(function(){return n.For(r,function(e){return s(e),n.Zero()})}))})}(singleton$2)))};return n===!0&&a(null),_defineProperty({Then:function(e){a(null),s(e)}},_Symbol.reflection,function(){return{interfaces:["TheGamma.Common.Future"]}})}function Async_StartAsFuture_Static(e){return function(e){return function(t){return function(n){return Async_Future_Static(e,t,n)}}}(null)(e)(!0)}function Async_CreateNamedFuture_Static(e,t){return function(e){return function(t){return function(n){return Async_Future_Static(e,t,n)}}}(e)(t)(!1)}function Async_StartAsNamedFuture_Static(e,t){return function(e){return function(t){return function(n){return Async_Future_Static(e,t,n)}}}(e)(t)(!0)}function convertTupleSequence(e,t,n){return function(i){return i.Delay(function(){return i.Bind(n,function(n){return i.Return(n.map(function(n){return[e(n[0]),t(n[1])]}))})})}(singleton$2)}function trimLeft(e,t){return _Array$from(skipWhile(function(t){return e===t},t.split(""))).join("")}function trimRight(e,t){return _Array$from(skipWhile(function(t){return e===t},t.split("").slice().reverse())).slice().reverse().join("")}function concatUrl(e,t){return trimRight("/",e)+"/"+trimLeft("/",t)}function GeoChartOptions_get_empty_Static(){return new GeoChartOptions(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0)}function ScatterChartOptions_get_empty_Static(){return new ScatterChartOptions(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0)}function ColumnChartOptions_get_empty_Static(){return new ColumnChartOptions(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0)}function LineChartOptions_get_empty_Static(){return new LineChartOptions(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0);
}function BarChartOptions_get_empty_Static(){return new BarChartOptions(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0)}function AreaChartOptions_get_empty_Static(){return new AreaChartOptions(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0)}function PieChartOptions_get_empty_Static(){return new PieChartOptions(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0)}function isArray$4(e){return"[object Array]"===toString$3.call(e)}function VirtualPatch(e,t,n){this.type=Number(e),this.vNode=t,this.patch=n}function isVirtualNode(e){return e&&"VirtualNode"===e.type&&e.version===version$4}function isVirtualText(e){return e&&"VirtualText"===e.type&&e.version===version$5}function isWidget$1(e){return e&&"Widget"===e.type}function isThunk$1(e){return e&&"Thunk"===e.type}function handleThunk$1(e,t){var n=e,i=t;return isThunk$2(t)&&(i=renderThunk(t,e)),isThunk$2(e)&&(n=renderThunk(e,null)),{a:n,b:i}}function renderThunk(e,t){var n=e.vnode;if(n||(n=e.vnode=e.render(t)),!(isVNode$1(n)||isVText$1(n)||isWidget$2(n)))throw new Error("thunk did not return a valid node");return n}function isHook$1(e){return e&&("function"==typeof e.hook&&!e.hasOwnProperty("hook")||"function"==typeof e.unhook&&!e.hasOwnProperty("unhook"))}function diffProps$1(e,t){var n;for(var i in e){i in t||(n=n||{},n[i]=void 0);var r=e[i],o=t[i];if(r!==o)if(isObject$5(r)&&isObject$5(o))if(getPrototype(o)!==getPrototype(r))n=n||{},n[i]=o;else if(isHook(o))n=n||{},n[i]=o;else{var s=diffProps$1(r,o);s&&(n=n||{},n[i]=s)}else n=n||{},n[i]=o}for(var a in t)a in e||(n=n||{},n[a]=t[a]);return n}function getPrototype(e){return Object.getPrototypeOf?Object.getPrototypeOf(e):e.__proto__?e.__proto__:e.constructor?e.constructor.prototype:void 0}function diff$2(e,t){var n={a:e};return walk(e,t,n,0),n}function walk(e,t,n,i){if(e!==t){var r=n[i],o=!1;if(isThunk(e)||isThunk(t))thunks(e,t,n,i);else if(null==t)isWidget(e)||(clearState(e,n,i),r=n[i]),r=appendPatch(r,new VPatch(VPatch.REMOVE,e,t));else if(isVNode(t))if(isVNode(e))if(e.tagName===t.tagName&&e.namespace===t.namespace&&e.key===t.key){var s=diffProps(e.properties,t.properties);s&&(r=appendPatch(r,new VPatch(VPatch.PROPS,e,s))),r=diffChildren(e,t,n,r,i)}else r=appendPatch(r,new VPatch(VPatch.VNODE,e,t)),o=!0;else r=appendPatch(r,new VPatch(VPatch.VNODE,e,t)),o=!0;else isVText(t)?isVText(e)?e.text!==t.text&&(r=appendPatch(r,new VPatch(VPatch.VTEXT,e,t))):(r=appendPatch(r,new VPatch(VPatch.VTEXT,e,t)),o=!0):isWidget(t)&&(isWidget(e)||(o=!0),r=appendPatch(r,new VPatch(VPatch.WIDGET,e,t)));r&&(n[i]=r),o&&clearState(e,n,i)}}function diffChildren(e,t,n,i,r){for(var o=e.children,s=reorder(o,t.children),a=s.children,l=o.length,u=a.length,c=l>u?l:u,p=0;p<c;p++){var h=o[p],d=a[p];r+=1,h?walk(h,d,n,r):d&&(i=appendPatch(i,new VPatch(VPatch.INSERT,null,d))),isVNode(h)&&h.count&&(r+=h.count)}return s.moves&&(i=appendPatch(i,new VPatch(VPatch.ORDER,e,s.moves))),i}function clearState(e,t,n){unhook(e,t,n),destroyWidgets(e,t,n)}function destroyWidgets(e,t,n){if(isWidget(e))"function"==typeof e.destroy&&(t[n]=appendPatch(t[n],new VPatch(VPatch.REMOVE,e,null)));else if(isVNode(e)&&(e.hasWidgets||e.hasThunks))for(var i=e.children,r=i.length,o=0;o<r;o++){var s=i[o];n+=1,destroyWidgets(s,t,n),isVNode(s)&&s.count&&(n+=s.count)}else isThunk(e)&&thunks(e,null,t,n)}function thunks(e,t,n,i){var r=handleThunk(e,t),o=diff$2(r.a,r.b);hasPatches(o)&&(n[i]=new VPatch(VPatch.THUNK,null,o))}function hasPatches(e){for(var t in e)if("a"!==t)return!0;return!1}function unhook(e,t,n){if(isVNode(e)){if(e.hooks&&(t[n]=appendPatch(t[n],new VPatch(VPatch.PROPS,e,undefinedKeys(e.hooks)))),e.descendantHooks||e.hasThunks)for(var i=e.children,r=i.length,o=0;o<r;o++){var s=i[o];n+=1,unhook(s,t,n),isVNode(s)&&s.count&&(n+=s.count)}}else isThunk(e)&&thunks(e,null,t,n)}function undefinedKeys(e){var t={};for(var n in e)t[n]=void 0;return t}function reorder(e,t){var n=keyIndex(t),i=n.keys,r=n.free;if(r.length===t.length)return{children:t,moves:null};var o=keyIndex(e),s=o.keys,a=o.free;if(a.length===e.length)return{children:t,moves:null};for(var l=[],u=0,c=r.length,p=0,h=0;h<e.length;h++){var d,f=e[h];f.key?i.hasOwnProperty(f.key)?(d=i[f.key],l.push(t[d])):(d=h-p++,l.push(null)):u<c?(d=r[u++],l.push(t[d])):(d=h-p++,l.push(null))}for(var m=u>=r.length?t.length:r[u],y=0;y<t.length;y++){var g=t[y];g.key?s.hasOwnProperty(g.key)||l.push(g):y>=m&&l.push(g)}for(var v,C=l.slice(),w=0,T=[],S=[],b=0;b<t.length;){var $=t[b];for(v=C[w];null===v&&C.length;)T.push(remove$3(C,w,null)),v=C[w];v&&v.key===$.key?(w++,b++):$.key?(v&&v.key&&i[v.key]!==b+1?(T.push(remove$3(C,w,v.key)),v=C[w],v&&v.key===$.key?w++:S.push({key:$.key,to:b})):S.push({key:$.key,to:b}),b++):v&&v.key&&T.push(remove$3(C,w,v.key))}for(;w<C.length;)v=C[w],T.push(remove$3(C,w,v&&v.key));return T.length!==p||S.length?{children:l,moves:{removes:T,inserts:S}}:{children:l,moves:null}}function remove$3(e,t,n){return e.splice(t,1),{from:t,key:n}}function keyIndex(e){for(var t={},n=[],i=e.length,r=0;r<i;r++){var o=e[r];o.key?t[o.key]=r:n.push(r)}return{keys:t,free:n}}function appendPatch(e,t){return e?(isArray$3(e)?e.push(t):e=[e,t],e):t}function iterativelyWalk(e,t){"length"in e||(e=[e]),e=slice$1.call(e);for(;e.length;){var n=e.shift(),i=t(n);if(i)return i;n.childNodes&&n.childNodes.length&&(e=slice$1.call(n.childNodes).concat(e))}}function Comment$1(e,t){return this instanceof Comment$1?(this.data=e,this.nodeValue=e,this.length=e.length,void(this.ownerDocument=t||null)):new Comment$1(e,t)}function DOMText$1(e,t){return this instanceof DOMText$1?(this.data=e||"",this.length=this.data.length,void(this.ownerDocument=t||null)):new DOMText$1(e)}function dispatchEvent$2(e){var t=this,n=e.type;e.target||(e.target=t),t.listeners||(t.listeners={});var i=t.listeners[n];return i?i.forEach(function(n){e.currentTarget=t,"function"==typeof n?n(e):n.handleEvent(e)}):void(t.parentNode&&t.parentNode.dispatchEvent(e))}function addEventListener$2(e,t){var n=this;n.listeners||(n.listeners={}),n.listeners[e]||(n.listeners[e]=[]),n.listeners[e].indexOf(t)===-1&&n.listeners[e].push(t)}function removeEventListener$2(e,t){var n=this;if(n.listeners&&n.listeners[e]){var i=n.listeners[e],r=i.indexOf(t);r!==-1&&i.splice(r,1)}}function serializeNode$1(e){switch(e.nodeType){case 3:return escapeText(e.data);case 8:return"<!--"+e.data+"-->";default:return serializeElement(e)}}function serializeElement(e){var t=[],n=e.tagName;return"http://www.w3.org/1999/xhtml"===e.namespaceURI&&(n=n.toLowerCase()),t.push("<"+n+properties(e)+datasetify(e)),voidElements.indexOf(n)>-1?t.push(" />"):(t.push(">"),e.childNodes.length?t.push.apply(t,e.childNodes.map(serializeNode$1)):e.textContent||e.innerText?t.push(escapeText(e.textContent||e.innerText)):e.innerHTML&&t.push(e.innerHTML),t.push("</"+n+">")),t.join("")}function isProperty(e,t){var n=typeof e[t];return"style"===t&&Object.keys(e.style).length>0||e.hasOwnProperty(t)&&("string"===n||"boolean"===n||"number"===n)&&"nodeName"!==t&&"className"!==t&&"tagName"!==t&&"textContent"!==t&&"innerText"!==t&&"namespaceURI"!==t&&"innerHTML"!==t}function stylify(e){if("string"==typeof e)return e;var t="";return Object.keys(e).forEach(function(n){var i=e[n];n=n.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()}),t+=n+":"+i+";"}),t}function datasetify(e){var t=e.dataset,n=[];for(var i in t)n.push({name:"data-"+i,value:t[i]});return n.length?stringify(n):""}function stringify(e){var t=[];return e.forEach(function(e){var n=e.name,i=e.value;"style"===n&&(i=stylify(i)),t.push(n+'="'+escapeAttributeValue(i)+'"')}),t.length?" "+t.join(" "):""}function properties(e){var t=[];for(var n in e)isProperty(e,n)&&t.push({name:n,value:e[n]});for(var i in e._attributes)for(var r in e._attributes[i]){var o=e._attributes[i][r],s=(o.prefix?o.prefix+":":"")+r;t.push({name:s,value:o.value})}return e.className&&t.push({name:"class",value:e.className}),t.length?stringify(t):""}function escapeText(e){var t="";return"string"==typeof e?t=e:e&&(t=e.toString()),t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function escapeAttributeValue(e){return escapeText(e).replace(/"/g,"&quot;")}function DOMElement$1(e,t,n){if(!(this instanceof DOMElement$1))return new DOMElement$1(e);var i=void 0===n?htmlns:n||null;this.tagName=i===htmlns?String(e).toUpperCase():e,this.nodeName=this.tagName,this.className="",this.dataset={},this.childNodes=[],this.parentNode=null,this.style={},this.ownerDocument=t||null,this.namespaceURI=i,this._attributes={},"INPUT"===this.tagName&&(this.type="text")}function DocumentFragment$1(e){return this instanceof DocumentFragment$1?(this.childNodes=[],this.parentNode=null,void(this.ownerDocument=e||null)):new DocumentFragment$1}function Event$1(e){}function Document$1(){return this instanceof Document$1?(this.head=this.createElement("head"),this.body=this.createElement("body"),this.documentElement=this.createElement("html"),this.documentElement.appendChild(this.head),this.documentElement.appendChild(this.body),this.childNodes=[this.documentElement],void(this.nodeType=9)):new Document$1}function applyProperties$1(e,t,n){for(var i in t){var r=t[i];void 0===r?removeProperty(e,i,r,n):isHook$2(r)?(removeProperty(e,i,r,n),r.hook&&r.hook(e,i,n?n[i]:void 0)):isObject$6(r)?patchObject(e,t,n,i,r):e[i]=r}}function removeProperty(e,t,n,i){if(i){var r=i[t];if(isHook$2(r))r.unhook&&r.unhook(e,t,n);else if("attributes"===t)for(var o in r)e.removeAttribute(o);else if("style"===t)for(var s in r)e.style[s]="";else"string"==typeof r?e[t]="":e[t]=null}}function patchObject(e,t,n,i,r){var o=n?n[i]:void 0;if("attributes"!==i){if(o&&isObject$6(o)&&getPrototype$1(o)!==getPrototype$1(r))return void(e[i]=r);isObject$6(e[i])||(e[i]={});var s="style"===i?"":void 0;for(var a in r){var l=r[a];e[i][a]=void 0===l?s:l}}else for(var u in r){var c=r[u];void 0===c?e.removeAttribute(u):e.setAttribute(u,c)}}function getPrototype$1(e){return Object.getPrototypeOf?Object.getPrototypeOf(e):e.__proto__?e.__proto__:e.constructor?e.constructor.prototype:void 0}function createElement(e,t){var n=t?t.document||document$5:document$5,i=t?t.warn:null;if(e=handleThunk$2(e).a,isWidget$3(e))return e.init();if(isVText$2(e))return n.createTextNode(e.text);if(!isVNode$2(e))return i&&i("Item is not a valid virtual dom node",e),null;var r=null===e.namespace?n.createElement(e.tagName):n.createElementNS(e.namespace,e.tagName),o=e.properties;applyProperties(r,o);for(var s=e.children,a=0;a<s.length;a++){var l=createElement(s[a],t);l&&r.appendChild(l)}return r}function domIndex$1(e,t,n,i){return n&&0!==n.length?(n.sort(ascending),recurse(e,t,n,i,0)):{}}function recurse(e,t,n,i,r){if(i=i||{},e){indexInRange(n,r,r)&&(i[r]=e);var o=t.children;if(o)for(var s=e.childNodes,a=0;a<t.children.length;a++){r+=1;var l=o[a]||noChild,u=r+(l.count||0);indexInRange(n,r,u)&&recurse(s[a],l,n,i,r),r=u}}return i}function indexInRange(e,t,n){if(0===e.length)return!1;for(var i,r,o=0,s=e.length-1;o<=s;){if(i=(s+o)/2>>0,r=e[i],o===s)return r>=t&&r<=n;if(r<t)o=i+1;else{if(!(r>n))return!0;s=i-1}}return!1}function ascending(e,t){return e>t?1:-1}function updateWidget$1(e,t){return!(!isWidget$5(e)||!isWidget$5(t))&&("name"in e&&"name"in t?e.id===t.id:e.init===t.init)}function applyPatch$1(e,t,n){var i=e.type,r=e.vNode,o=e.patch;switch(i){case VPatch$1.REMOVE:return removeNode(t,r);case VPatch$1.INSERT:return insertNode(t,o,n);case VPatch$1.VTEXT:return stringPatch(t,r,o,n);case VPatch$1.WIDGET:return widgetPatch(t,r,o,n);case VPatch$1.VNODE:return vNodePatch(t,r,o,n);case VPatch$1.ORDER:return reorderChildren(t,o),t;case VPatch$1.PROPS:return applyProperties$2(t,o,r.properties),t;case VPatch$1.THUNK:return replaceRoot(t,n.patch(t,o,n));default:return t}}function removeNode(e,t){var n=e.parentNode;return n&&n.removeChild(e),destroyWidget(e,t),null}function insertNode(e,t,n){var i=n.render(t,n);return e&&e.appendChild(i),e}function stringPatch(e,t,n,i){var r;if(3===e.nodeType)e.replaceData(0,e.length,n.text),r=e;else{var o=e.parentNode;r=i.render(n,i),o&&r!==e&&o.replaceChild(r,e)}return r}function widgetPatch(e,t,n,i){var r,o=updateWidget(t,n);r=o?n.update(t,e)||e:i.render(n,i);var s=e.parentNode;return s&&r!==e&&s.replaceChild(r,e),o||destroyWidget(e,t),r}function vNodePatch(e,t,n,i){var r=e.parentNode,o=i.render(n,i);return r&&o!==e&&r.replaceChild(o,e),o}function destroyWidget(e,t){"function"==typeof t.destroy&&isWidget$4(t)&&t.destroy(e)}function reorderChildren(e,t){for(var n,i,r,o=e.childNodes,s={},a=0;a<t.removes.length;a++)i=t.removes[a],n=o[i.from],i.key&&(s[i.key]=n),e.removeChild(n);for(var l=o.length,u=0;u<t.inserts.length;u++)r=t.inserts[u],n=s[r.key],e.insertBefore(n,r.to>=l++?null:o[r.to])}function replaceRoot(e,t){return e&&t&&e!==t&&e.parentNode&&e.parentNode.replaceChild(t,e),t}function patch$2(e,t,n){return n=n||{},n.patch=n.patch&&n.patch!==patch$2?n.patch:patchRecursive,n.render=n.render||render$1,n.patch(e,t,n)}function patchRecursive(e,t,n){var i=patchIndices(t);if(0===i.length)return e;var r=domIndex(e,t.a,i),o=e.ownerDocument;n.document||o===document$2||(n.document=o);for(var s=0;s<i.length;s++){var a=i[s];e=applyPatch(e,r[a],t[a],n)}return e}function applyPatch(e,t,n,i){if(!t)return e;var r;if(isArray$5(n))for(var o=0;o<n.length;o++)r=patchOp(n[o],t,i),t===e&&(e=r);else r=patchOp(n,t,i),t===e&&(e=r);return e}function patchIndices(e){var t=[];for(var n in e)"a"!==n&&t.push(Number(n));return t}function VirtualNode(e,t,n,i,r){this.tagName=e,this.properties=t||noProperties,this.children=n||noChildren,this.key=null!=i?String(i):void 0,this.namespace="string"==typeof r?r:null;var o,s=n&&n.length||0,a=0,l=!1,u=!1,c=!1;for(var p in t)if(t.hasOwnProperty(p)){var h=t[p];isVHook(h)&&h.unhook&&(o||(o={}),o[p]=h)}for(var d=0;d<s;d++){var f=n[d];isVNode$4(f)?(a+=f.count||0,!l&&f.hasWidgets&&(l=!0),!u&&f.hasThunks&&(u=!0),c||!f.hooks&&!f.descendantHooks||(c=!0)):!l&&isWidget$7(f)?"function"==typeof f.destroy&&(l=!0):!u&&isThunk$3(f)&&(u=!0)}this.count=s+a,this.hasWidgets=l,this.hasThunks=u,this.hooks=o,this.descendantHooks=c}function VirtualText(e){this.text=String(e)}function parseTag$1(e,t){if(!e)return"DIV";var n=!t.hasOwnProperty("id"),i=split$2(e,classIdSplit),r=null;notClassId.test(i[1])&&(r="DIV");var o,s,a,l;for(l=0;l<i.length;l++)s=i[l],s&&(a=s.charAt(0),r?"."===a?(o=o||[],o.push(s.substring(1,s.length))):"#"===a&&n&&(t.id=s.substring(1,s.length)):r=s);return o&&(t.className&&o.push(t.className),t.className=o.join(" ")),t.namespace?r:r.toUpperCase()}function SoftSetHook(e){return this instanceof SoftSetHook?void(this.value=e):new SoftSetHook(e)}function Individual$1(e,t){return e in root?root[e]:(root[e]=t,t)}function OneVersion(e,t,n){var i="__INDIVIDUAL_ONE_VERSION_"+e,r=i+"_ENFORCE_SINGLETON",o=Individual(r,t);if(o!==t)throw new Error("Can only have one copy of "+e+".\nYou already have version "+o+" installed.\nThis means you cannot install version "+t);return Individual(i,n)}function EvStore$1(e){var t=e[hashKey];return t||(t=e[hashKey]={}),t}function EvHook(e){return this instanceof EvHook?void(this.value=e):new EvHook(e)}function h$3(e,t,n){var i,r,o,s,a=[];return!n&&isChildren(t)&&(n=t,r={}),r=r||t||{},i=parseTag(e,r),r.hasOwnProperty("key")&&(o=r.key,r.key=void 0),r.hasOwnProperty("namespace")&&(s=r.namespace,r.namespace=void 0),"INPUT"!==i||s||!r.hasOwnProperty("value")||void 0===r.value||isHook$3(r.value)||(r.value=softSetHook(r.value)),transformProperties(r),void 0!==n&&null!==n&&addChild(n,a,i,r),new VNode$1(i,r,a,o,s)}function addChild(e,t,n,i){if("string"==typeof e)t.push(new VText$1(e));else if("number"==typeof e)t.push(new VText$1(String(e)));else if(isChild(e))t.push(e);else{if(!isArray$6(e)){if(null===e||void 0===e)return;throw UnexpectedVirtualElement({foreignObject:e,parentVnode:{tagName:n,properties:i}})}for(var r=0;r<e.length;r++)addChild(e[r],t,n,i)}}function transformProperties(e){for(var t in e)if(e.hasOwnProperty(t)){var n=e[t];if(isHook$3(n))continue;"ev-"===t.substr(0,3)&&(e[t]=evHook(n))}}function isChild(e){return isVNode$3(e)||isVText$3(e)||isWidget$6(e)||isVThunk(e)}function isChildren(e){return"string"==typeof e||isArray$6(e)||isChild(e)}function UnexpectedVirtualElement(e){var t=new Error;return t.type="virtual-hyperscript.unexpected.virtual-element",t.message="Unexpected virtual child passed to h().\nExpected a VNode / Vthunk / VWidget / string but:\ngot:\n"+errorString(e.foreignObject)+".\nThe parent vnode is:\n"+errorString(e.parentVnode),t.foreignObject=e.foreignObject,t.parentVnode=e.parentVnode,t}function errorString(e){try{return JSON.stringify(e,null,"    ")}catch(t){return String(e)}}function add$5(e,t){t.Subscribe(new Observer(e))}function createTree(e,t,n,i){var r=[],o=[],s=!0,a=!1,l=void 0;try{for(var u,c=_getIterator(n);!(s=(u=c.next()).done);s=!0){var p=u.value,h=[p[0],p[1]];if("Property"===h[1].Case){var d=h[1].Fields[0];o.push([h[0],d])}else if("Event"===h[1].Case)!function(){var e=h[1].Fields[0];o.push(["on"+h[0],function(t){e(t.target)(event)}])}();else{var f=h[1].Fields[0];r.push([h[0],f])}}}catch(e){a=!0,l=e}finally{try{!s&&c.return&&c.return()}finally{if(a)throw l}}var m=createObj(r),y=null==e||""===e?new List$2:ofArray([["namespace",e]]),g=createObj(append$1(append$$1(y,ofArray([["attributes",m]])),o)),v=h$1(t,g,i);return v}function renderVirtual(e){if("Element"===e.Case){if(null==e.Fields[4])return createTree(e.Fields[0],e.Fields[1],e.Fields[2],e.Fields[3].map(function(e){return renderVirtual(e)}));throw new Error("renderVirtual: Does not support elements with after-render handlers")}if("Delayed"!==e.Case){if("Part"===e.Case)throw new Error("renderVirtual: Does not support parts");return e.Fields[0]}var t=function(){counter+=1;var t=fsFormat("delayed_%d")(function(e){return e})(counter),n=function n(i){return function(r){null!=r.parentElement?(r.dataset.renderedSymbol=e.Fields[0],r.id=t,e.Fields[2](t)):i>0?window.setTimeout(function(){n(i-1)(r)},1):Log.error("html","Delayed element was not created in time")}},i=function(){};i.prototype.hook=function(t,i,r){t.dataset.renderedSymbol!==e.Fields[0]&&n(10)(t)};var r=new i;return{v:createTree(null,"div",ofArray([["renderhk",new DomAttribute("Property",[r])]]),[renderVirtual(e.Fields[1])])}}();if("object"===("undefined"==typeof t?"undefined":_typeof(t)))return t.v}function render(e){if("Delayed"===e.Case){var t=function(){counter+=1;var t=document.createElement("div");return t.id=fsFormat("delayed_%d")(function(e){return e})(counter),{v:[t,function(){e.Fields[2](t.id)}]}}();if("object"===("undefined"==typeof t?"undefined":_typeof(t)))return t.v}else if("Part"===e.Case){var n=function(){var t=document.createElement("div");return{v:[t,function(){e.Fields[0](t)}]}}();if("object"===("undefined"==typeof n?"undefined":_typeof(n)))return n.v}else{if("Element"!==e.Case)return[document.createTextNode(e.Fields[0]),function(){}];var i=function(){for(var t=null==e.Fields[0]||""===e.Fields[0]?document.createElement(e.Fields[1]):document.createElementNS(e.Fields[0],e.Fields[1]),n=e.Fields[3].map(function(e){return render(e)}),i=0;i<=n.length-1;i++){var r=n[i];t.appendChild(r[0])}for(var o=function(n){var i=e.Fields[2][n];"Attribute"===i[1].Case?t.setAttribute(i[0],i[1].Fields[0]):"Event"===i[1].Case?t.addEventListener(i[0],function(e){i[1].Fields[0](t)(e)}):t[i[0]]=i[1].Fields[0]},s=0;s<=e.Fields[2].length-1;s++)o(s);var a=function(){for(var i=0;i<=n.length-1;i++){var r=n[i];r[1](null)}iterate$1(function(e){e(t)},defaultArg(e.Fields[4],[],function(e){return[e]}))};return{v:[t,a]}}();if("object"===("undefined"==typeof i?"undefined":_typeof(i)))return i.v}}function renderTo(e,t){for(;null!=e.lastChild;)e.removeChild(e.lastChild);var n=render(t);e.appendChild(n[0]),n[1](null)}function text(e){return new DomNode("Text",[e])}function op_EqualsGreater(e,t){return[e,new DomAttribute("Attribute",[t])]}function op_EqualsBangGreater(e,t){return[e,new DomAttribute("Event",[t])]}function listsEqual(e,t,n){var i=[e,t],r=null!=i[0].tail?null!=i[1].tail&&function(){var e=(i[1].tail,i[1].head),t=(i[0].tail,i[0].head);return n(t)(e)}()?[1,i[0].head,i[0].tail,i[1].head,i[1].tail]:[2]:null==i[1].tail?[0]:[2];switch(r[0]){case 0:return!0;case 1:return listsEqual(r[2],r[4],n);case 2:return!1}}function arraysEqual(e,t,n){var i=function(i){e:for(;;){if(i===e.length&&i===t.length)return!0;if(i<e.length&&i<t.length){if(n(e[i])(t[i])){i+=1;continue e}return!1}return!1}};return i(0)}function memberNamesEqual(e,t){var n=[e,t],i="Method"===n[0].Case?"Method"===n[1].Case?[0,n[0].Fields[0],n[1].Fields[0]]:[1]:"Property"===n[1].Case?[0,n[0].Fields[0],n[1].Fields[0]]:[1];switch(i[0]){case 0:return i[1]===i[2];case 1:return!1}}function _BoundTypeVariables_(e){return"Forall"===e.Case?[e.Fields[0],e]:[new List$2,e]}function membersEqual(e,t,n){var i=[t,n],r=void 0;if("Method"===i[0].Case){var o=_BoundTypeVariables_(i[0].Fields[2]);if("Method"===i[1].Case){var s=_BoundTypeVariables_(i[1].Fields[2]);r=[1,i[0].Fields[1],i[1].Fields[1],i[0].Fields[0],i[1].Fields[0],o[1],s[1],o[0],s[0]]}else r=[2]}else r="Property"===i[1].Case?[0,i[0].Fields[0],i[1].Fields[0],i[0].Fields[1],i[1].Fields[1]]:[2];var a=function(){switch(r[0]){case 0:return r[1]===r[2]?{v:typesEqualAux(e,r[3],r[4])}:{v:!1};case 1:var t=new TypeContext(append$$1(toList(zip(r[7],r[8])),e.EquivalentVars));return r[3]===r[4]&&typesEqualAux(t,r[5],r[6])?{v:listsEqual(r[1],r[2],function(e){return function(n){return e[0]===n[0]&&e[1]===n[1]&&typesEqualAux(t,e[2],n[2])}})}:{v:!1};case 2:return{v:!1}}}();if("object"===("undefined"==typeof a?"undefined":_typeof(a)))return a.v}function typesEqualAux(e,t,n){var i=function(){var i=[t,n],r="Any"===i[0].Case?[0]:"Parameter"===i[0].Case?"Any"===i[1].Case?[0]:"Parameter"===i[1].Case?[1,i[0].Fields[0],i[1].Fields[0]]:[8]:"Delayed"===i[0].Case?"Any"===i[1].Case?[0]:"Delayed"===i[1].Case?[2,i[0].Fields[0],i[1].Fields[0]]:[8]:"List"===i[0].Case?"Any"===i[1].Case?[0]:"List"===i[1].Case?[3,i[0].Fields[0],i[1].Fields[0]]:[8]:"Function"===i[0].Case?"Any"===i[1].Case?[0]:"Function"===i[1].Case?[4,i[0].Fields[0],i[1].Fields[0],i[0].Fields[1],i[1].Fields[1]]:[8]:"Object"===i[0].Case?"Any"===i[1].Case?[0]:"Object"===i[1].Case?[5,i[0].Fields[0],i[1].Fields[0]]:[8]:"Primitive"===i[0].Case?"Any"===i[1].Case?[0]:"Primitive"===i[1].Case?[6,i[0].Fields[0],i[1].Fields[0]]:[8]:"Forall"===i[0].Case?"Any"===i[1].Case?[0]:"Forall"===i[1].Case&&function(){var e=i[1].Fields[0],t=i[0].Fields[0];i[1].Fields[1],i[0].Fields[1];return t.length===e.length}()?[7,i[0].Fields[1],i[1].Fields[1],i[0].Fields[0],i[1].Fields[0]]:[8]:"Any"===i[1].Case?[0]:[8];switch(r[0]){case 0:return{v:!0};case 1:return{v:exists$1(function(e){return e[0]===r[1]&&e[1]===r[2]},e.EquivalentVars)};case 2:return{v:r[1]===r[2]};case 3:return e=e,t=r[1],n=r[2],"continue|typesEqualAux";case 4:return{v:listsEqual(new List$2(r[3],r[1]),new List$2(r[4],r[2]),function(t){return function(n){return typesEqualAux(e,t,n)}})};case 5:return{v:arraysEqual(r[1].Members,r[2].Members,function(t){return function(n){return membersEqual(e,t,n)}})};case 6:return{v:r[1].Equals(r[2])};case 7:var o=new TypeContext(append$$1(toList(zip(r[3],r[4])),e.EquivalentVars));return e=o,t=r[1],n=r[2],"continue|typesEqualAux";case 8:var s="App"===i[0].Case&&"App"===i[1].Case&&function(){var e=i[1].Fields[1],t=i[0].Fields[1];i[1].Fields[0],i[0].Fields[0];return t.length===e.length}()?[0,i[0].Fields[0],i[1].Fields[0],i[0].Fields[1],i[1].Fields[1]]:[1];switch(s[0]){case 0:return{v:forAll$1(function(t){return typesEqualAux(e,t[0],t[1])},new List$2([s[1],s[2]],toList(zip(s[3],s[4]))))};case 1:return{v:!1}}}};e:for(;;){var r=i();switch(r){case"continue|typesEqualAux":continue e;default:if("object"===("undefined"==typeof r?"undefined":_typeof(r)))return r.v}}}function substituteMembers(e,t){return t.map(function(t){if("Property"===t.Case)return new Member("Property",[t.Fields[0],substituteTypes(e,t.Fields[1]),t.Fields[2],t.Fields[3]]);var n=function(){var n=_BoundTypeVariables_(t.Fields[2]),i=function(){var t=function(e){return function(t){return remove$1(t,e)}};return function(n){return fold$1(function(e,n){return t(e)(n)},e,n)}}()(n[0]),r=map$4(function(e){return[e[0],e[1],substituteTypes(i,e[2])]},t.Fields[1]);return{v:new Member("Method",[t.Fields[0],r,substituteTypes(i,n[1]),t.Fields[3],t.Fields[4]])}}();return"object"===("undefined"==typeof n?"undefined":_typeof(n))?n.v:void 0})}function substituteTypes(e,t){var n="Parameter"===t.Case&&e.has(t.Fields[0])?[0,t.Fields[0]]:[1];switch(n[0]){case 0:return e.get(n[1]);case 1:var i="Any"===t.Case?[0]:"Primitive"===t.Case?[0]:"Function"===t.Case?[1]:"List"===t.Case?[2]:"Object"===t.Case?[3]:"Delayed"===t.Case?[4]:"App"===t.Case?[5]:"Forall"===t.Case?[6]:[0];switch(i[0]){case 0:return t;case 1:return new Type("Function",[map$4(function(t){return substituteTypes(e,t)},t.Fields[0]),substituteTypes(e,t.Fields[1])]);case 2:return new Type("List",[substituteTypes(e,t.Fields[0])]);case 3:return new Type("Object",[new ObjectType(substituteMembers(e,t.Fields[0].Members))]);case 4:var r=_defineProperty({Then:function(n){t.Fields[1].Then(function(t){n(substituteTypes(e,t))})}},_Symbol.reflection,function(){return{interfaces:["TheGamma.Common.Future"]}});return new Type("Delayed",[t.Fields[0],r]);case 5:return new Type("App",[substituteTypes(e,t.Fields[0]),map$4(function(t){return substituteTypes(e,t)},t.Fields[1])]);case 6:var o=function(){var t=function(e){return function(t){return remove$1(t,e)}};return function(n){return fold$1(function(e,n){return t(e)(n)},e,n)}}()(t.Fields[0]);return new Type("Forall",[t.Fields[0],substituteTypes(o,t.Fields[1])])}}}function unifyTypesAux(e,t,n){var i=function(){var i=[t,n],r=null!=i[0].tail&&"Parameter"===i[0].head.Case&&null!=i[1].tail&&function(){var t=(i[1].tail,i[0].tail,i[1].head),n=i[0].head.Fields[0];return!!e.FreeVars.has(n)&&"Parameter"!==t.Case}()?[0,i[0].head.Fields[0],i[1].head,i[0].tail,i[1].tail]:[1];switch(r[0]){case 0:return e=function(){var t=new List$2([r[1],r[2]],e.Assignments);return new UnifictionContext(e.FreeVars,t,e.EquivalentVars,e.Errors)}(),t=r[3],n=r[4],"continue|unifyTypesAux";case 1:var o=null!=i[0].tail?"Function"===i[0].head.Case?null!=i[1].tail&&"Function"===i[1].head.Case?[0,i[0].head.Fields[0],i[1].head.Fields[0],i[0].head.Fields[1],i[1].head.Fields[1],i[0].tail,i[1].tail]:[2]:"Object"===i[0].head.Case&&null!=i[1].tail&&"Object"===i[1].head.Case&&function(){var e=(i[1].tail,i[0].tail,i[1].head.Fields[0].Members),t=i[0].head.Fields[0].Members;return arraysEqual(t,e,function(e){return function(t){return memberNamesEqual(e,t)}})}()?[1,i[0].head.Fields[0].Members,i[1].head.Fields[0].Members,i[0].tail,i[1].tail]:[2]:[2];switch(o[0]){case 0:return e=e,t=append$$1(new List$2(o[3],o[1]),o[5]),n=append$$1(new List$2(o[4],o[2]),o[6]),"continue|unifyTypesAux";case 1:return e=e,t=o[3],n=o[4],"continue|unifyTypesAux";case 2:var s=null!=i[0].tail?"List"===i[0].head.Case?null!=i[1].tail&&"List"===i[1].head.Case?[0,i[0].head.Fields[0],i[1].head.Fields[0],i[0].tail,i[1].tail]:[2]:"Forall"===i[0].head.Case&&null!=i[1].tail&&"Forall"===i[1].head.Case&&function(){var e=i[1].head.Fields[0],t=i[0].head.Fields[0];i[1].tail,i[0].tail,i[1].head.Fields[1],i[0].head.Fields[1];return t.length===e.length}()?[1,i[0].head.Fields[1],i[1].head.Fields[1],i[0].tail,i[1].tail,i[0].head.Fields[0],i[1].head.Fields[0]]:[2]:[2];switch(s[0]){case 0:return e=e,t=new List$2(s[1],s[3]),n=new List$2(s[2],s[4]),"continue|unifyTypesAux";case 1:var a=void 0,l=append$$1(toList(zip(s[5],s[6])),e.EquivalentVars);return a=new UnifictionContext(e.FreeVars,e.Assignments,l,e.Errors),e=a,t=new List$2(s[1],s[3]),n=new List$2(s[2],s[4]),"continue|unifyTypesAux";case 2:var u=null!=i[0].tail&&"App"===i[0].head.Case&&null!=i[1].tail&&"App"===i[1].head.Case&&function(){var e=(i[1].tail,i[0].tail,i[1].head.Fields[1]),t=i[0].head.Fields[1];i[1].head.Fields[0],i[0].head.Fields[0];return t.length===e.length}()?[0,i[0].head.Fields[0],i[1].head.Fields[0],i[0].head.Fields[1],i[1].head.Fields[1],i[0].tail,i[1].tail]:[1];switch(u[0]){case 0:return e=e,t=new List$2(u[1],append$$1(u[3],u[5])),n=new List$2(u[2],append$$1(u[4],u[6])),"continue|unifyTypesAux";case 1:var c=null!=i[0].tail&&null!=i[1].tail&&function(){var t=(i[1].tail,i[0].tail,i[1].head),n=i[0].head;return typesEqualAux(new TypeContext(e.EquivalentVars),n,t)}()?[0,i[0].head,i[1].head,i[0].tail,i[1].tail]:[1],p=function(){switch(c[0]){case 0:return e=e,t=c[3],n=c[4],{v:"continue|unifyTypesAux"};case 1:var r=null==i[0].tail?null==i[1].tail?[1]:[2]:null!=i[1].tail?[0,i[0].head,i[1].head,i[0].tail,i[1].tail]:[2];switch(r[0]){case 0:return e=function(){var t=new List$2([r[1],r[2]],e.Errors);return new UnifictionContext(e.FreeVars,e.Assignments,e.EquivalentVars,t)}(),t=r[3],n=r[4],{v:"continue|unifyTypesAux"};case 1:return{v:{v:e}};case 2:throw new Error("unifyTypesAux: The lists of types had mismatching lengths")}}}();if("object"===("undefined"==typeof p?"undefined":_typeof(p)))return p.v}}}}};e:for(;;){var r=i();switch(r){case"continue|unifyTypesAux":continue e;default:if("object"===("undefined"==typeof r?"undefined":_typeof(r)))return r.v}}}function unifyTypes(e,t,n){var i=new UnifictionContext(create$2(e,new GenericComparer(compare)),new List$2,new List$2,new List$2),r=unifyTypesAux(i,ofArray([t]),ofArray([n]));return[r.Assignments,r.Errors]}function reduceType(e){e:for(;;){var t="App"===e.Case&&"Forall"===e.Fields[0].Case?[0,e.Fields[1],e.Fields[0].Fields[1],e.Fields[0].Fields[0]]:[1];switch(t[0]){case 0:if(t[3].length!==t[1].length)throw new Error("reduceType: Invalid type application");var n=substituteTypes(create$3(toList(zip(t[3],t[1])),new GenericComparer(compare)),t[2]);e=n;continue e;case 1:return e}}}function node(e,t){var n=null,i=new List$2,r=new List$2;return new _Node(i,r,e,t,n)}function needsEscaping(e){return e[0]>="0"&&e[0]<="9"||e.split("").some(function(e){return!(e>="a"&&e<="z"||e>="A"&&e<="Z"||e>="0"&&e<="9")})}function escapeIdent(e){return needsEscaping(e)?"'"+e+"'":e}function unionRanges(e,t){return new _Range(e.Start<t.Start?e.Start:t.Start,e.End>t.End?e.End:t.End)}function strictSubRange(e,t){return e.Start>t.Start&&e.End<=t.End||e.Start>=t.Start&&e.End<t.End}function formatToken(e){var t="RParen"===e.Case?[1]:"Equals"===e.Case?[2]:"Dot"===e.Case?[3]:"Comma"===e.Case?[4]:"Let"===e.Case?[5]:"LSquare"===e.Case?[6]:"RSquare"===e.Case?[7]:"Fun"===e.Case?[8]:"Arrow"===e.Case?[9]:"Operator"===e.Case?"GreaterThan"===e.Fields[0].Case?[11]:"GreaterThanOrEqual"===e.Fields[0].Case?[12]:"LessThan"===e.Fields[0].Case?[13]:"LessThanOrEqual"===e.Fields[0].Case?[14]:"Minus"===e.Fields[0].Case?[15]:"Multiply"===e.Fields[0].Case?[16]:"Plus"===e.Fields[0].Case?[17]:"Power"===e.Fields[0].Case?[18]:"Equals"===e.Fields[0].Case?[19]:[10]:"Boolean"===e.Case?e.Fields[0]?[20]:[21]:"Number"===e.Case?[22,e.Fields[0]]:"String"===e.Case?[23,e.Fields[0]]:"Ident"===e.Case?[24,e.Fields[0]]:"QIdent"===e.Case?[25,e.Fields[0]]:"White"===e.Case?[26,e.Fields[0]]:"Newline"===e.Case?[27]:"Error"===e.Case?[28,e.Fields[0]]:"EndOfFile"===e.Case?[29]:"By"===e.Case?[30]:"To"===e.Case?[30]:[0];switch(t[0]){case 0:return"(";case 1:return")";case 2:return"=";case 3:return".";case 4:return",";case 5:return"let";case 6:return"[";case 7:return"]";case 8:return"fun";case 9:return"->";case 10:return"/";case 11:return">";case 12:return">=";case 13:return"<";case 14:return"<=";case 15:return"-";case 16:return"*";case 17:return"+";case 18:return"^";case 19:return"=";case 20:return"true";case 21:return"false";case 22:return t[1];case 23:return'"'+replace$$1(replace$$1(replace$$1(t[1],"\\","\\\\"),"\n","\\n"),'"','\\"')+'"';case 24:
return t[1];case 25:return"'"+t[1]+"'";case 26:return t[1];case 27:return"\n";case 28:return t[1];case 29:return"";case 30:throw new Error("Unsupported token")}}function formatTokenInfo(e){var t="RParen"===e.Case?[1]:"Equals"===e.Case?[2]:"Dot"===e.Case?[3]:"Comma"===e.Case?[4]:"Let"===e.Case?[5]:"LSquare"===e.Case?[6]:"RSquare"===e.Case?[7]:"Fun"===e.Case?[8]:"Arrow"===e.Case?[9]:"Operator"===e.Case?"Divide"===e.Fields[0].Case?[11]:"GreaterThan"===e.Fields[0].Case?[12]:"GreaterThanOrEqual"===e.Fields[0].Case?[13]:"LessThan"===e.Fields[0].Case?[14]:"LessThanOrEqual"===e.Fields[0].Case?[15]:"Minus"===e.Fields[0].Case?[16]:"Multiply"===e.Fields[0].Case?[17]:"Plus"===e.Fields[0].Case?[18]:"Power"===e.Fields[0].Case?[19]:[10]:"Boolean"===e.Case?e.Fields[0]?[20]:[21]:"Number"===e.Case?[22,e.Fields[0]]:"String"===e.Case?[23,e.Fields[0]]:"Ident"===e.Case?[24,e.Fields[0]]:"QIdent"===e.Case?[25,e.Fields[0]]:"White"===e.Case?[26,e.Fields[0]]:"Newline"===e.Case?[27]:"Error"===e.Case?"`"===e.Fields[0]?[28]:[29,e.Fields[0]]:"EndOfFile"===e.Case?[30]:"By"===e.Case?[31]:"To"===e.Case?[31]:[0];switch(t[0]){case 0:return"left parenthesis `(`";case 1:return"right parenthesis `)`";case 2:return"equals sign `=`";case 3:return"dot character `.`";case 4:return"comma character `,`";case 5:return"`let` keyword";case 6:return"left square bracket `[`";case 7:return"right square bracket `]`";case 8:return"`fun` keyword";case 9:return"arrow sign `->`";case 10:return"equals operator `=`";case 11:return"division sign `/`";case 12:return"greater than sign `>`";case 13:return"greater than or equals sign `>=`";case 14:return"less than sign `<`";case 15:return"less than or equals sign `<=`";case 16:return"minus sign `-`";case 17:return"multiplication sign `*`";case 18:return"plus sign `+`";case 19:return"exponentiation sign `^`";case 20:return"logical `true` value";case 21:return"logical `false` value";case 22:return fsFormat("numerical value `%s`")(function(e){return e})(t[1]);case 23:return fsFormat("string value `%s`")(function(e){return e})(replace$$1(t[1],"`","'"));case 24:return fsFormat("identifer `%s`")(function(e){return e})(t[1]);case 25:return fsFormat("quoted identifer `'%s'`")(function(e){return e})(t[1]);case 26:return"whitespace";case 27:return"end of line";case 28:return"back-tick character";case 29:return fsFormat("other character `%s`")(function(e){return e})(t[1]);case 30:return"end of file";case 31:throw new Error("Unsupported token")}}function formatNode(e,t,n){var i=!0,r=!1,o=void 0;try{for(var s,a=_getIterator(n.WhiteBefore);!(i=(s=a.next()).done);i=!0){var l=s.value;e.Add(l.Token)}}catch(e){r=!0,o=e}finally{try{!i&&a.return&&a.return()}finally{if(r)throw o}}t(e)(n.Node);var u=!0,c=!1,p=void 0;try{for(var h,d=_getIterator(n.WhiteAfter);!(u=(h=d.next()).done);u=!0){var f=h.value;e.Add(f.Token)}}catch(e){c=!0,p=e}finally{try{!u&&d.return&&d.return()}finally{if(c)throw p}}}function formatName(e,t){""===t.Name||(needsEscaping(t.Name)?e.Add(new TokenKind("QIdent",[t.Name])):e.Add(new TokenKind("Ident",[t.Name])))}function formatArgument(e,t){null!=t.Name&&(formatNode(e,function(e){return function(t){formatName(e,t)}},t.Name),e.Add(new TokenKind("Equals",[]))),formatNode(e,function(e){return function(t){formatExpression(e,t)}},t.Value)}function formatExpression(e,t){if("Property"===t.Case)formatNode(e,function(e){return function(t){formatExpression(e,t)}},t.Fields[0]),e.Add(new TokenKind("Dot",[])),formatNode(e,function(e){return function(t){formatName(e,t)}},t.Fields[1]);else if("Call"===t.Case)null!=t.Fields[0]&&formatNode(e,function(e){return function(t){formatExpression(e,t)}},t.Fields[0]),e.Add(new TokenKind("Dot",[])),formatNode(e,function(e){return function(t){formatName(e,t)}},t.Fields[1]),e.Add(new TokenKind("LParen",[])),function(){var t=function(e){return function(t){iterateIndexed(function(t,n){0!==t&&e.Add(new TokenKind("Comma",[])),formatArgument(e,n)},t)}};return function(n){formatNode(e,t,n)}}()(t.Fields[2]),e.Add(new TokenKind("RParen",[]));else if("String"===t.Case)e.Add(new TokenKind("String",[t.Fields[0]]));else if("Number"===t.Case)e.Add(new TokenKind("Number",[String(t.Fields[0]),t.Fields[0]]));else if("Boolean"===t.Case)e.Add(new TokenKind("Boolean",[t.Fields[0]]));else if("Binary"===t.Case)formatNode(e,function(e){return function(t){formatExpression(e,t)}},t.Fields[0]),function(){var t=function(e){return function(t){e.Add(new TokenKind("Operator",[t]))}};return function(n){formatNode(e,t,n)}}()(t.Fields[1]),formatNode(e,function(e){return function(t){formatExpression(e,t)}},t.Fields[2]);else if("Function"===t.Case)e.Add(new TokenKind("Fun",[])),formatNode(e,function(e){return function(t){formatName(e,t)}},t.Fields[0]),e.Add(new TokenKind("Arrow",[])),formatNode(e,function(e){return function(t){formatExpression(e,t)}},t.Fields[1]);else if("List"===t.Case){e.Add(new TokenKind("LSquare",[]));var n=!0,i=!1,r=void 0;try{for(var o,s=_getIterator(t.Fields[0]);!(n=(o=s.next()).done);n=!0){var a=o.value;formatNode(e,function(e){return function(t){formatExpression(e,t)}},a)}}catch(e){i=!0,r=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw r}}e.Add(new TokenKind("RSquare",[]))}else"Empty"===t.Case||formatNode(e,function(e){return function(t){formatName(e,t)}},t.Fields[0])}function formatSingleExpression(e){var t=new FormattingContext([]);return formatNode(t,function(e){return function(t){formatExpression(e,t)}},e),join("",t.Strings)}function formatWhiteAfterExpr(e){var t=void 0,n="Variable"===e.Node.Case?[0,e.Node.Fields[0]]:"Property"===e.Node.Case?[0,e.Node.Fields[1]]:[1];switch(n[0]){case 0:t=append$$1(n[1].WhiteAfter,e.WhiteAfter);break;case 1:t=e.WhiteAfter}return join("",toList(delay(function(){return map$5(function(e){return formatToken(e.Token)},t)})))}function formatWhiteBeforeExpr(e){var t=void 0,n="Variable"===e.Node.Case?[0]:"Call"===e.Node.Case?[1,e.Node.Fields[1]]:"Property"===e.Node.Case?[1,e.Node.Fields[1]]:[2];switch(n[0]){case 0:t=append$$1(e.WhiteBefore,e.Node.Fields[0].WhiteBefore);break;case 1:t=n[1].WhiteBefore;break;case 2:t=e.WhiteBefore}return join("",toList(delay(function(){return map$5(function(e){return formatToken(e.Token)},t)})))}function formatEntityKind(e){return"Variable"===e.Case?"variable":"Binding"===e.Case?"binding":"Operator"===e.Case?formatToken(new TokenKind("Operator",[e.Fields[1]]))+" operator":"List"===e.Case?"list":"Constant"===e.Case?"Number"===e.Fields[0].Case?fsFormat("number `%f`")(function(e){return e})(e.Fields[0].Fields[0]):"String"===e.Fields[0].Case?fsFormat("string `%s`")(function(e){return e})(e.Fields[0].Fields[0]):"Boolean"===e.Fields[0].Case?e.Fields[0].Fields[0]?"`true` value":"`false` value":"empty value":"Function"===e.Case?"function":"LetCommand"===e.Case?"let command":"RunCommand"===e.Case?"run command":"Program"===e.Case?"program":"Root"===e.Case?"root":"CallSite"===e.Case?"call site":"NamedParam"===e.Case?"named param":"ChainElement"===e.Case?"chain element":"ArgumentList"===e.Case?"argument list":"NamedMember"===e.Case?"property or method":"global value"}function entityCodeNameAndAntecedents(e){return"Program"===e.Case?[1,e.Fields[0],anonymous]:"RunCommand"===e.Case?[2,ofArray([e.Fields[0]]),anonymous]:"LetCommand"===e.Case?[3,ofArray([e.Fields[0],e.Fields[1]]),anonymous]:"Operator"===e.Case?[4,ofArray([e.Fields[0],e.Fields[2]]),formatToken(new TokenKind("Operator",[e.Fields[1]]))]:"List"===e.Case?[5,e.Fields[0],anonymous]:"Constant"===e.Case?"Number"===e.Fields[0].Case?[7,new List$2,String(e.Fields[0].Fields[0])]:"Boolean"===e.Fields[0].Case?[8,new List$2,String(e.Fields[0].Fields[0])]:"Empty"===e.Fields[0].Case?[9,new List$2,anonymous]:[6,new List$2,e.Fields[0].Fields[0]]:"Function"===e.Case?[10,ofArray([e.Fields[0],e.Fields[1]]),anonymous]:"GlobalValue"===e.Case?[11,new List$2,e.Fields[0].Name]:"Variable"===e.Case?[12,ofArray([e.Fields[1]]),e.Fields[0].Name]:"Binding"===e.Case?[13,ofArray([e.Fields[1]]),e.Fields[0].Name]:"ArgumentList"===e.Case?[14,e.Fields[0],anonymous]:"CallSite"===e.Case?"Choice2Of2"===e.Fields[2].Case?[16,ofArray([e.Fields[0]]),e.Fields[1].Name+"."+String(e.Fields[2].Fields[0])]:[15,ofArray([e.Fields[0]]),e.Fields[1].Name+"."+e.Fields[2].Fields[0]]:"NamedParam"===e.Case?[17,ofArray([e.Fields[1]]),e.Fields[0].Name]:"NamedMember"===e.Case?[18,ofArray([e.Fields[1]]),e.Fields[0].Name]:"ChainElement"===e.Case?[19,choose$$1(function(e){return e},ofArray([e.Fields[2],e.Fields[3],e.Fields[4]])),e.Fields[1].Name+"."+String(e.Fields[0])]:[0,new List$2,anonymous]}function Entity_get_Antecedents(){var e=entityCodeNameAndAntecedents(this.Kind);return e[1]}function Entity_get_Name(){var e=entityCodeNameAndAntecedents(this.Kind);return e[2]}function formatTypeInfo(e){return"Parameter"===e.Case?"unresolved type parameter":"App"===e.Case?"unresolved type application":"Delayed"===e.Case?"delayed type":"Primitive"===e.Case?"Number"===e.Fields[0].Case?"number":"String"===e.Fields[0].Case?"string":"Unit"===e.Fields[0].Case?"unit":"boolean":"Object"===e.Case?"object type":"Function"===e.Case?"function type":"List"===e.Case?"list type":"Any"===e.Case?"unknown":"generic type"}function rebuildExprNode(e,t,n){var i=[e,t,n],r="Function"===i[0].Case?null!=i[1].tail&&null==i[1].tail.tail&&null!=i[2].tail&&null==i[2].tail.tail?[1,i[1].head,i[2].head]:[10]:"Property"===i[0].Case?null!=i[1].tail&&null==i[1].tail.tail&&null!=i[2].tail&&null==i[2].tail.tail?[2,i[1].head,i[2].head]:[7]:"Binary"===i[0].Case?null!=i[1].tail&&null!=i[1].tail.tail&&null==i[1].tail.tail.tail&&null==i[2].tail?[3,i[1].head,i[1].tail.head,i[0].Fields[1]]:[11]:"Call"===i[0].Case?null!=i[1].tail&&null!=i[2].tail?[4,i[0].Fields[2],i[1].head,i[1].tail,i[0].Fields[0],i[2].head,i[2].tail]:[8]:"Variable"===i[0].Case?null==i[1].tail&&null!=i[2].tail&&null==i[2].tail.tail?[5,i[2].head]:[6]:"Number"===i[0].Case?[12]:"Boolean"===i[0].Case?[12]:"String"===i[0].Case?[12]:"Empty"===i[0].Case?[12]:null==i[2].tail?[0,i[1]]:[9],o=function(){switch(r[0]){case 0:return{v:new Expr("List",[r[1]])};case 1:return{v:new Expr("Function",[r[2],r[1]])};case 2:return{v:new Expr("Property",[r[1],r[2]])};case 3:return{v:new Expr("Binary",[r[1],r[3],r[2]])};case 4:var e=function(){return null!=r[4]}(null)?[r[2],r[3]]:[null,new List$2(r[2],r[3])],t=function e(t){return function(n){return function(i){var r=[t,n,i],o=null==r[0].tail?null==r[1].tail&&null==r[2].tail?[2]:[3]:null!=r[0].head.Name?null!=r[1].tail&&null!=r[2].tail?[1,r[0].tail,r[1].head,r[1].tail,r[2].head,r[2].tail]:[3]:null!=r[1].tail?[0,r[0].tail,r[1].head,r[1].tail,r[2]]:[3];switch(o[0]){case 0:return new List$2(new Argument(null,o[2]),e(o[1])(o[3])(o[4]));case 1:return new List$2(new Argument(o[4],o[2]),e(o[1])(o[3])(o[5]));case 2:return new List$2;case 3:throw new Error("rebuildExprNode: Wrong call length")}}}};return{v:new Expr("Call",[e[0],r[5],function(){var n=t(r[1].Node)(e[1])(r[6]);return new _Node(r[1].WhiteBefore,r[1].WhiteAfter,r[1].Range,n,r[1].Entity)}()])};case 5:return{v:new Expr("Variable",[r[1]])};case 6:throw new Error("rebuildExprNode: Wrong variable length");case 7:throw new Error("rebuildExprNode: Wrong property length");case 8:throw new Error("rebuildExprNode: Wrong call length");case 9:throw new Error("rebuildExprNode: Wrong list length");case 10:throw new Error("rebuildExprNode: Wrong function length");case 11:throw new Error("rebuildExprNode: Wrong binary operator argument length");case 12:throw new Error("rebuildExprNode: Not a node")}}();if("object"===("undefined"==typeof o?"undefined":_typeof(o)))return o.v}function _ExprLeaf_ExprNode_(e){var t="Call"===e.Case?null==e.Fields[0]?[2,e.Fields[2],e.Fields[1]]:[1,e.Fields[2],e.Fields[0],e.Fields[1]]:"Variable"===e.Case?[3,e.Fields[0]]:"List"===e.Case?[4,e.Fields[0]]:"Function"===e.Case?[5,e.Fields[1],e.Fields[0]]:"Binary"===e.Case?[6,e.Fields[0],e.Fields[1],e.Fields[2]]:"Number"===e.Case?[7]:"Boolean"===e.Case?[7]:"String"===e.Case?[7]:"Empty"===e.Case?[7]:[0,e.Fields[0],e.Fields[1]];switch(t[0]){case 0:return new Choice("Choice2Of2",[[ofArray([t[1]]),ofArray([t[2]])]]);case 1:return new Choice("Choice2Of2",[[new List$2(t[2],toList(delay(function(){return map$5(function(e){return e.Value},t[1].Node)}))),new List$2(t[3],choose$$1(function(e){return e.Name},t[1].Node))]]);case 2:return new Choice("Choice2Of2",[[toList(delay(function(){return map$5(function(e){return e.Value},t[1].Node)})),new List$2(t[2],choose$$1(function(e){return e.Name},t[1].Node))]]);case 3:return new Choice("Choice2Of2",[[new List$2,ofArray([t[1]])]]);case 4:return new Choice("Choice2Of2",[[t[1],new List$2]]);case 5:return new Choice("Choice2Of2",[[ofArray([t[1]]),ofArray([t[2]])]]);case 6:return new Choice("Choice2Of2",[[ofArray([t[1],t[3]]),new List$2]]);case 7:return new Choice("Choice1Of2",[null])}}function _FindProperty___(e,t){return tryPick(function(t){var n="Property"===t.Case&&t.Fields[0]===e.Name?[0,t.Fields[3],t.Fields[0]]:[1];switch(n[0]){case 0:return n[1];case 1:return null}},t.Members)}function _FindMethod___(e,t){return tryPick(function(t){var n="Method"===t.Case&&t.Fields[0]===e.Name?[0,t.Fields[1],t.Fields[4],t.Fields[0]]:[1];switch(n[0]){case 0:return[n[1],n[2]];case 1:return null}},t.Members)}function storeArguments(e){return[_Array$from(e),mapIndexed$$1(function(e,t){return new Expression("MemberExpression",[new Expression("IdentifierExpression",["_stored",null]),new Expression("NumericLiteral",[e,null]),!0,null])},e)]}function evaluateExpression(_stored,expr){var prog=new Program$1(null,ofArray([new Statement("ExpressionStatement",[expr,null])])),code=Babel.transformFromAst(Serializer.serializeProgram(prog),"",new BabelOptions(["es2015"]));Log.trace("interpreter","Interpreter evaluating: %O",code.code);try{var s=series.create(function(e){return e.Delay(function(){return e.Return([])})}(singleton$2),"","","");return new RuntimeContext("lol","","troll"),table.create(s),timeline.create(s),series.values(new Int32Array([1])),placeholder.create(""),_stored.length,eval(code.code)}catch(e){throw Log.exn("interpreter","Evaluation failed: %O",e),new Error}}function evaluateExpr(e,t){var n=storeArguments(e);return evaluateExpression(n[0],t(n[1]))}function evaluateCall(e,t,n){var i=storeArguments(new List$2(t,n));return evaluateExpression(i[0],e.Emit([i[1].head,i[1].tail]))}function evaluatePreview(e,t){var n=new Name("preview"),i=defaultArg(e,null,function(e){return reduceType(e)}),r=void 0;if(null!=i)if("Object"===i.Case){var o=_FindProperty___(n,i.Fields[0]);r=null!=o?[0,o]:[1]}else r=[1];else r=[1];switch(r[0]){case 0:return evaluateCall(r[1],t,new List$2);case 1:var s=void 0;if(null!=i)if("Object"===i.Case){var a=_FindMethod___(n,i.Fields[0]);s=null!=a?[0,a[1]]:[1]}else s=[1];else s=[1];switch(s[0]){case 0:return evaluateCall(s[1],t,new List$2);case 1:return null}}}function ensureValue(e,t){(function(){return null==t.Value})(null)&&!function(){var n=evaluateEntity(e,t);null!=n&&(t.Value=new EntityValue(n,new Lazy(function(){return evaluatePreview(t.Type,n)})))}()}function getValue(e,t){return function(){return null==t.Value}(null)&&Log.error("interpreter","getValue: Value of entity %O has not been evaluated.",t),t.Value.Value}function evaluateEntity(e,t){var n="Constant"===t.Kind.Case?"Number"===t.Kind.Fields[0].Case?[1,t.Kind.Fields[0].Fields[0]]:"String"===t.Kind.Fields[0].Case?[2,t.Kind.Fields[0].Fields[0]]:"Empty"===t.Kind.Fields[0].Case?[3]:[0,t.Kind.Fields[0].Fields[0]]:"GlobalValue"===t.Kind.Case?[4,t.Kind.Fields[1],t.Kind.Fields[0]]:"ChainElement"===t.Kind.Case?t.Kind.Fields[0]?null!=t.Kind.Fields[3]?[5,t.Kind.Fields[3],t.Kind.Fields[1]]:[12]:null!=t.Kind.Fields[3]&&null!=t.Kind.Fields[4]&&"ArgumentList"===t.Kind.Fields[4].Kind.Case?[6,t.Kind.Fields[4].Kind.Fields[0],t.Kind.Fields[3],t.Kind.Fields[1]]:[12]:"Operator"===t.Kind.Case?"Power"===t.Kind.Fields[1].Case?[7,t.Kind.Fields[0],t.Kind.Fields[2]]:[8,t.Kind.Fields[0],t.Kind.Fields[1],t.Kind.Fields[2]]:"Variable"===t.Kind.Case?[9,t.Kind.Fields[1]]:"List"===t.Kind.Case?[10,t.Kind.Fields[0]]:"ArgumentList"===t.Kind.Case?[11]:"NamedParam"===t.Kind.Case?[11]:"NamedMember"===t.Kind.Case?[11]:[12],i=function(){switch(n[0]){case 0:return{v:n[1]};case 1:return{v:n[1]};case 2:return{v:n[1]};case 3:return{v:null};case 4:return null!=n[1]?{v:evaluateExpression([],n[1])}:{v:null};case 5:var i=reduceType(n[1].Type),r=void 0;if("Object"===i.Case){var o=_FindProperty___(n[2],i.Fields[0]);r=null!=o?[0,o]:[1]}else r=[1];switch(r[0]){case 0:return{v:evaluateCall(r[1],getValue(e,n[1]),new List$2)};case 1:return{v:null}}case 6:var s=toList(takeWhile(function(e){return"NamedParam"!==e.Kind.Case},n[1])),a=toList(skipWhile(function(e){return"NamedParam"!==e.Kind.Case},n[1])),l=_Array$from(map$4(function(t){return getValue(e,t)},s)),u=new _Map(choose$$1(function(t){if("NamedParam"===t.Kind.Case){var n=t.Kind.Fields[1],i=t.Kind.Fields[0];return[i.Name,getValue(e,n)]}return null},a)),c=reduceType(n[2].Type),p=void 0;if("Object"===c.Case){var h=_FindMethod___(n[3],c.Fields[0]);p=null!=h?[0,h[1],h[0]]:[1]}else p=[1];switch(p[0]){case 0:var d=mapIndexed$$1(function(e,t){return e<l.length?l[e]:u.has(t[0])?u.get(t[0]):null},p[2]);return{v:evaluateCall(p[1],getValue(e,n[2]),d)};case 1:return{v:null}}case 7:return{v:evaluateExpr(ofArray([getValue(e,n[1]),getValue(e,n[2])]),function(e){var t=null!=e.tail&&null!=e.tail.tail&&null==e.tail.tail.tail?[0,e.head,e.tail.head]:[1];switch(t[0]){case 0:var n=new Expression("MemberExpression",[new Expression("IdentifierExpression",["pow",null]),new Expression("IdentifierExpression",["Math",null]),!1,null]);return new Expression("CallExpression",[n,ofArray([t[1],t[2]]),null]);case 1:throw new Error("evaluateEntity: Expected two arguments")}})};case 8:return{v:evaluateExpr(ofArray([getValue(e,n[1]),getValue(e,n[3])]),function(e){var t=null!=e.tail&&null!=e.tail.tail&&null==e.tail.tail.tail?[0,e.head,e.tail.head]:[1];switch(t[0]){case 0:var i=void 0;if("Plus"===n[2].Case)i=new BinaryOperator("BinaryPlus",[]);else if("Minus"===n[2].Case)i=new BinaryOperator("BinaryMinus",[]);else if("Multiply"===n[2].Case)i=new BinaryOperator("BinaryMultiply",[]);else if("Divide"===n[2].Case)i=new BinaryOperator("BinaryDivide",[]);else if("GreaterThan"===n[2].Case)i=new BinaryOperator("BinaryGreater",[]);else if("LessThan"===n[2].Case)i=new BinaryOperator("BinaryLess",[]);else if("GreaterThanOrEqual"===n[2].Case)i=new BinaryOperator("BinaryGreaterOrEqual",[]);else if("LessThanOrEqual"===n[2].Case)i=new BinaryOperator("BinaryLessOrEqual",[]);else{if("Power"===n[2].Case)throw new Error("evaluateEntity: Power is not a binary operation");i=new BinaryOperator("BinaryEqualStrict",[])}return new Expression("BinaryExpression",[i,t[1],t[2],null]);case 1:throw new Error("evaluateEntity: Expected two arguments")}})};case 9:return{v:defaultArg(n[1].Value,null,function(e){return e.Value})};case 10:return{v:evaluateExpr(map$4(function(t){return getValue(e,t)},n[1]),function(e){return new Expression("ArrayExpression",[e,null])})};case 11:return{v:null};case 12:return Log.error("interpreter","Cannot evaluate entity: %O",t),{v:null}}}();if("object"===("undefined"==typeof i?"undefined":_typeof(i)))return i.v}function evaluateEntityTree(e,t){var n=new _Map,i=function t(i){if(!n.has(i.Symbol)&&function(){return null==i.Value}(null)){n.set(i.Symbol,!0);var r=Entity_get_Antecedents.bind(i)(),o=!0,s=!1,a=void 0;try{for(var l,u=_getIterator(r);!(o=(l=u.next()).done);o=!0){var c=l.value;t(c)}}catch(e){s=!0,a=e}finally{try{!o&&u.return&&u.return()}finally{if(s)throw a}}ensureValue(e,i)}};return i(t),t.Value}function globalEntity(e,t,n,i){var r=new EntityKind("GlobalValue",[new Name(e),i]),o=_Symbol2(),s=n;return new Entity(r,o,null,t,s,new List$2)}function evaluate(e,t){Log.trace("interpreter","Evaluating entity %s (%O)",Entity_get_Name.bind(t)(),t.Kind);var n=new EvaluationContext(new _Map(toList(delay(function(){return map$5(function(e){return[Entity_get_Name.bind(e)(),e]},e)})))),i=evaluateEntityTree(n,t);return Log.trace("interpreter","Evaluated entity %s (%O) = %O",Entity_get_Name.bind(t)(),t.Kind,i),i}function start$1(e,t){var n=new MailboxProcessor(e,t);return n.start(),n}function getMembers(e){return function(t){return t.Delay(function(){return"Object"===e.Case?t.Return(e.Fields[0].Members):"Delayed"===e.Case?t.Bind(Async_AwaitFuture_Static(e.Fields[1]),function(e){return t.ReturnFrom(getMembers(e))}):(Log.error("editors","getMembers: Type %O is not an object",e),t.Return(function(){throw new Error("getMembers: Not an object")}()))})}(singleton$2)}function extractMetadata(e){var t=tryPick(function(e){return"http://thegamma.net"===e.Context&&"Documentation"===e.Type?e.Data:null},e),n=tryPick(function(e){return"http://schema.org"===e.Context?e:null},e);return[n,null!=t?t:new Documentation("None",[])]}function getProperty(e,t){return tryPick(function(t){var n="Property"===t.Case&&t.Fields[0]===e.Name?[0,t.Fields[2],t.Fields[0],t.Fields[1]]:[1];switch(n[0]){case 0:var i=extractMetadata(n[1]);return[i[0],n[3],i[1]];case 1:return null}},t)}function filterProperties(e,t){var n=_Array$from(choose$1(function(t){if("Property"===t.Case){var n=extractMetadata(t.Fields[2]);return e([t.Fields[0],n[0],t.Fields[1]])?new Property("Property",[t.Fields[0],n[0],t.Fields[1]]):null}return null},t));return n}function dominant(e,t){var n=count(e),i=count(t);return i>=2&&i>=~~(2*n/3)}function chooseableProperty(e,t,n){return function(i){return i.Delay(function(){return i.Bind(getMembers(n),function(n){var r=getProperty(t.Node,n),o=null!=r&&null!=r[0]?[0,r[0],r[1]]:[1];switch(o[0]){case 0:var s=filterProperties(function(t){if(null!=t[1]){var n=t[1];return n.Type===o[1].Type&&(!e||typesEqual(t[2])(o[2]))}return!1},n);return dominant(n,s)?i.Return([t,s]):i.Return(null);case 1:return i.Return(null)}})})}(singleton$2)}function pickChainSuffixes(e,t){var n=function t(n){return function(i){return function(r){return function(o){return o.Delay(function(){if("Property"===r.Node.Case)return o.Bind(getMembers(r.Node.Fields[0].Entity.Type),function(s){var a=getProperty(r.Node.Fields[1].Node,s);if(null==a)return o.ReturnFrom(t(n)(i)(r.Node.Fields[0]));var l=function(){var s=a[1],l=a[0],u=a[2],c=new List$2([r.Node.Fields[0].Entity.Type,r.Node.Fields[1],l,s,u],i);return{v:o.Bind(e(c),function(e){return null!=e?o.ReturnFrom(t(new List$2(e,n))(c)(r.Node.Fields[0])):o.ReturnFrom(t(n)(c)(r.Node.Fields[0]))})}}();return"object"===("undefined"==typeof l?"undefined":_typeof(l))?l.v:void 0});var s=_ExprLeaf_ExprNode_(r.Node);return"Choice1Of2"===s.Case?o.Return(n):o.ReturnFrom(function(){var e=function(e){return function(n){return t(e)(new List$2)(n)}};return function(t){return Async.fold(e,n,t)}}()(s.Fields[0][0]))})}(singleton$2)}}};return n(new List$2)(new List$2)(t)}function collectCmdEditors(e){return function(t){return t.Delay(function(){var n="Expr"===e.Node.Case?[0,e.Node.Fields[0]]:[0,e.Node.Fields[1]];switch(n[0]){case 0:return Log.trace("editors","single choice"),t.Bind(collectSingleChoiceEditors(n[1]),function(e){return Log.trace("editors","item list"),t.Bind(collectItemListEditors(n[1]),function(i){return Log.trace("editors","multi choice"),t.Bind(collectNestedChoiceEditors(n[1]),function(n){return t.Return(append$$1(e,append$$1(n,i)))})})})}})}(singleton$2)}function bindEntity(e,t){var n=entityCodeNameAndAntecedents(t),i=map$4(function(e){return e.Symbol},new List$2(e.Root,n[1])),r=void 0,o=ListDictionaryModule.tryFind(i,e.Table);if(r=null!=o?o:create$3(null,new GenericComparer(compare)),r.has([n[0],n[2]]))return Log.trace("binder","Cached: binding %s %s",formatEntityKind(t),n[2]),r.get([n[0],n[2]]);Log.trace("binder","New: binding %s %s",formatEntityKind(t),n[2]);var s=_Symbol2(),a=void 0,l=null,u=new List$2,c=new List$2;return a=new Entity(t,s,null,c,l,u),ListDictionaryModule.set(i,add$1([n[0],n[2]],a,r),e.Table),a}function setEntity(e,t,n){return e.Bound.push([t.Range,n]),t.Entity=n,n}function bindExpression(e,t,n){var i=function(e){var t=e;return function(e){return function(n){return bindExpression(t,e,n)}}},r=void 0,o=null;if(r=function(e){return function(t){return bindExpression(o,e,t)}},"Call"!==n.Node.Case){if("Property"===n.Node.Case){var s=r(t)(n.Node.Fields[0]),a=function(e){return setEntity(t,n.Node.Fields[1],e)}(bindEntity(t,new EntityKind("NamedMember",[n.Node.Fields[1].Node,s])));return function(e){return setEntity(t,n,e)}(bindEntity(t,new EntityKind("ChainElement",[!0,n.Node.Fields[1].Node,a,s,null])))}if("Binary"===n.Node.Case){var l=r(t)(n.Node.Fields[0]),u=r(t)(n.Node.Fields[2]);return function(e){return setEntity(t,n,e)}(bindEntity(t,new EntityKind("Operator",[l,n.Node.Fields[1].Node,u])))}if("List"===n.Node.Case){var c=map$4(r(t),n.Node.Fields[0]);return function(e){return setEntity(t,n,e)}(bindEntity(t,new EntityKind("List",[c])))}if("Function"===n.Node.Case){var p=void 0;if(null==e)throw new Error("bindExpression: Function missing call site");p=e;var h=function(e){return setEntity(t,n.Node.Fields[0],e)}(bindEntity(t,new EntityKind("Binding",[n.Node.Fields[0].Node,p]))),d=r(new BindingContext(add$1(n.Node.Fields[0].Node,h,t.Variables),t.GlobalValues,t.Root,t.Table,t.Bound))(n.Node.Fields[1]);return function(e){return setEntity(t,n,e)}(bindEntity(t,new EntityKind("Function",[h,d])))}if("Boolean"===n.Node.Case)return function(e){return setEntity(t,n,e)}(bindEntity(t,new EntityKind("Constant",[new Constant("Boolean",[n.Node.Fields[0]])])));if("String"===n.Node.Case)return function(e){return setEntity(t,n,e)}(bindEntity(t,new EntityKind("Constant",[new Constant("String",[n.Node.Fields[0]])])));if("Number"===n.Node.Case)return function(e){return setEntity(t,n,e)}(bindEntity(t,new EntityKind("Constant",[new Constant("Number",[n.Node.Fields[0]])])));if("Empty"===n.Node.Case)return function(e){return setEntity(t,n,e)}(bindEntity(t,new EntityKind("Constant",[new Constant("Empty",[])])));var f=tryFind$1(n.Node.Fields[0].Node,t.Variables);if(null!=f)return function(e){return setEntity(t,n,e)}(bindEntity(t,new EntityKind("Variable",[n.Node.Fields[0].Node,f])));var m=tryFind$1(n.Node.Fields[0].Node,t.GlobalValues);return null==m?function(e){return setEntity(t,n,e)}(bindEntity(t,new EntityKind("GlobalValue",[n.Node.Fields[0].Node,null]))):function(e){return setEntity(t,n,e)}(m)}var y=function(){var e=defaultArg(defaultArg(n.Node.Fields[0],null,r(t)),t.Root),o=function(i){return bindEntity(t,new EntityKind("CallSite",[e,n.Node.Fields[1].Node,i]))},s=mapIndexed$$1(function(e,n){var r=o(null!=n.Name?new Choice("Choice1Of2",[n.Name.Node.Name]):new Choice("Choice2Of2",[e])),s=i(r)(t)(n.Value);return null==n.Name?s:function(e){return setEntity(t,n.Name,e)}(bindEntity(t,new EntityKind("NamedParam",[n.Name.Node,s])))},n.Node.Fields[2].Node),a=function(e){return setEntity(t,n.Node.Fields[2],e)}(bindEntity(t,new EntityKind("ArgumentList",[s]))),l=function(e){return setEntity(t,n.Node.Fields[1],e)}(bindEntity(t,new EntityKind("NamedMember",[n.Node.Fields[1].Node,e])));return{v:function(e){return setEntity(t,n,e)}(bindEntity(t,new EntityKind("ChainElement",[!1,n.Node.Fields[1].Node,l,e,a])))}}();if("object"===("undefined"==typeof y?"undefined":_typeof(y)))return y.v}function bindCommand(e,t){if("Expr"===t.Node.Case){var n=bindExpression(null,e,t.Node.Fields[0]),i=function(n){return setEntity(e,t,n)}(bindEntity(e,new EntityKind("RunCommand",[n])));return[e,i]}var r=bindExpression(null,e,t.Node.Fields[1]),o=function(n){return setEntity(e,t.Node.Fields[0],n)}(bindEntity(e,new EntityKind("Variable",[t.Node.Fields[0].Node,r]))),s=function(n){return setEntity(e,t,n)}(bindEntity(e,new EntityKind("LetCommand",[o,r])));return[new BindingContext(add$1(t.Node.Fields[0].Node,o,e.Variables),e.GlobalValues,e.Root,e.Table,e.Bound),s]}function bindProgram(e,t){e.Bound.splice(0);var n=fold$1(function(e,t){var n=bindCommand(e[0],t);return[n[0],new List$2(n[1],e[1])]},[e,new List$2],t.Body.Node);return[bindEntity(e,new EntityKind("Program",[n[1]])),new BindingResult(_Array$from(e.Bound))]}function createContext(e,t){var n=void 0,i=new EntityKind("Root",[]),r=new List$2,o=_Symbol2(),s=null,a=new List$2;n=new Entity(i,o,null,a,s,r);var l=new _Map,u=[];return new BindingContext(create$3(null,new GenericComparer(function(e,t){return e.CompareTo(t)})),create$3(toList(delay(function(){return map$5(function(e){return[new Name(Entity_get_Name.bind(e)()),e]},e)})),new GenericComparer(function(e,t){return e.CompareTo(t)})),n,l,u)}function startsWith(e,t,n,i){for(;;){if(n===i.length)return!0;if(t===e.length)return!1;if(e[t]!==i[n])return!1;e=e,t+=1,n+=1,i=i}}function letter(e){return e>="a"&&e<="z"||e>="A"&&e<="Z"}function number(e){return e>="0"&&e<="9"}function addAndTokenize(e,t,n,i){return function(t){e.Tokens.push(t)}(new Token(t,new _Range(n,n+i-1))),tokenizeInput(e,n+i)}function tokenizeIdent(e,t,n){for(;;){if(!(t+n<e.Input.length&&(letter(e.Input[t+n])||number(e.Input[t+n]))))return addAndTokenize(e,new TokenKind("Ident",[e.Input.substr(t,n)]),t,n);e=e,t=t,n+=1}}function tokenizeString(e,t,n,i){e:for(;;){if(n+i>=e.Input.length)return tokenizeStringEnd(!0,e,t,n,i);var r=e.Input[n+i],o="\\"===r&&n+i+1>=e.Input.length?[0]:[1];switch(o[0]){case 0:return tokenizeStringEnd(!0,e,new List$2("\\",t),n,i+1);case 1:if('"'===r)return tokenizeStringEnd(!1,e,t,n,i+1);if("\\"===r){var s=e.Input[n+i+1];if('"'===s){e=e,t=new List$2('"',t),n=n,i+=2;continue e}if("\\"===s){e=e,t=new List$2("\\",t),n=n,i+=2;continue e}if("n"===s){e=e,t=new List$2("\n",t),n=n,i+=2;continue e}if("t"===s){e=e,t=new List$2("\t",t),n=n,i+=2;continue e}e=e,t=ofArray([s,"\\"],t),n=n,i+=2;continue e}e=e,t=new List$2(r,t),n=n,i+=1;continue e}}}function tokenizeStringEnd(e,t,n,i,r){var o=_Array$from(n).slice().reverse().join(""),s=new _Range(i,i+r);return e&&t.Errors.push(Tokenizer.inputEndInsideString(s,o)),addAndTokenize(t,new TokenKind("String",[o]),i,r)}function tokenizeQuotedIdent(e,t,n){for(;;){if(t+n>=e.Input.length)return tokenizeQuotedIdentEnd(!0,e,t,n);var i=e.Input[t+n];if("\n"===i)return tokenizeQuotedIdentEnd(!0,e,t,n+1);if("'"===i)return tokenizeQuotedIdentEnd(!1,e,t,n+1);e=e,t=t,n+=1}}function tokenizeQuotedIdentEnd(e,t,n,i){var r=new _Range(n,n+i),o=t.Input.substr(n+1,i-(e?1:2)),s=endsWith(o,"\n")?o.substr(0,o.length-1):o;return e&&t.Errors.push(Tokenizer.missingClosingQuote(r,s)),addAndTokenize(t,new TokenKind("QIdent",[s]),n,i)}function tokenizeWhite(e,t,n){for(;;){if(!(t+n<e.Input.length&&" "===e.Input[t+n]))return addAndTokenize(e,new TokenKind("White",[e.Input.substr(t,n)]),t,n);e=e,t=t,n+=1}}function tokenizeNumber(e,t,n,i){for(;;)if(n+i<e.Input.length&&number(e.Input[n+i]))e=e,t=t,n=n,i+=1;else{if(!(n+i<e.Input.length)||t||"."!==e.Input[n+i]){var r=e.Input.substr(n,i);return addAndTokenize(e,new TokenKind("Number",[r,_Number$parseFloat(r)]),n,i)}e=e,t=!0,n=n,i+=1}}function tokenizeInput(e,t){if(t>=e.Input.length)return e;var n=e.Input[t],i="-"===n&&startsWith(e.Input,t,0,"->")?[0]:[1];switch(i[0]){case 0:return addAndTokenize(e,new TokenKind("Arrow",[]),t,2);case 1:var r="f"===n&&startsWith(e.Input,t,0,"fun")?[0]:[1];switch(r[0]){case 0:return addAndTokenize(e,new TokenKind("Fun",[]),t,3);case 1:var o="l"===n&&startsWith(e.Input,t,0,"let")?[0]:[1];switch(o[0]){case 0:return addAndTokenize(e,new TokenKind("Let",[]),t,3);case 1:var s="t"===n&&startsWith(e.Input,t,0,"true")?[0]:[1];switch(s[0]){case 0:return addAndTokenize(e,new TokenKind("Boolean",[!0]),t,4);case 1:var a="f"===n&&startsWith(e.Input,t,0,"false")?[0]:[1];switch(a[0]){case 0:return addAndTokenize(e,new TokenKind("Boolean",[!1]),t,5);case 1:var l="<"===n&&startsWith(e.Input,t,0,"<=")?[0]:[1];switch(l[0]){case 0:return addAndTokenize(e,new TokenKind("Operator",[new Operator("LessThanOrEqual",[])]),t,2);case 1:var u=">"===n&&startsWith(e.Input,t,0,">=")?[0]:[1];switch(u[0]){case 0:return addAndTokenize(e,new TokenKind("Operator",[new Operator("GreaterThanOrEqual",[])]),t,2);case 1:return"\n"===n?addAndTokenize(e,new TokenKind("Newline",[]),t,1):" "===n?tokenizeWhite(e,t,1):'"'===n?tokenizeString(e,new List$2,t,1):"'"===n?tokenizeQuotedIdent(e,t,1):"("===n?addAndTokenize(e,new TokenKind("LParen",[]),t,1):")"===n?addAndTokenize(e,new TokenKind("RParen",[]),t,1):"*"===n?addAndTokenize(e,new TokenKind("Operator",[new Operator("Multiply",[])]),t,1):"+"===n?addAndTokenize(e,new TokenKind("Operator",[new Operator("Plus",[])]),t,1):","===n?addAndTokenize(e,new TokenKind("Comma",[]),t,1):"-"===n?addAndTokenize(e,new TokenKind("Operator",[new Operator("Minus",[])]),t,1):"."===n?addAndTokenize(e,new TokenKind("Dot",[]),t,1):"/"===n?addAndTokenize(e,new TokenKind("Operator",[new Operator("Divide",[])]),t,1):"<"===n?addAndTokenize(e,new TokenKind("Operator",[new Operator("LessThan",[])]),t,1):"="===n?addAndTokenize(e,new TokenKind("Equals",[]),t,1):">"===n?addAndTokenize(e,new TokenKind("Operator",[new Operator("GreaterThan",[])]),t,1):"["===n?addAndTokenize(e,new TokenKind("LSquare",[]),t,1):"]"===n?addAndTokenize(e,new TokenKind("RSquare",[]),t,1):"^"===n?addAndTokenize(e,new TokenKind("Operator",[new Operator("Power",[])]),t,1):letter(n)?tokenizeIdent(e,t,1):number(n)?tokenizeNumber(e,!1,t,1):(e.Errors.push(Tokenizer.unexpectedCharacter(new _Range(t,t),n)),
addAndTokenize(e,new TokenKind("Error",[n]),t,1))}}}}}}}}function tokenize(e){var t=void 0,n=[];t=new Context$1([],n,e);var i=tokenizeInput(t,0);return i.Tokens.push(new Token(new TokenKind("EndOfFile",[]),new _Range(e.length,e.length))),[_Array$from(i.Tokens),_Array$from(i.Errors)]}function clone(e){return new Context$$1(e.Tokens,_Array$from(e.Whitespace),_Array$from(e.Errors),e.TopLevel,e.Silent,e.StrictlyNested,e.IndentCurrent,e.IndentStack,e.Position)}function next(e){e.Position=e.Position+1}function disposable(e){return new DisposableHelper(e)}function usingSilentMode(e){var t=e.Silent;return e.Silent=!0,disposable(function(){e.Silent=t})}function addError(e,t){e.Silent||e.Errors.push(t)}function usingIndent(e,t,n){var i=void 0,r=n.IndentStack,o=null!=r.tail&&r.head[1]&&function(){var e=r.head[0];return e>n.IndentCurrent}()?[0,r.head[0]]:[1];switch(o[0]){case 0:!function(e){addError(n,e)}(Parser.unindentedBlock(t.Range,t.Token)),i=!1;break;case 1:var s=null!=r.tail?r.head[1]?[1]:function(){var e=r.head[0];return e!==n.IndentCurrent}()?[0,r.head[0]]:[1]:[1];switch(s[0]){case 0:throw new Error("usingIndent: We forgot to set the top-stack line indentation");case 1:n.IndentStack=new List$2([n.IndentCurrent,e],n.IndentStack),i=!0}}return disposable(function(){var e=[i,n.IndentStack];if(e[0]){if(null==e[1].tail)throw new Error("usingIndent: We lost item from an indentation stack");var t=(e[1].head,e[1].tail);n.IndentStack=t}})}function usingTopLevelNesting(e){var t=e.StrictlyNested;e.StrictlyNested=!0;var n=e.IndentStack;return null!=n.tail&&(e.IndentStack=new List$2([0,!0],n.tail)),disposable(function(){e.StrictlyNested=t})}function usingNonTopLevel(e){var t=e.TopLevel;return e.TopLevel=!1,disposable(function(){e.TopLevel=t})}function setLineIndent(e,t){e.IndentCurrent=t;var n=e.IndentStack,i=null!=n.tail?n.head[1]?[1]:function(){var e=n.head[0];return t<=e}()?[0,n.head[0],n.tail]:[1]:[1];switch(i[0]){case 0:e.IndentStack=new List$2([2147483647,!0],i[2]);break;case 1:var r=null!=n.tail?n.head[1]?[1]:[0,n.head[0],n.tail]:[1];switch(r[0]){case 0:e.IndentStack=new List$2([t,!0],r[2]);break;case 1:}}}function justToken(e){e:for(;;){var t=function(e){return e.Tokens[e.Position]},n=t(e),i="Newline"===n.Token.Case?[0]:"Error"===n.Token.Case?[1,n]:"White"===n.Token.Case?[1,n]:[2];switch(i[0]){case 0:e.Whitespace.push(n),next(e);var r=t(e);if("White"===r.Token.Case){var o=r.Token.Fields[0];e.Whitespace.push(r),setLineIndent(e,o.length),next(e)}else setLineIndent(e,0);e=e;continue e;case 1:e.Whitespace.push(i[1]),next(e),e=e;continue e;case 2:return n}}}function token(e){var t=justToken(e),n=toList(e.Whitespace);return e.Whitespace.splice(0),[n,t]}function nestedToken(e){var t=function(){var t=toList(e.Whitespace);return e.Whitespace.splice(0),t},n=justToken(e),i=e.IndentStack,r=null!=i.tail&&function(){var t=i.head[0];return e.IndentCurrent>t||!e.StrictlyNested&&e.IndentCurrent===t}()?[0,i.head[0]]:[1];switch(r[0]){case 0:return[t(null),n];case 1:return null==i.tail?[t(null),n]:null}}function node$1(e,t){return new _Node(new List$2,new List$2,e,t,null)}function whiteAfter(e,t){var n=append$$1(t.WhiteAfter,e);return new _Node(t.WhiteBefore,n,t.Range,t.Node,t.Entity)}function whiteBefore(e,t){return new _Node(append$$1(e,t.WhiteBefore),t.WhiteAfter,t.Range,t.Node,t.Entity)}function lastCallOrPropertyRange(e,t){var n="Call"===e.Node.Case?[0,e.Node.Fields[1]]:"Property"===e.Node.Case?[0,e.Node.Fields[1]]:[1];switch(n[0]){case 0:return n[1].Range;case 1:return e.Range}}function _Identifier___(e,t){var n=[e,t],i="Ident"===n[1].Token.Case?[0,n[1].Token.Fields[0],n[1].Range,n[0]]:"QIdent"===n[1].Token.Case?[0,n[1].Token.Fields[0],n[1].Range,n[0]]:[1];switch(i[0]){case 0:return function(e){return whiteBefore(i[3],e)}(node$1(i[2],new Name(i[1])));case 1:return null}}function precedence(e){var t="GreaterThan"===e.Case?[1]:"GreaterThanOrEqual"===e.Case?[1]:"LessThan"===e.Case?[1]:"LessThanOrEqual"===e.Case?[1]:"Plus"===e.Case?[2]:"Minus"===e.Case?[2]:"Multiply"===e.Case?[3]:"Divide"===e.Case?[3]:"Power"===e.Case?[4]:[0];switch(t[0]){case 0:return[0,new Associativity("Left",[])];case 1:return[1,new Associativity("Left",[])];case 2:return[2,new Associativity("Left",[])];case 3:return[3,new Associativity("Left",[])];case 4:return[4,new Associativity("Right",[])]}}function precClimb(e,t){var n=function(t){return function(n){e:for(;;){var i=null!=n&&function(){var t=n[0];n[1];return precedence(t.Node)[0]>=e}()?[0,n[1],n[0]]:[1];switch(i[0]){case 0:var r=precedence(i[2].Node),o=r[1].Equals(new Associativity("Left",[]))?r[0]+1:r[0],s=precClimb(o,i[1]),a=node$1(unionRanges(t.Range,s[0].Range),new Expr("Binary",[t,i[2],s[0]]));t=a,n=s[1];continue e;case 1:return[t,n]}}}};return n(t.Fields[0])(t.Fields[1])}function buildExpression(e,t){return precClimb(0,fold$1(function(e,t){return new OpExpr("OpExpr",[t[0],[t[1],e]])},new OpExpr("OpExpr",[t,null]),e))[0]}function makeCallOrProp(e,t,n){var i=[e,n],r=null==i[0]?null!=i[1]?[2,i[1]]:[1]:null!=i[1]?[2,i[1]]:[0,i[0]];switch(r[0]){case 0:return node$1(unionRanges(r[1].Range,t.Range),new Expr("Property",[r[1],t]));case 1:return node$1(t.Range,new Expr("Variable",[t]));case 2:var o=null!=e?unionRanges(e.Range,r[1].Range):unionRanges(t.Range,r[1].Range);return node$1(o,new Expr("Call",[e,t,r[1]]))}}function parseChain(e,t,n,i,r,o){var s=function(e){return whiteAfter(r,e)}(makeCallOrProp(t,n,i)),a=new _Range(e.End+1,e.End+1),l=node$1(a,new Expr("Property",[s,node$1(a,new Name(""))])),u=nestedToken(o),c=void 0;if(null!=u){var p=_Identifier___(u[0],u[1]);c=null!=p?[0,p]:[1]}else c=[1];switch(c[0]){case 0:return next(o),parseMember(s,c[1],o);case 1:if(null==u){var h=token(o),d=_Identifier___(h[0],h[1]);if(null==d){var f=function(e){return lastCallOrPropertyRange(s,e)};return function(e){addError(o,e)}(Parser.unexpectedScopeEndAfterDot(h[1].Range,f,h[1].Token)),l}var m=function(){var e=function(e){return lastCallOrPropertyRange(s,e)};!function(e){addError(o,e)}(Parser.unindentedIdentifierAfterDot(d.Range,e,d.Node.Name));var t=[o.TopLevel,o.IndentStack],n=t[0]?[1]:null!=t[1].tail&&function(){t[1].tail,t[1].head[0],t[1].head[1];return o.IndentCurrent>0}()?[0,t[1].head[1],t[1].head[0],t[1].tail]:[1];switch(n[0]){case 0:return next(o),o.IndentStack=new List$2([o.IndentCurrent,n[1]],n[3]),{v:parseMember(s,d,o)};case 1:return{v:l}}}();if("object"===("undefined"==typeof m?"undefined":_typeof(m)))return m.v}else{var y=u[1];if(function(e){addError(o,e)}(Parser.unexpectedTokenAfterDot(y.Range,y.Token)),y.Token.Equals(new TokenKind("EndOfFile",[])))return l;next(o);var g=usingSilentMode(o);try{return parseMember(s,node$1(a,new Name("")),o)}finally{hasInterface(g,"System.IDisposable")&&g.Dispose()}}}}function parseDotOrLParen(e,t,n,i){if("LParen"!==i.Token.Case)return"Dot"===i.Token.Case?(next(n),parseChain(i.Range,e,t,null,new List$2,n)):null;next(n);var r=usingNonTopLevel(n);try{var o=function(){var r=parseCallArgList(!1,i.Range,new List$2,n),o=function(e){return whiteAfter(r[1],e)}(node$1(unionRanges(i.Range,r[0]),r[2])),s=nestedToken(n),a=null!=s&&"Dot"===s[1].Token.Case?[0,s[1].Range,s[0]]:[1];switch(a[0]){case 0:return next(n),{v:parseChain(a[1],e,t,o,a[2],n)};case 1:return{v:makeCallOrProp(e,t,o)}}}();if("object"===("undefined"==typeof o?"undefined":_typeof(o)))return o.v}finally{hasInterface(r,"System.IDisposable")&&r.Dispose()}}function parseMember(e,t,n){var i=void 0,r=nestedToken(n);if(null!=r){var o=r[0],s=r[1];i=parseDotOrLParen(e,whiteAfter(o,t),n,s)}else{var a=token(n),l=void 0,u=usingSilentMode(n);try{l=parseDotOrLParen(e,whiteAfter(a[0],t),n,a[1])}finally{hasInterface(u,"System.IDisposable")&&u.Dispose()}null!=l?(!function(e){addError(n,e)}(Parser.unindentedDotAfterIdentifier(t.Range,a[1].Range)),i=l):i=null}return null==i?null==e?node$1(t.Range,new Expr("Variable",[t])):node$1(unionRanges(e.Range,t.Range),new Expr("Property",[e,t])):i}function parseFunction(e,t){var n=nestedToken(e),i=void 0;if(null!=n){var r=_Identifier___(n[0],n[1]);i=null!=r?[0,r]:[1]}else i=[1];switch(i[0]){case 0:next(e);var o=nestedToken(e),s=null!=o&&"Arrow"===o[1].Token.Case?[0,o[1].Range,o[0]]:[1,o];switch(s[0]){case 0:next(e);var a=void 0,l=parseExpression(new List$2,e);null!=l?a=l:(!function(t){addError(e,t)}(Parser.missingBodyOfFunc(unionRanges(t,s[1]))),a=node$1(new _Range(s[1].End,s[1].End),new Expr("Empty",[])));var u=unionRanges(t,a.Range);return node$1(u,new Expr("Function",[whiteAfter(s[2],i[1]),a]));case 1:var c=void 0;if(null!=s[1]){var p=s[1][0],h=s[1][1];c=[h.Range,p]}else c=[unionRanges(t,i[1].Range),new List$2];!function(t){addError(e,t)}(Parser.missingArrowInFunc(c[0]));var d=void 0,f=parseExpression(new List$2,e);return d=null!=f?f:node$1(new _Range(i[1].Range.End,i[1].Range.End),new Expr("Empty",[])),node$1(unionRanges(t,d.Range),new Expr("Function",[i[1],whiteBefore(c[1],d)]))}case 1:if(null==n){!function(t){addError(e,t)}(Parser.unexpectedScopeEndInFunc(t));var m=new _Range(t.End,t.End);return node$1(m,new Expr("Function",[node$1(m,new Name("")),node$1(m,new Expr("Empty",[]))]))}var y=function(){var i=n[0],r=n[1];!function(t){addError(e,t)}(Parser.unexpectedTokenAfterFun(r.Range,r.Token));var o=new _Range(t.End,t.End);return{v:function(e){return whiteBefore(i,e)}(node$1(o,new Expr("Function",[node$1(o,new Name("")),node$1(o,new Expr("Empty",[]))])))}}();if("object"===("undefined"==typeof y?"undefined":_typeof(y)))return y.v}}function parseTerm(e){var t=nestedToken(e),n=void 0;if(null!=t){var i=_Identifier___(t[0],t[1]);n=null!=i?[0,i,t[1]]:[1]}else n=[1];var r=function(){switch(n[0]){case 0:next(e);var i=usingIndent(!1,n[2],e);try{var r=parseMember(null,n[1],e);return{v:r}}finally{hasInterface(i,"System.IDisposable")&&i.Dispose()}case 1:var o=null!=t?"Number"===t[1].Token.Case?[0,t[1].Token.Fields[1],t[1].Range,t[0]]:"String"===t[1].Token.Case?[1,t[1].Range,t[1].Token.Fields[0],t[0]]:"Boolean"===t[1].Token.Case?[2,t[1].Token.Fields[0],t[1].Range,t[0]]:"LParen"===t[1].Token.Case?[3,t[1],t[0]]:"LSquare"===t[1].Token.Case?[4,t[1],t[0]]:"Fun"===t[1].Token.Case?[5,t[1],t[0]]:[6]:[6];switch(o[0]){case 0:return next(e),{v:function(e){return whiteAfter(o[3],e)}(node$1(o[2],new Expr("Number",[o[1]])))};case 1:return next(e),{v:function(e){return whiteAfter(o[3],e)}(node$1(o[1],new Expr("String",[o[2]])))};case 2:return next(e),{v:function(e){return whiteAfter(o[3],e)}(node$1(o[2],new Expr("Boolean",[o[1]])))};case 3:return next(e),{v:parseParenTermEnd(new List$2(o[1],reverse$$1(o[2])),new List$2,parseExpression(new List$2,e),e)};case 4:next(e);var s=usingNonTopLevel(e);try{return{v:parseListElements(!1,o[1].Range,o[2],o[1].Range,new List$2,e)}}finally{hasInterface(s,"System.IDisposable")&&s.Dispose()}case 5:return next(e),{v:parseFunction(e,o[1].Range)};case 6:return{v:null}}}}();if("object"===("undefined"==typeof r?"undefined":_typeof(r)))return r.v}function parseListElements(e,t,n,i,r,o){var s=function(){var s=void 0,a=parseExpression(new List$2,o);s=null!=a?[!0,function(e){return new List$2(whiteAfter(e,a),r)}]:[!1,function(e){return r}];var l=nestedToken(o),u=null!=l?"RSquare"===l[1].Token.Case?[0,l[1].Range,l[0]]:"Comma"===l[1].Token.Case?[1,l[1].Range,l[0]]:function(){var e=l[1];return!e.Token.Equals(new TokenKind("EndOfFile",[]))}()?[2,l[1]]:[3]:[3];switch(u[0]){case 0:return next(o),{v:function(e){return whiteBefore(u[2],e)}(node$1(unionRanges(i,u[1]),new Expr("List",[reverse$$1(s[1](new List$2))])))};case 1:return next(o),!s[0]&&e&&!function(e){addError(o,e)}(Parser.unexpectedTokenInList(u[1],new TokenKind("Comma",[]))),e=!0,t=u[1],n=n,i=i,r=s[1](u[2]),o=o,"continue|parseListElements";case 2:return next(o),function(e){addError(o,e)}(Parser.unexpectedTokenInList(u[1].Range,u[1].Token)),e=e,t=u[1].Range,n=n,i=i,r=s[1](new List$2),o=o,"continue|parseListElements";case 3:return function(e){addError(o,e)}(Parser.unexpectedScopeEndInList(t)),{v:node$1(unionRanges(i,t),new Expr("List",[reverse$$1(s[1](new List$2))]))}}};e:for(;;){var a=s();switch(a){case"continue|parseListElements":continue e;default:if("object"===("undefined"==typeof a?"undefined":_typeof(a)))return a.v}}}function parseParenTermEnd(e,t,n,i){for(;;){var r=function(t){var r=void 0;if(null==n){var o=function(e){return reduce(function(e,t){return unionRanges(e,t)},e)}(map$4(function(e){return e.Range},append$$1(ofArray([e.head]),t)));!function(e){addError(i,e)}(Parser.missingParenthesizedExpr(o)),r=node$1(o,new Expr("Empty",[]))}else r=n;return whiteAfter(reverse$$1(t),whiteBefore(reverse$$1(e),r))},o=nestedToken(i);if(null==o){var s=null!=n?n.Range:e.head.Range;return function(e){addError(i,e)}(Parser.unindentedTokenInParenthesizedExpr(s)),r(t)}if("RParen"===o[1].Token.Case)return next(i),r(new List$2(o[1],append$$1(reverse$$1(o[0]),t)));next(i),function(e){addError(i,e)}(Parser.unexpectedTokenInParenthesizedExpr(o[1].Range,o[1].Token)),e=e,t=new List$2(o[1],append$$1(reverse$$1(o[0]),t)),n=n,i=i}}function parseExpression(e,t){e:for(;;){var n=[e,parseTerm(t)];if(null==n[1]){if(null!=n[0].tail){var i=n[0].tail,r=n[0].head[0],o=n[0].head[1],s=justToken(t);return function(e){addError(t,e)}(Parser.unexpectedTokenAfterOperator(s.Range,new TokenKind("Operator",[o.Node]),s.Token)),buildExpression(i,r)}return null}var a=n[1],l=nestedToken(t),u=null!=l?"Equals"===l[1].Token.Case?[0,l[1],l[0]]:"Operator"===l[1].Token.Case?[1,l[1].Token.Fields[0],l[1],l[0]]:[2]:[2];switch(u[0]){case 0:next(t),e=new List$2([a,whiteBefore(u[2],node$1(u[1].Range,new Operator("Equals",[])))],n[0]),t=t;continue e;case 1:next(t),e=new List$2([a,whiteBefore(u[3],node$1(u[2].Range,u[1]))],n[0]),t=t;continue e;case 2:return buildExpression(n[0],a)}}}function parseExpressionOrNamedParam(e){var t=clone(e),n=nestedToken(t),i=void 0;if(null!=n){var r=_Identifier___(n[0],n[1]);i=null!=r?[0,r]:[1]}else i=[1];switch(i[0]){case 0:next(t);var o=nestedToken(t),s=null!=o&&"Equals"===o[1].Token.Case?[0,o[1],o[0]]:[1];switch(s[0]){case 0:nestedToken(e),next(e),nestedToken(e),next(e);var a=parseExpression(new List$2,e);return null==a?(function(t){addError(e,t)}(Parser.unexpectedTokenInArgList(s[1].Range,s[1].Token)),new Choice("Choice2Of2",[node$1(i[1].Range,new Expr("Variable",[i[1]]))])):new Choice("Choice1Of2",[[whiteAfter(s[2],i[1]),a]]);case 1:return new Choice("Choice2Of2",[parseExpression(new List$2,e)])}case 1:return new Choice("Choice2Of2",[parseExpression(new List$2,e)])}}function parseCallArgList(e,t,n,i){var r=function(){var r=void 0,o=parseExpressionOrNamedParam(i);r="Choice1Of2"===o.Case?[!0,new List$2(new Argument(o.Fields[0][0],o.Fields[0][1]),n)]:null!=o.Fields[0]?[!0,new List$2(new Argument(null,o.Fields[0]),n)]:[!1,n];var s=nestedToken(i),a=null!=s?"RParen"===s[1].Token.Case?[0,s[1],s[0]]:"Comma"===s[1].Token.Case&&function(){s[0],s[1].Range;return r[0]}()?[1,s[1].Range,s[0]]:[2]:[2];switch(a[0]){case 0:return next(i),!e||r[0]||!function(e){addError(i,e)}(Parser.unexpectedTokenInArgList(t,new TokenKind("RParen",[]))),{v:[a[1].Range,a[2],reverse$$1(r[1])]};case 1:return next(i),e=!0,t=a[1],n=r[1],i=i,"continue|parseCallArgList";case 2:var l=null!=s&&function(){var e=s[1];return!e.Token.Equals(new TokenKind("EndOfFile",[]))}()?[0,s[1]]:[1];switch(l[0]){case 0:return next(i),function(e){addError(i,e)}(Parser.unexpectedTokenInArgList(l[1].Range,l[1].Token)),e=e,t=l[1].Range,n=r[1],i=i,"continue|parseCallArgList";case 1:return function(e){addError(i,e)}(Parser.unexpectedScopeEndInArgList(t)),{v:[t,new List$2,reverse$$1(r[1])]}}}};e:for(;;){var o=r();switch(o){case"continue|parseCallArgList":continue e;default:if("object"===("undefined"==typeof o?"undefined":_typeof(o)))return o.v}}}function parseNestedExpressions(e,t,n){e:for(;;){var i=parseExpression(new List$2,n);if(null!=i){if(null!=t.tail){!function(e){addError(n,e)}(Parser.nestedExpressionInCommand(i.Range));var r=new List$2;t=new List$2(whiteBefore(reverse$$1(e),i),t),n=n,e=r;continue e}var o=usingTopLevelNesting(n);try{return parseNestedExpressions(new List$2,new List$2(whiteBefore(reverse$$1(e),i),t),n)}finally{hasInterface(o,"System.IDisposable")&&o.Dispose()}}else{var s=nestedToken(n),a=null==s?[0]:"EndOfFile"===s[1].Token.Case?[0]:[1,s[1],s[0]];switch(a[0]){case 0:return null==t.tail?new List$2:new List$2(whiteAfter(reverse$$1(e),t.head),t.tail);case 1:next(n),e=append$$1(new List$2(a[1],reverse$$1(a[2])),e),t=t,n=n;continue e}}}}function parseLetBinding(e,t,n){var i=nestedToken(n),r=void 0;if(null!=i){var o=_Identifier___(i[0],i[1]);r=null!=o?[0,o]:[1]}else r=[1];switch(r[0]){case 0:next(n);var s=nestedToken(n);if(null==s){!function(e){addError(n,e)}(Parser.missingBodyInLetBinding(r[1].Range));var a=node$1(new _Range(r[1].Range.End,r[1].Range.End),new Expr("Empty",[]));return[new List$2,function(t){return whiteBefore(e,t)}(node$1(unionRanges(t,r[1].Range),new Command("Let",[r[1],a])))]}if("Equals"===s[1].Token.Case){next(n);var l=reverse$$1(parseNestedExpressions(new List$2,new List$2,n));return null==l.tail?(function(e){addError(n,e)}(Parser.missingBodyInLetBinding(unionRanges(t,s[1].Range))),[new List$2,function(t){return whiteBefore(e,t)}(node$1(unionRanges(t,s[1].Range),new Command("Let",[whiteAfter(s[0],r[1]),node$1(new _Range(s[1].Range.End,s[1].Range.End),new Expr("Empty",[]))])))]):[l.tail,function(t){return whiteBefore(e,t)}(node$1(unionRanges(t,l.head.Range),new Command("Let",[whiteAfter(s[0],r[1]),l.head])))]}!function(e){addError(n,e)}(Parser.unexpectedTokenInLetBinding(s[1].Range,s[1].Token));var u=void 0,c=reverse$$1(parseNestedExpressions(new List$2,new List$2,n));return u=null==c.tail?[node$1(new _Range(r[1].Range.End,r[1].Range.End),new Expr("Empty",[])),new List$2]:[c.head,c.tail],[u[1],function(t){return whiteBefore(e,t)}(node$1(unionRanges(t,r[1].Range),new Command("Let",[whiteAfter(s[0],r[1]),u[0]])))];case 1:if(null==i){!function(e){addError(n,e)}(Parser.missingBodyInLetBinding(t));var p=new _Range(t.End,t.End);return[new List$2,function(t){return whiteBefore(e,t)}(node$1(p,new Command("Let",[node$1(p,new Name("")),node$1(p,new Expr("Empty",[]))])))]}var h=i[0],d=i[1];!function(e){addError(n,e)}(Parser.unexpectedTokenInLetBinding(d.Range,d.Token));var f=new _Range(t.End,t.End),m=void 0,y=reverse$$1(parseNestedExpressions(new List$2,new List$2,n));return m=null==y.tail?[node$1(f,new Expr("Empty",[])),new List$2]:[y.head,y.tail],[m[1],function(t){return whiteBefore(e,t)}(node$1(unionRanges(t,m[0].Range),new Command("Let",[whiteBefore(h,node$1(f,new Name(""))),m[0]])))]}}function parseCommands(e,t){for(;;){var n=token(t);if("Let"!==n[1].Token.Case){if("EndOfFile"===n[1].Token.Case)return null==e.tail?new List$2:reverse$$1(new List$2(new _Node(e.head.WhiteBefore,n[0],e.head.Range,e.head.Node,e.head.Entity),e.tail));var i=void 0,r=usingIndent(!0,n[1],t);try{i=map$4(function(e){return node$1(e.Range,new Command("Expr",[e]))},parseNestedExpressions(reverse$$1(n[0]),new List$2,t))}finally{hasInterface(r,"System.IDisposable")&&r.Dispose()}e=append$$1(i,e),t=t}else{var o=n[1].Range;next(t);var s=void 0,a=usingIndent(!1,n[1],t);try{s=parseLetBinding(n[0],o,t)}finally{hasInterface(a,"System.IDisposable")&&a.Dispose()}var l=map$4(function(e){return node$1(e.Range,new Command("Expr",[e]))},s[0]);e=append$$1(l,new List$2(s[1],e)),t=t}}}function parseProgram(e){try{var t=tokenize(e),n=void 0,i=!0,r=!1,o=!1,s=0,a=0,l=new List$2,u=[];n=new Context$$1(t[0],[],u,i,r,o,a,l,s);var c=parseCommands(new List$2,n),p=t[1].concat(_Array$from(n.Errors)),h=fold$1(function(e,t){return unionRanges(e,t.Range)},new _Range(0,0),c);return[new Program$$1(node$1(h,c)),p]}catch(e){Log.exn("parsing","Exception while parsing program: %O",e);var d=new _Range(0,0),f=Parser.exceptionWhileParsing(d,toString$2(e));return[new Program$$1(node$1(d,new List$2)),[f]]}}function addError$1(e,t,n){e.Errors.push(n(e.Ranges.get(t.Symbol)))}function _FindProperty___$1(e,t){return tryPick(function(t){var n="Property"===t.Case&&t.Fields[0]===e.Name?[0,t.Fields[2],t.Fields[0],t.Fields[1]]:[1];switch(n[0]){case 0:return[n[1],n[3]];case 1:return null}},t.Members)}function _FindMethod___$1(e,t){return tryPick(function(t){var n="Method"===t.Case&&t.Fields[0]===e.Name?[0,t.Fields[1],t.Fields[3],t.Fields[0],t.Fields[2]]:[1];switch(n[0]){case 0:return[n[2],n[1],n[4]];case 1:return null}},t.Members)}function inferListType(e){return reduce(function(e){return function(t,n){return e(t)>e(n)?t:n}}(function(e){return e[1]}),append$$1(ofArray([[new Type("Any",[]),0]]),map$4(function(e){return[e.head,e.length]},function(e){return List.groupWith(typesEqual,e)}(filter$1(function(e){return"Any"!==e.Case},e)))))[0]}function resolveParameterType(e,t,n){var i=void 0;if("Object"===e.Case){var r=_FindMethod___$1(t,e.Fields[0]);i=null!=r?[0,r[1]]:[1]}else i=[1];switch(i[0]){case 0:if("Choice2Of2"===n.Case){var o=item(n.Fields[0],i[1]);return o[2]}return pick(function(e){return e[0]===n.Fields[0]?e[2]:null},i[1]);case 1:throw new Error("resolveParameterType: Instance is not an object")}}function checkMethodCall(e,t,n,i,r){var o=void 0,s=toList(takeWhile(function(e){return"NamedParam"!==e.Kind.Case},r)),a=toList(skipWhile(function(e){return"NamedParam"!==e.Kind.Case},r));o=[_Array$from(s),create$3(choose$$1(function(t){return"NamedParam"===t.Kind.Case?[t.Kind.Fields[0].Name,t.Kind.Fields[1]]:(function(n){addError$1(e,t,n)}(function(e){return TypeChecker.nameBasedParamMustBeLast(e)}),null)},a),new GenericComparer(compare))];var l=mapIndexed$$1(function(t,n){var r=t<o[0].length?o[0][t]:tryFind$1(n[0],o[1]);if(null==r){if(n[1])return[n[0],n[2],n[2],null];if(null==r)return function(t){addError$1(e,i,t)}(function(e){return TypeChecker.parameterMissingValue(n[0],e)}),[n[0],n[2],new Type("Any",[]),null];throw new Error("C:\\Tomas\\Public\\thegamma\\thegamma-script\\src\\thegamma\\analyzer/typechecker.fs",72,12)}return[n[0],n[2],getType$1(e,r),r]},n),u="Forall"===t.Case?[t.Fields[0],t.Fields[1]]:[new List$2,t],c=collect$$1(function(t){var n=unifyTypes(u[0],t[1],t[2]);if(function(){return null!=t[3]}(null)){var i=!0,r=!1,o=void 0;try{for(var s,a=function(){var n=s.value;!function(){var n=t[3];return function(t){addError$1(e,n,t)}}()(function(e){return TypeChecker.incorrectParameterType(t[0],t[1],t[2],n[0],n[1],e)})},l=_getIterator(n[1]);!(i=(s=l.next()).done);i=!0)a()}catch(e){r=!0,o=e}finally{try{!i&&l.return&&l.return()}finally{if(r)throw o}}}return n[0]},l),p=groupBy$1(function(e){return e[0]},c),h=!0,d=!1,f=void 0;try{for(var m,y=function(){var t=m.value,n=toList(t[1]),r=null!=n.tail&&null!=n.tail.tail?[0,n.head[1],n.tail,n.head[0]]:[1];switch(r[0]){case 0:var o=!0,s=!1,a=void 0;try{for(var l,u=function(){var t=l.value;!function(t){addError$1(e,i,t)}(function(e){return TypeChecker.inferenceConflict(r[3],r[1],t[1],e)})},c=_getIterator(r[2]);!(o=(l=c.next()).done);o=!0)u()}catch(e){s=!0,a=e}finally{try{!o&&c.return&&c.return()}finally{if(s)throw a}}break;case 1:}},g=_getIterator(p);!(h=(m=g.next()).done);h=!0)y()}catch(e){d=!0,f=e}finally{try{!h&&g.return&&g.return()}finally{if(d)throw f}}var v=substituteTypes(create$3(c,new GenericComparer(compare)),u[1]);return v}function getType$1(e,t){return function(){return null==t.Type}(null)&&!function(){var n=e.Errors.length;t.Type=typeCheckEntity(e,t),t.Errors=toList(delay(function(){return map$5(function(t){return e.Errors[t]},range(n,e.Errors.length-1))}))}(),t.Type}function typeCheckEntity(e,t){var n="Variable"===t.Kind.Case?[1,t.Kind.Fields[1]]:"ChainElement"===t.Kind.Case?t.Kind.Fields[0]?null==t.Kind.Fields[3]?[4,t.Kind.Fields[2],t.Kind.Fields[1]]:[2,t.Kind.Fields[2],t.Kind.Fields[3],t.Kind.Fields[1]]:null==t.Kind.Fields[3]?[4,t.Kind.Fields[2],t.Kind.Fields[1]]:null!=t.Kind.Fields[4]&&"ArgumentList"===t.Kind.Fields[4].Kind.Case?[3,t.Kind.Fields[4],t.Kind.Fields[4].Kind.Fields[0],t.Kind.Fields[2],t.Kind.Fields[3],t.Kind.Fields[1]]:[5,t.Kind.Fields[1]]:"Operator"===t.Kind.Case?[6,t.Kind.Fields[0],t.Kind.Fields[1],t.Kind.Fields[2]]:"List"===t.Kind.Case?[7,t.Kind.Fields[0]]:"Binding"===t.Kind.Case?"CallSite"===t.Kind.Fields[1].Kind.Case?[8,t.Kind.Fields[1].Kind.Fields[0],t.Kind.Fields[1].Kind.Fields[1],t.Kind.Fields[0],t.Kind.Fields[1].Kind.Fields[2]]:[9,t.Kind.Fields[0]]:"Function"===t.Kind.Case?[10,t.Kind.Fields[1],t.Kind.Fields[0]]:"Constant"===t.Kind.Case?"String"===t.Kind.Fields[0].Case?[12]:"Boolean"===t.Kind.Fields[0].Case?[13]:"Empty"===t.Kind.Fields[0].Case?[14]:[11]:"Root"===t.Kind.Case?[15]:"LetCommand"===t.Kind.Case?[16]:"RunCommand"===t.Kind.Case?[17]:"ArgumentList"===t.Kind.Case?[18]:"NamedParam"===t.Kind.Case?[19]:"NamedMember"===t.Kind.Case?[20]:"CallSite"===t.Kind.Case?[21]:"Program"===t.Kind.Case?[22]:[0,t.Kind.Fields[0]],i=function(){switch(n[0]){case 0:return e.Globals.has(n[1].Name)?{v:getType$1(e,e.Globals.get(n[1].Name))}:(function(n){addError$1(e,t,n)}(function(e){return TypeChecker.variableNotInScope(n[1].Name,e)}),{v:new Type("Any",[])});case 1:return{v:getType$1(e,n[1])};case 2:var i=reduceType(getType$1(e,n[2])),r=void 0;if("Any"===i.Case)r=[0];else if("Object"===i.Case){var o=_FindProperty___$1(n[3],i.Fields[0]);r=null!=o?[1,o[0],o[1]]:[2]}else r=[2];switch(r[0]){case 0:return{v:new Type("Any",[])};case 1:return t.Meta=r[1],{v:r[2]};case 2:if("Object"!==i.Case)return function(t){addError$1(e,n[2],t)}(function(e){return TypeChecker.notAnObject(n[3].Name,i,e)}),{v:new Type("Any",[])};var s=function(){var t=i.Fields[0].Members;return function(t){addError$1(e,n[1],t)}(function(e){return TypeChecker.propertyMissing(n[3].Name,t,e)}),{v:{v:new Type("Any",[])}}}();if("object"===("undefined"==typeof s?"undefined":_typeof(s)))return s.v}case 3:var a=reduceType(getType$1(e,n[4])),l=void 0;if("Any"===a.Case)l=[0];else if("Object"===a.Case){var u=_FindMethod___$1(n[5],a.Fields[0]);l=null!=u?[1,u[1],u[0],u[2]]:[2]}else l=[2];switch(l[0]){case 0:return{v:new Type("Any",[])};case 1:return t.Meta=l[2],{v:checkMethodCall(e,l[3],l[1],n[1],n[2])};case 2:if("Object"!==a.Case)return function(t){addError$1(e,n[4],t)}(function(e){return TypeChecker.notAnObject(n[5].Name,a,e)}),{v:new Type("Any",[])};var c=function(){var t=a.Fields[0].Members;return function(t){addError$1(e,n[3],t)}(function(e){return TypeChecker.methodMissing(n[5].Name,t,e)}),{v:{v:new Type("Any",[])}}}();if("object"===("undefined"==typeof c?"undefined":_typeof(c)))return c.v}case 4:return function(t){addError$1(e,n[1],t)}(function(e){return TypeChecker.callMissingInstance(n[2].Name,e)}),{v:new Type("Any",[])};case 5:throw new Error(fsFormat("typeCheckEntity: Call to %s is missing argument list!")(function(e){return e})(n[1].Name));case 6:return iterateIndexed(function(t,i){var r=getType$1(e,i);typesEqual(r)(new Type("Primitive",[new PrimitiveType("Number",[])]))||!function(t){addError$1(e,i,t)}(function(e){return TypeChecker.numericOperatorExpectsNumbers(n[2],t,r,e)})},ofArray([n[1],n[3]])),{v:new Type("Primitive",[new PrimitiveType("Number",[])])};case 7:var p=map$4(function(t){return getType$1(e,t)},n[1]),h=inferListType(p),d=!0,f=!1,m=void 0;try{for(var y,g=function(){var t=y.value,n=getType$1(e,t);typesEqual(h)(n)||!function(n){addError$1(e,t,n)}(function(e){return TypeChecker.listElementTypeDoesNotMatch(h,n,e)})},v=_getIterator(n[1]);!(d=(y=v.next()).done);d=!0)g()}catch(e){f=!0,m=e}finally{try{!d&&v.return&&v.return()}finally{if(f)throw m}}return{v:new Type("App",[new Type("Forall",[ofArray(["a"]),new Type("List",[new Type("Parameter",["a"])])]),ofArray([h])])};case 8:var C=resolveParameterType(reduceType(getType$1(e,n[1])),n[2],n[4]),w="Function"===C.Case&&null!=C.Fields[0].tail&&null==C.Fields[0].tail.tail?[0,C.Fields[0].head]:[1];switch(w[0]){case 0:return{v:w[1]};case 1:throw new Error("typeCheckEntity: Expected parameter of function type")}case 9:throw new Error(fsFormat("typeCheckEntity: Variable binding %s is missing call site!")(function(e){return e})(n[1].Name));case 10:return{v:new Type("Function",[ofArray([getType$1(e,n[2])]),getType$1(e,n[1])])};case 11:return{v:new Type("Primitive",[new PrimitiveType("Number",[])])};case 12:return{v:new Type("Primitive",[new PrimitiveType("String",[])])};case 13:return{v:new Type("Primitive",[new PrimitiveType("Bool",[])])};case 14:return{v:new Type("Any",[])};case 15:return{v:new Type("Any",[])};case 16:return{v:new Type("Any",[])};case 17:return{v:new Type("Any",[])};case 18:return{v:new Type("Any",[])};case 19:return{v:new Type("Any",[])};case 20:return{v:new Type("Any",[])};case 21:return{v:new Type("Any",[])};case 22:return{v:new Type("Any",[])}}}();if("object"===("undefined"==typeof i?"undefined":_typeof(i)))return i.v}function evaluateDelayedType(e,t){return function(n){return n.Delay(function(){var i="App"===t.Case?[0,t.Fields[1],t.Fields[0]]:"Forall"===t.Case?[1,t.Fields[1],t.Fields[0]]:"Object"===t.Case&&e?[2,t.Fields[0]]:[3];switch(i[0]){case 0:return n.Bind(evaluateDelayedType(e,i[2]),function(e){return n.Return(new Type("App",[e,i[1]]))});case 1:return n.Bind(evaluateDelayedType(e,i[1]),function(e){return n.Return(new Type("Forall",[i[2],e]))});case 2:return n.Bind(Async.Array.map(function(e){return function(t){return t.Delay(function(){return"Method"===e.Case?t.Bind(Async.map(function(e){return function(t){return t.Delay(function(){return t.Bind(evaluateDelayedType(!1,e[2]),function(n){return t.Return([e[0],e[1],n])})})}(singleton$2)},e.Fields[1]),function(n){return t.Return(new Member("Method",[e.Fields[0],n,e.Fields[2],e.Fields[3],e.Fields[4]]))}):t.Return(e)})}(singleton$2)},i[1].Members),function(e){return n.Return(new Type("Object",[new ObjectType(e)]))});case 3:return"Function"===t.Case?n.Bind(evaluateDelayedType(e,t.Fields[1]),function(i){return n.Bind(Async.map(function(t){return evaluateDelayedType(e,t)},t.Fields[0]),function(e){return n.Return(new Type("Function",[e,i]))})}):"List"===t.Case?n.Bind(evaluateDelayedType(e,t.Fields[0]),function(e){return n.Return(new Type("List",[e]))}):"Delayed"===t.Case?n.Bind(Async_AwaitFuture_Static(t.Fields[1]),function(t){return n.ReturnFrom(evaluateDelayedType(e,t))}):n.Return(t)}})}(singleton$2)}function typeCheckEntityAsync(e,t){return function(n){return n.Delay(function(){var i=new _Map,r=function t(n){return function(r){return r.Delay(function(){var o="GlobalValue"===n.Kind.Case;return i.has(n.Symbol)||!o&&!function(){return null==n.Type}(null)?r.Zero():(i.set(n.Symbol,!0),r.Combine(r.For(Entity_get_Antecedents.bind(n)(),function(e){return r.Bind(t(e),function(){return r.Return(null)})}),r.Delay(function(){return Log.trace("typechecker","Type of entity '%s' (%O) is: %O",Entity_get_Name.bind(n)(),n.Kind,getType$1(e,n)),r.Bind(evaluateDelayedType(!0,getType$1(e,n)),function(e){return Log.trace("typechecker","Type of entity '%s' (%O) reduced to: %O",Entity_get_Name.bind(n)(),n.Kind,e),n.Type=e,r.Zero()})})))})}(singleton$2)};return n.Bind(r(t),function(){return n.Return(getType$1(e,t))})})}(singleton$2)}function collectTypeErrors(e){var t=[],n=new _Map,i=function e(i){if(!n.has(i.Symbol)){n.set(i.Symbol,!0);var r=Entity_get_Antecedents.bind(i)(),o=!0,s=!1,a=void 0;try{for(var l,u=_getIterator(r);!(o=(l=u.next()).done);o=!0){var c=l.value;e(c)}}catch(e){s=!0,a=e}finally{try{!o&&u.return&&u.return()}finally{if(s)throw a}}addRangeInPlace(i.Errors,t)}};return i(e),_Array$from(t)}function typeCheckProgram(e,t,n){return function(i){return i.Delay(function(){return Log.trace("typechecker","Type checking program"),i.TryWith(i.Delay(function(){var r=new _Map(toList(delay(function(){return collect$1(function(e){return singleton$1([e[1].Symbol,e[0]])},t.Entities)}))),o=new _Map(toList(delay(function(){return map$5(function(e){return[Entity_get_Name.bind(e)(),e]},e)}))),s=new CheckingContext([],o,r);return i.Bind(typeCheckEntityAsync(s,n),function(e){return Log.trace("typechecker","Completed type checking"),i.Zero()})}),function(e){return Log.exn("typechecker","Type checking program failed: %O",e),i.Zero()})})}(singleton$2)}function updateLiveState(e,t){return"UpdateLocation"===t.Case?new LiveState(e.Globals,e.Code,e.Program,e.Mapper,t.Fields[0],e.Selection,e.State,e.CurrentPreview):"UpdateSource"===t.Case?new LiveState(e.Globals,t.Fields[0],t.Fields[2],t.Fields[3],t.Fields[1],e.Selection,e.State,e.CurrentPreview):"CustomEvent"===t.Case?e:new LiveState(t.Fields[0],e.Code,e.Program,e.Mapper,e.Location,e.Selection,e.State,e.CurrentPreview);
}function offsetToLocation(e,t,n){e:for(;;){var i=null!=n.tail&&t<=n.head?[0,n.head,n.tail]:[1];switch(i[0]){case 0:return new Position$1(e,t);case 1:if(null==n.tail)return new Position$1(e,t);e+=1,t=t-n.head-1,n=n.tail;continue e}}}function rangeToLoc(e,t){return new LineRange(offsetToLocation(1,t.Start,e),offsetToLocation(1,t.Start,e))}function offsetToLocation$1(e,t,n){e:for(;;){var i=null!=n.tail&&t<=n.head?[0,n.head,n.tail]:[1];switch(i[0]){case 0:return new Position(e,t);case 1:if(null==n.tail)return new Position(e,t);e+=1,t=t-n.head-1,n=n.tail;continue e}}}function rangeToLoc$1(e,t){return new SourceLocation(offsetToLocation$1(1,t.Start,e.LineLengths),offsetToLocation$1(1,t.Start,e.LineLengths))}function getEmitterAndParams(e,t){var n=reduceType(t);if("Object"===n.Case)return pick(function(t){var n="Method"===t.Case&&t.Fields[0]===e?[0,t.Fields[1],t.Fields[4],t.Fields[0]]:[1];switch(n[0]){case 0:return[n[2],n[1]];case 1:var i="Property"===t.Case&&t.Fields[0]===e?[0,t.Fields[3],t.Fields[0]]:[1];switch(i[0]){case 0:return[i[1],new List$2];case 1:return null}}},n.Fields[0].Members);throw Log.exn("codegen","getEmitterAndParams: Not an object %O",n),new Error("getEmitterAndParams: Not an object")}function compileExpression(e,t){var n="Binary"===t.Node.Case?"Power"===t.Node.Fields[1].Node.Case?[0,t.Node.Fields[0],t.Node.Fields[2]]:[1,t.Node.Fields[0],t.Node.Fields[1],t.Node.Fields[2]]:"Call"===t.Node.Case?null==t.Node.Fields[0]?[3,t.Node.Fields[2],t.Node.Fields[1]]:[2,t.Node.Fields[2],t.Node.Fields[0],t.Node.Fields[1]]:"Property"===t.Node.Case?[4,t.Node.Fields[0],t.Node.Fields[1]]:"Number"===t.Node.Case?[5,t.Node.Fields[0]]:"String"===t.Node.Case?[6,t.Node.Fields[0]]:"Boolean"===t.Node.Case?[7,t.Node.Fields[0]]:"Variable"===t.Node.Case&&e.Globals.has(t.Node.Fields[0].Node.Name)?[8,t.Node.Fields[0]]:[9],i=function(){switch(n[0]){case 0:var i=compileExpression(e,n[1]),r=compileExpression(e,n[2]),o=rangeToLoc$1(e,t.Range),s=new Expression("MemberExpression",[new Expression("IdentifierExpression",["pow",o]),new Expression("IdentifierExpression",["Math",o]),!1,o]);return{v:new Expression("CallExpression",[s,ofArray([i,r]),rangeToLoc$1(e,t.Range)])};case 1:var a=compileExpression(e,n[1]),l=compileExpression(e,n[3]),u=void 0;if("Plus"===n[2].Node.Case)u=new BinaryOperator("BinaryPlus",[]);else if("Minus"===n[2].Node.Case)u=new BinaryOperator("BinaryMinus",[]);else if("Multiply"===n[2].Node.Case)u=new BinaryOperator("BinaryMultiply",[]);else if("Divide"===n[2].Node.Case)u=new BinaryOperator("BinaryDivide",[]);else if("GreaterThan"===n[2].Node.Case)u=new BinaryOperator("BinaryGreater",[]);else if("LessThan"===n[2].Node.Case)u=new BinaryOperator("BinaryLess",[]);else if("GreaterThanOrEqual"===n[2].Node.Case)u=new BinaryOperator("BinaryGreaterOrEqual",[]);else if("LessThanOrEqual"===n[2].Node.Case)u=new BinaryOperator("BinaryLessOrEqual",[]);else{if("Power"===n[2].Node.Case)throw new Error("compileExpression: Power is not a binary operation");u=new BinaryOperator("BinaryEqualStrict",[])}return{v:new Expression("BinaryExpression",[u,a,l,rangeToLoc$1(e,t.Range)])};case 2:var c=map$4(function(t){return[t.Name,compileExpression(e,t.Value)]},n[1].Node),p=_Array$from(map$5(function(e){return e[1]},takeWhile(function(e){return function(){return null==e[0]}(null)},c))),h=new _Map(choose$1(function(e){if(null!=e[0]){var t=e[0];return[t.Node.Name,e[1]]}return null},c)),d=getEmitterAndParams(n[3].Node.Name,n[2].Entity.Type),f=compileExpression(e,n[2]),m=mapIndexed$$1(function(t,i){return t<p.length?p[t]:h.has(i[0])?h.get(i[0]):new Expression("NullLiteral",[rangeToLoc$1(e,n[1].Range)])},d[1]);return{v:d[0].Emit([f,m])};case 3:throw new Error("compileExpression: Call without instance is not supported");case 4:var y=getEmitterAndParams(n[2].Node.Name,n[1].Entity.Type),g=compileExpression(e,n[1]);return{v:y[0].Emit([g,new List$2])};case 5:return{v:new Expression("NumericLiteral",[n[1],rangeToLoc$1(e,t.Range)])};case 6:return{v:new Expression("StringLiteral",[n[1],rangeToLoc$1(e,t.Range)])};case 7:return{v:new Expression("BooleanLiteral",[n[1],rangeToLoc$1(e,t.Range)])};case 8:return{v:e.Globals.get(n[1].Node.Name)};case 9:if("Variable"===t.Node.Case)return{v:new Expression("IdentifierExpression",[t.Node.Fields[0].Node.Name,rangeToLoc$1(e,t.Node.Fields[0].Range)])};if("List"===t.Node.Case){var v=map$4(function(t){return compileExpression(e,t)},t.Node.Fields[0]);return{v:new Expression("ArrayExpression",[v,rangeToLoc$1(e,t.Range)])}}if("Function"!==t.Node.Case)throw"Empty"===t.Node.Case?(console.log("compileExpression: %O",t.Node),new Error("!")):new Error("C:\\Tomas\\Public\\thegamma\\thegamma-script\\src\\thegamma\\codegen/codegen.fs",37,8);var C=function(){var n=new Expression("IdentifierExpression",[t.Node.Fields[0].Node.Name,rangeToLoc$1(e,t.Node.Fields[0].Range)]),i=compileExpression(function(){var i=add$1(t.Node.Fields[0].Node.Name,n,e.Globals);return new CompilationContext(e.LineLengths,i)}(),t.Node.Fields[1]),r=new Statement("BlockStatement",[ofArray([new Statement("ReturnStatement",[i,rangeToLoc$1(e,t.Node.Fields[1].Range)])]),rangeToLoc$1(e,t.Node.Fields[1].Range)]);return{v:{v:new Expression("FunctionExpression",[null,ofArray([new Pattern("IdentifierPattern",[t.Node.Fields[0].Node.Name,rangeToLoc$1(e,t.Node.Fields[0].Range)])]),r,!1,!1,rangeToLoc$1(e,t.Range)])}}}();if("object"===("undefined"==typeof C?"undefined":_typeof(C)))return C.v}}();if("object"===("undefined"==typeof i?"undefined":_typeof(i)))return i.v}function compileCommand(e,t){if("Expr"===t.Node.Case){var n=compileExpression(e,t.Node.Fields[0]);return new Statement("ExpressionStatement",[n,rangeToLoc$1(e,t.Range)])}var i=compileExpression(e,t.Node.Fields[1]),r=new Pattern("IdentifierPattern",[t.Node.Fields[0].Node.Name,rangeToLoc$1(e,t.Node.Fields[0].Range)]),o=new VariableDeclarator("VariableDeclarator",[r,i,rangeToLoc$1(e,t.Range)]);return new Statement("VariableDeclaration",[new VariableDeclarationKind("Var",[]),ofArray([o]),rangeToLoc$1(e,t.Range)])}function compileProgram(e,t){var n=map$4(function(t){return compileCommand(e,t)},t.Body.Node);return new Program$1(rangeToLoc$1(e,t.Body.Range),n)}function compile(e,t,n){return function(i){return i.Delay(function(){return i.TryWith(i.Delay(function(){return i.Bind(Async_AwaitFuture_Static(e),function(e){var r=create$3(choose$$1(function(e){var t="GlobalValue"===e.Kind.Case&&null!=e.Kind.Fields[1]?[0,e.Kind.Fields[1],e.Kind.Fields[0]]:[1];switch(t[0]){case 0:return[t[2].Name,t[1]];case 1:return null}},e),new GenericComparer(compare)),o=new CompilationContext(toList(delay(function(){return map$5(function(e){return e.length},split$$1(t,"\n"))})),r),s=compileProgram(o,n),a=Babel.transformFromAst(Serializer.serializeProgram(s),t,new BabelOptions$1(["es2015"]));return Log.trace("codegen","Evaluating: %O",a),i.Return(a.code)})}),function(e){return Log.exn("codegen","Evaluating code failed: %O",e),i.Return("")})})}(singleton$2)}function makeObjectType(e){return new Type("Object",[new ObjectType(_Array$from(e))])}function isNumeric(e){return e.Equals(new PrimitiveType("Number",[]))}function isConcatenable(e){return e.Equals(new PrimitiveType("String",[]))}function ident(e){return new Expression("IdentifierExpression",[e,null])}function str(e){return new Expression("StringLiteral",[e,null])}function bool(e){return new Expression("BooleanLiteral",[e,null])}function arr(e){return new Expression("ArrayExpression",[e,null])}function op_Dynamic(e,t){return new Expression("MemberExpression",[e,new Expression("IdentifierExpression",[t,null]),!1,null])}function op_DivideQmarkDivide(e,t){return new Expression("MemberExpression",[e,t,!0,null])}function op_DivideAtDivide(e,t){return new Expression("CallExpression",[e,t,null])}function getTypeAndEmitter(e){return"Number"===e.Case?[new Type("Primitive",[new PrimitiveType("Number",[])]),function(e){return op_DivideAtDivide(ident("Number"),ofArray([e]))}]:"Bool"===e.Case?[new Type("Primitive",[new PrimitiveType("Number",[])]),function(e){return op_DivideAtDivide(ident("Boolean"),ofArray([e]))}]:"Unit"===e.Case?[new Type("Primitive",[new PrimitiveType("Unit",[])]),function(e){return new Expression("NullLiteral",[null])}]:[new Type("Primitive",[new PrimitiveType("String",[])]),function(e){return e}]}function makeMethodEmitter(e,t){return new Emitter(function(t){var n=arr(toList(delay(function(){return map$5(function(e){return e},t[1])})));return op_DivideAtDivide(op_Dynamic(t[0],"addCall"),ofArray([str(e),n]))})}function makeDataEmitter(e,t,n){return new Emitter(function(i){return t?op_DivideAtDivide(op_Dynamic(ident("series"),"create"),ofArray([op_DivideAtDivide(op_Dynamic(i[0],"getData"),ofArray([str(Transform.toUrl(reverse$$1(n))),bool(e)])),str("key"),str("value"),str("")])):op_DivideAtDivide(op_Dynamic(ident("series"),"ordinal"),ofArray([op_DivideAtDivide(op_Dynamic(i[0],"getData"),ofArray([str(Transform.toUrl(reverse$$1(n))),bool(e)])),str("key"),str("value"),str("")]))})}function makeProperty(e,t,n){var i=new Metadata("http://schema.thegamma.net/pivot","Transformations",n),r=new Metadata("http://schema.thegamma.net/pivot","Fields",e.Fields);return new Member("Property",[t,makePivotType(e,n),ofArray([i,r]),propertyEmitter])}function makeMethod(e,t,n,i,r){var o=new Metadata("http://schema.thegamma.net/pivot","Transformations",n),s=new Metadata("http://schema.thegamma.net/pivot","Fields",e.Fields);return new Member("Method",[t,toList(delay(function(){return collect$1(function(e){return singleton$1([e[0],!1,new Type("Primitive",[e[1]])])},r)})),makePivotType(e,n),ofArray([o,s]),makeMethodEmitter(i,r)])}function makeDataMember(e,t,n,i){var r=Transform.transformFields(e.InputFields,reverse$$1(i));Log.trace("providers","Make data member using transform %O. Got fields: %O",i,r);var o=void 0,s=null!=i.tail&&"GetSeries"===i.head.Case?[0]:[1];switch(s[0]){case 0:var a=null!=r.tail&&null!=r.tail.tail&&null==r.tail.tail.tail?[0,r.head,r.tail.head]:[1];switch(a[0]){case 0:o=[e.LookupNamed("series")(ofArray([new Type("Primitive",[a[1].Type]),new Type("Primitive",[a[2].Type])])),!0];break;case 1:throw new Error("makeDataMember: Series should have key and value")}break;case 1:var l=_Array$from(r).map(function(e){var t=getTypeAndEmitter(e.Type),n=new Emitter(function(n){return t[1](op_DivideQmarkDivide(n[0],str(e.Name)))});return new Member("Property",[e.Name,t[0],ofArray([ProviderHelpers.docMeta(new Documentation("Text",[""]))]),n])}),u=new Type("Object",[new ObjectType(l)]);o=[e.LookupNamed("series")(ofArray([new Type("Primitive",[new PrimitiveType("Number",[])]),u])),!1]}var c=o[1]?i:new List$2(new Transformation("GetTheData",[]),i),p=new Metadata("http://schema.thegamma.net/pivot","Transformations",c),h=new Metadata("http://schema.thegamma.net/pivot","Fields",e.Fields);return new Member("Property",[t,o[0],ofArray([p,h]),makeDataEmitter(n,o[1],c)])}function handleGetSeriesRequest(e,t,n,i){var r=[n,i],o="!"===r[0]?"!"===r[1]?[0]:[2]:"!"===r[1]?[1]:[2];switch(o[0]){case 0:return makeObjectType(toList(delay(function(){return map$5(function(n){return makeProperty(e,"with key "+n.Name,new List$2(new Transformation("GetSeries",[n.Name,"!"]),t))},e.Fields)})));case 1:return makeObjectType(toList(delay(function(){return map$5(function(n){return makeDataMember(e,"and value "+n.Name,!1,new List$2(new Transformation("GetSeries",[r[0],n.Name]),t))},e.Fields)})));case 2:throw new Error("handleGetSeriesRequest: Should not happen")}}function handlePagingRequest(e,t,n,i){var r=makeMethod(e,"take",ofArray([new Transformation("Empty",[]),new Transformation("Paging",[reverse$$1(new List$2(new Paging("Take",[n+"-take"]),i))])],t),n+"-take",ofArray([["count",new PrimitiveType("Number",[])]])),o=makeMethod(e,"skip",new List$2(new Transformation("Paging",[new List$2(new Paging("Skip",[n+"-skip"]),i)]),t),n+"-skip",ofArray([["count",new PrimitiveType("Number",[])]])),s=makeProperty(e,"then",ofArray([new Transformation("Empty",[]),new Transformation("Paging",[reverse$$1(i)])],t));return makeObjectType(function(){var e=null!=i.tail?"Skip"===i.head.Case&&null==i.tail.tail?[1]:[2]:[0];switch(e[0]){case 0:return ofArray([o,r,s]);case 1:return ofArray([r,s]);case 2:throw new Error("handlePagingRequest: Shold not happen")}}())}function handleDropRequest(e,t,n){var i=create$2(n,new GenericComparer(compare));return makeObjectType(toList(delay(function(){return append$1(singleton$1(makeProperty(e,"then",ofArray([new Transformation("Empty",[]),new Transformation("DropColumns",[n])],t))),delay(function(){return collect$1(function(r){return i.has(r.Name)?empty():singleton$1(makeProperty(e,"drop "+r.Name,new List$2(new Transformation("DropColumns",[new List$2(r.Name,n)]),t)))},e.Fields)}))})))}function handleSortRequest(e,t,n){var i=create$2(map$4(function(e){return e[0]},n),new GenericComparer(compare));return makeObjectType(toList(delay(function(){return append$1(singleton$1(makeProperty(e,"then",ofArray([new Transformation("Empty",[]),new Transformation("SortBy",[n])],t))),delay(function(){return collect$1(function(r){if(i.has(r.Name))return empty();var o=function(){var i=(fsFormat("Use the field '%s' as the next sorting keys")(function(e){return e})(r.Name),n.Equals(new List$2)?"by ":"and by ");return{v:append$1(singleton$1(makeProperty(e,i+r.Name,new List$2(new Transformation("SortBy",[new List$2([r.Name,new SortDirection("Ascending",[])],n)]),t))),delay(function(){return singleton$1(makeProperty(e,i+r.Name+" descending",new List$2(new Transformation("SortBy",[new List$2([r.Name,new SortDirection("Descending",[])],n)]),t)))}))}}();return"object"===("undefined"==typeof o?"undefined":_typeof(o))?o.v:void 0},e.Fields)}))})))}function aggregationMembers(e,t,n,i){var r=exists$1(function(){var e=new Aggregation("CountAll",[]);return function(t){return e.Equals(t)}}(),i),o=function(e){return exists$1(function(t){var n="ReturnUnique"===t.Case?[0,t.Fields[0]]:"ConcatValues"===t.Case?[0,t.Fields[0]]:"Sum"===t.Case?[0,t.Fields[0]]:"Mean"===t.Case?[0,t.Fields[0]]:"CountAll"===t.Case?[1]:"GroupKey"===t.Case?[1]:[0,t.Fields[0]];switch(n[0]){case 0:return n[1]===e;case 1:return!1}},i)},s=function(r){return function(o){return makeProperty(e,r,new List$2(new Transformation("GroupBy",[n,new List$2(o,i)]),t))}};return toList(delay(function(){return append$1(singleton$1(makeProperty(e,"then",ofArray([new Transformation("Empty",[]),new Transformation("GroupBy",[n,i])],t))),delay(function(){return append$1(r?empty():singleton$1(s("count all")(new Aggregation("CountAll",[]))),delay(function(){return collect$1(function(e){return o(e.Name)?empty():append$1(singleton$1(s("count distinct "+e.Name)(new Aggregation("CountDistinct",[e.Name]))),delay(function(){return append$1(singleton$1(s("return unique "+e.Name)(new Aggregation("ReturnUnique",[e.Name]))),delay(function(){return append$1(isConcatenable(e.Type)?singleton$1(s("concatenate values of "+e.Name)(new Aggregation("ConcatValues",[e.Name]))):empty(),delay(function(){return isNumeric(e.Type)?append$1(singleton$1(s("average "+e.Name)(new Aggregation("Mean",[e.Name]))),delay(function(){return singleton$1(s("sum "+e.Name)(new Aggregation("Sum",[e.Name])))})):empty()}))}))}))},e.Fields)}))}))}))}function handleGroupAggRequest(e,t,n,i){return makeObjectType(aggregationMembers(e,t,n,i))}function handleGroupRequest(e,t,n){var i=null==n.tail?"by ":"and ";return makeObjectType(toList(delay(function(){return append$1(map$5(function(r){return makeProperty(e,i+r.Name,new List$2(new Transformation("GroupBy",[new List$2(r.Name,n),new List$2]),t))},e.Fields),delay(function(){return null!=n.tail?aggregationMembers(e,t,n,ofArray([new Aggregation("GroupKey",[])])):empty()}))})))}function handleFilterEqNeqRequest(e,t,n,i,r){return function(o){return o.Delay(function(){var s=null==r.tail?t:new List$2(new Transformation("FilterBy",[r]),t),a=e.Root+"?"+Transform.toUrl(reverse$$1(new List$2(new Transformation("GetRange",[n]),s)));return o.Bind(Http.Request("GET",a),function(s){var a=JSON.parse(s);return o.Return(makeObjectType(toList(delay(function(){return map$5(function(o){return makeProperty(e,o,new List$2(new Transformation("FilterBy",[new List$2([n,i,o],r)]),t))},a)}))))})})}(singleton$2)}function handleFilterRequest(e,t,n){var i=null==n.tail?"":"and ";return makeObjectType(toList(delay(function(){return append$1(collect$1(function(r){return append$1(singleton$1(makeProperty(e,i+r.Name+" is",new List$2(new Transformation("FilterBy",[new List$2([r.Name,!0,"!"],n)]),t))),delay(function(){return singleton$1(makeProperty(e,i+r.Name+" is not",new List$2(new Transformation("FilterBy",[new List$2([r.Name,!1,"!"],n)]),t)))}))},e.Fields),delay(function(){return null!=n.tail?singleton$1(makeProperty(e,"then",ofArray([new Transformation("Empty",[]),new Transformation("FilterBy",[n])],t))):empty()}))})))}function makePivotTypeImmediate(e,t){return function(n){return n.Delay(function(){var i=null!=t.tail?[t.head,t.tail]:[new Transformation("Empty",[]),new List$2],r=void 0,o=Transform.transformFields(e.InputFields,reverse$$1(i[1]));r=new Context$2(e.Root,e.LookupNamed,e.InputFields,o);var s="GetSeries"===i[0].Case?[1,i[0].Fields[0],i[0].Fields[1]]:"Paging"===i[0].Case?[2,i[0].Fields[0]]:"SortBy"===i[0].Case?[3,i[0].Fields[0]]:"DropColumns"===i[0].Case?[4,i[0].Fields[0]]:"FilterBy"===i[0].Case?null!=i[0].Fields[0].tail&&"!"===i[0].Fields[0].head[2]?[5,i[0].Fields[0].tail,i[0].Fields[0].head[1],i[0].Fields[0].head[0]]:[6,i[0].Fields[0]]:"GroupBy"===i[0].Case?null==i[0].Fields[1].tail?[7,i[0].Fields[0]]:[8,i[0].Fields[1],i[0].Fields[0]]:"GetTheData"===i[0].Case?[9]:"GetRange"===i[0].Case?[9]:"Metadata"===i[0].Case?[9]:[0];switch(s[0]){case 0:return n.Return(makeObjectType(ofArray([makeProperty(r,"group data",new List$2(new Transformation("GroupBy",[new List$2,new List$2]),i[1])),makeProperty(r,"filter data",new List$2(new Transformation("FilterBy",[new List$2]),i[1])),makeProperty(r,"sort data",new List$2(new Transformation("SortBy",[new List$2]),i[1])),makeProperty(r,"drop columns",new List$2(new Transformation("DropColumns",[new List$2]),i[1])),makeProperty(r,"paging",new List$2(new Transformation("Paging",[new List$2]),i[1])),makeProperty(r,"get series",new List$2(new Transformation("GetSeries",["!","!"]),i[1])),makeDataMember(r,"get the data",!1,i[1])])));case 1:return n.Return(handleGetSeriesRequest(r,i[1],s[1],s[2]));case 2:var a=fsFormat("pgid-%d")(function(e){return e})(sumBy(function(e){return"Paging"===e.Case?1:0},i[1]));return n.Return(handlePagingRequest(r,i[1],a,s[1]));case 3:return n.Return(handleSortRequest(r,i[1],s[1]));case 4:return n.Return(handleDropRequest(r,i[1],s[1]));case 5:return n.ReturnFrom(handleFilterEqNeqRequest(r,i[1],s[3],s[2],s[1]));case 6:return n.Return(handleFilterRequest(r,i[1],s[1]));case 7:return n.Return(handleGroupRequest(r,i[1],s[1]));case 8:return n.Return(handleGroupAggRequest(r,i[1],s[2],s[1]));case 9:return n.Return(function(){throw new Error("makePivotTypeImmediate: GetTheData, GetRange and Metadata shouldn't be of pivot type")}())}})}(singleton$2)}function adjustForPreview(e){var t=null!=e.tail?"GroupBy"===e.head.Case?null==e.head.Fields[0].tail?[0,e.tail]:null==e.head.Fields[1].tail?[1,e.head.Fields[0],e.tail]:[3]:"GetSeries"===e.head.Case?[2,e.tail]:[3]:[3];switch(t[0]){case 0:return t[1];case 1:return new List$2(new Transformation("GroupBy",[t[1],ofArray([new Aggregation("GroupKey",[])])]),t[2]);case 2:return t[1];case 3:return e}}function withPreview(e,t,n){if("Object"===n.Case){var i=makeDataMember(e,"preview",!0,adjustForPreview(t));return new Type("Object",[new ObjectType([i].concat(n.Fields[0].Members))])}throw new Error("withPreview: Expected object type")}function makePivotType(e,t){var n=Transform.toUrl(t),i=function(n){return n.Delay(function(){return n.TryWith(n.Delay(function(){return n.Bind(makePivotTypeImmediate(e,t),function(i){return n.Return(withPreview(e,t,i))})}),function(e){return Log.exn("providers","Failed when generating type for %O with exception %O",t,e),n.Return(function(){throw e}())})})}(singleton$2);return new Type("Delayed",["pivot: "+n,function(e){return function(t){return Async_CreateNamedFuture_Static(e,t)}}(n)(i)])}function providePivotType(e,t,n,i){var r=toList(delay(function(){return collect$1(function(e){return singleton$1(new Field(e[0],e[1]))},i)})),o=makePivotType(new Context$2(e,n,r,r),new List$2),s=ident("PivotContext"),a=new Metadata("http://schema.thegamma.net/pivot","Transformations",new List$2),l=new Metadata("http://schema.thegamma.net/pivot","Fields",r);return new ProvidedType("GlobalValue",[t,ofArray([a,l]),new Expression("NewExpression",[s,ofArray([str(e),new Expression("ArrayExpression",[new List$2,null])]),null]),o])}function pickMetaByType(e,t,n){return tryPick(function(n){return n.Context===e&&n.Type===t?n.Data:null},n)}function pickPivotFields(e){var t=e.Entity,n=null!=t?"ChainElement"===t.Kind.Case?[0,t.Meta]:"GlobalValue"===t.Kind.Case?[0,t.Meta]:"Variable"===t.Kind.Case?[0,t.Kind.Fields[1].Meta]:[1]:[1];switch(n[0]){case 0:var i=pickMetaByType("http://schema.thegamma.net/pivot","Fields",n[1]);return null!=i?i:null;case 1:return null}}function pickPivotTransformations(e){var t=e.Entity,n=null!=t?"ChainElement"===t.Kind.Case?[0,t.Meta]:"GlobalValue"===t.Kind.Case?[1,t.Meta]:[2]:[2];switch(n[0]){case 0:var i=pickMetaByType("http://schema.thegamma.net/pivot","Transformations",n[1]);return null!=i?i:null;case 1:return new List$2;case 2:return null}}function commandAtLocation(e,t){return tryFind(function(t){return t.Range.Start<=e&&t.Range.End+1>=e},t.Body.Node)}function transformName(e){if("DropColumns"===e.Case)return"drop columns";if("Empty"===e.Case)return"empty";if("FilterBy"===e.Case)return"filter by";if("GetSeries"===e.Case)return"get series";if("GetTheData"===e.Case)return"get the data";if("GroupBy"===e.Case)return"group by";if("Paging"===e.Case)return"paging";if("SortBy"===e.Case)return"sort by";throw new Error("C:\\Tomas\\Public\\thegamma\\thegamma-script\\src\\thegamma\\live/pivot.fs",57,20)}function createPivotSections(e){var t=function(e){return function(t){return function(n){e:for(;;){var i=null!=n.tail&&function(){var e=n.head[1];n.head[0];return transformName(e.head)===transformName(t[0])&&e.length===t[2]}()?[0,n.head[0],n.head[1],n.tail]:[1];switch(i[0]){case 0:e=e,t=[i[2].head,new List$2(i[1],t[1]),t[2]],n=i[3];continue e;case 1:if(null==n.tail){var r=new PivotSection(t[0],reverse$$1(t[1]));return reverse$$1(new List$2(r,e))}var o=n.head[1],s=n.head[0],a=new PivotSection(t[0],reverse$$1(t[1]));e=new List$2(a,e),t=[o.head,ofArray([s]),o.length],n=n.tail;continue e}}}}},n=choose$$1(function(e){var t=pickPivotTransformations(e);if(null==t)return null;var n=filter$1(function(e){return"Empty"!==e.Case},t);return null==n.tail?null:[e,n]},e);if(null==n.tail)return new List$2;var i=n.head[1],r=n.head[0];return t(new List$2)([i.head,ofArray([r]),i.length])(n.tail)}function collectChain(e,t){e:for(;;){var n="Call"===t.Node.Case?null!=t.Node.Fields[0]?[0,t.Node.Fields[0],t.Node.Fields[1]]:[2]:"Property"===t.Node.Case?[0,t.Node.Fields[0],t.Node.Fields[1]]:"Variable"===t.Node.Case?[1,t.Node.Fields[0]]:[2];switch(n[0]){case 0:e=new List$2([n[2].Range.Start,t],e),t=n[1];continue e;case 1:return new List$2([n[1].Range.Start,t],e);case 2:return null}}}function collectFirstChain(e){var t=collectChain(new List$2,e),n=null!=t&&null!=t.tail?[0,t]:[1],i=function(){switch(n[0]){case 0:return{v:[function(e){return e},n[1]]};case 1:var t=_ExprLeaf_ExprNode_(e.Node);if("Choice2Of2"!==t.Case)return{v:null};var i=function(){var n=function(n){return function(i){for(;;){if(null==i.tail)return null;var r=collectFirstChain(i.head);if(null!=r){var o=function(){var o=r[0],s=r[1],a=function(r){var s=rebuildExprNode(i.head.Node,append$$1(reverse$$1(n),append$$1(ofArray([o(r)]),i.tail)),t.Fields[0][1]);return new _Node(e.WhiteBefore,e.WhiteAfter,e.Range,s,e.Entity)};return{v:[a,s]}}();if("object"===("undefined"==typeof o?"undefined":_typeof(o)))return o.v}else n=new List$2(i.head,n),i=i.tail}}};return{v:{v:n(new List$2)(t.Fields[0][0])}}}();if("object"===("undefined"==typeof i?"undefined":_typeof(i)))return i.v}}();if("object"===("undefined"==typeof i?"undefined":_typeof(i)))return i.v}function withPivotState(e,t){return new LiveState(t.Globals,t.Code,t.Program,t.Mapper,t.Location,t.Selection,e,t.CurrentPreview)}function findPreview(e,t,n){var i=new Name("preview"),r=defaultArg(n.Type,null,function(e){return reduceType(e)}),o=void 0;if(null!=r)if("Object"===r.Case){var s=_FindMethod___$1(i,r.Fields[0]);if(null!=s)o=[0];else{var a=_FindProperty___$1(i,r.Fields[0]);o=null!=a?[0]:[1]}}else o=[1];else o=[1];var l=function(){switch(o[0]){case 0:var i=evaluate(t,n),r=defaultArg(i,null,function(e){return e.Preview.value});if(null==r)return{v:function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("div")(ofArray([op_EqualsGreater("class","placeholder")]))(ofArray([text("Preview could not be evaluated")]))};var s=function(){Log.trace("live","Found preview value: %O",r);var t=function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("div")(ofArray([op_EqualsGreater("class","placeholder")]))(ofArray([text("Loading preview...")])),n=!1;return function(e){startImmediate(e)}(function(i){return i.Delay(function(){return i.Bind(table.create(r).render(),function(r){return i.Combine(n?function(){return e(new LiveEvent("CustomEvent",[new PivotEditorAction("UpdatePreview",[r])])),i.Zero()}():function(){return t=r,i.Zero()}(),i.Delay(function(){return Log.trace("live","Evaluated to a node"),i.Zero()}))})})}(singleton$2)),n=!0,Log.trace("live","After evaluation started: %O",t),{v:{v:t}}}();if("object"===("undefined"==typeof s?"undefined":_typeof(s)))return s.v;case 1:return{v:function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("div")(ofArray([op_EqualsGreater("class","placeholder")]))(ofArray([text("This block does not have a preview")]))}}}();if("object"===("undefined"==typeof l?"undefined":_typeof(l)))return l.v}function updateBody(e,t){var n=commandAtLocation(t.Location,t.Program);if(null==n)return null;var i=(t.Mapper.AbsoluteToLineCol(n.Range.End+1),"Let"===n.Node.Case?[0,n.Node.Fields[1]]:[0,n.Node.Fields[0]]);switch(i[0]){case 0:var r=collectFirstChain(i[1]);if(null==r)return null;var o=function(){var n=(r[0],r[1]),o=createPivotSections(map$4(function(e){return e[1]},n)),s=n.head,a=tryLast(filter$1(function(e){return t.Location>=e[0]},n)),l=null!=a&&function(){a[1];return!(null==o.tail)}()?[0,a[1]]:[1],u=function(){switch(l[0]){case 0:var n=findPreview(e,t.Globals,l[1].Entity),r=void 0,a=new PivotEditorMenus("Hidden",[]),u=null,c=l[1].Entity;return r=new PivotEditorState(i[1],s[1],n,o,c,a,u),{v:{v:function(e){return withPivotState(r,e)}(t)}};case 1:return{v:{v:null}}}}();if("object"===("undefined"==typeof u?"undefined":_typeof(u)))return u.v}();if("object"===("undefined"==typeof o?"undefined":_typeof(o)))return o.v}}function hideMenus(e){var t=void 0,n=new PivotEditorMenus("Hidden",[]);return t=new PivotEditorState(e.State.Body,e.State.FirstNode,e.State.Preview,e.State.Sections,e.State.SelectedEntity,n,e.State.Focus),new LiveState(e.Globals,e.Code,e.Program,e.Mapper,e.Location,e.Selection,t,e.CurrentPreview)}function editorLocation(e,t,n){var i=e.AbsoluteToLineCol(t),r=e.AbsoluteToLineCol(n);return new LineColumnRange(i[0],i[1],r[0],r[1])}function selectName(e,t){var n=void 0,i="Call"===e.Node.Case?[0,e.Node.Fields[1]]:"Property"===e.Node.Case?[0,e.Node.Fields[1]]:[1];switch(i[0]){case 0:n=i[1].Range;break;case 1:n=e.Range}var r=editorLocation(t.Mapper,n.Start,n.End+1),o=r;return new LiveState(t.Globals,t.Code,t.Program,t.Mapper,t.Location,o,t.State,t.CurrentPreview)}function tryTransformChain(e,t){var n=collectFirstChain(t.State.Body);if(null!=n){var i=n[0],r=n[1],o=createPivotSections(map$4(function(e){return e[1]},r));return hideMenus(e(t.State.Body)(i)(map$4(function(e){return e[1]},r))(o))}return hideMenus(t)}function replaceAndSelectMarker(e,t){var n=t.Code.indexOf(marker),i=replace$$1(t.Code,marker,escapeIdent(e)),r=new LocationMapper(t.Code),o=editorLocation(r,n,n+escapeIdent(e).length),s=o;return new LiveState(t.Globals,i,t.Program,t.Mapper,t.Location,s,t.State,t.CurrentPreview)}function reconstructChain(e,t,n){var i=fold$1(function(e,t){if("Property"===t.Node.Case){var n=new Expr("Property",[e,t.Node.Fields[1]]);return new _Node(t.WhiteBefore,t.WhiteAfter,t.Range,n,t.Entity)}if("Call"===t.Node.Case){var i=new Expr("Call",[e,t.Node.Fields[1],t.Node.Fields[2]]);return new _Node(t.WhiteBefore,t.WhiteAfter,t.Range,i,t.Entity)}throw new Error("Unexpected node in call chain")},n.head,n.tail),r=trim(formatSingleExpression(i),"both"),o=e.Code.substr(0,t.Range.Start)+r+e.Code.substr(t.Range.End+1);return new LiveState(e.Globals,o,e.Program,e.Mapper,e.Location,e.Selection,e.State,e.CurrentPreview)}function createChainNode(e,t){var n=function(e){return node(new _Range(0,0),e)};if(null!=e){var i=map$4(function(e){return new Argument(null,n(e))},e);return n(new Expr("Call",[null,n(new Name(t)),n(i)]))}return n(new Expr("Property",[n(new Expr("Empty",[])),n(new Name(t))]))}function getWhiteBeforeAndAfterSections(e,t){var n=function(e){var t=toList(toList(countBy(function(e){return e},e)));return reduce(function(e){return function(t,n){return e(t)>e(n)?t:n}}(function(e){return""===e[0]?0:e[1]}),new List$2(["",0],t))[0]},i=[n(function(e){return map$4(function(e){return formatWhiteBeforeExpr(e)},e)}(map$4(function(e){return e.Nodes.head},t))),n(function(e){return map$4(function(e){return formatWhiteAfterExpr(e)},e)}(append$$1(ofArray([e]),map$4(function(e){return last(e.Nodes)},t))))];return Log.trace("live","Inserting whitespace before '%s' and after '%s' for sections: %O",i[0],i[1],t),[ofArray([new Token(new TokenKind("White",[i[0]]),new _Range(0,0))]),ofArray([new Token(new TokenKind("White",[i[1]]),new _Range(0,0))])]}function insertWhiteAroundSection(e,t,n){var i=n.Nodes.length-1;return new PivotSection(n.Transformation,mapIndexed$$1(function(n,r){var o=void 0,s=[e,r],a=null!=s[0]&&"Property"===s[1].Node.Case&&function(){s[1].Node.Fields[1],s[1].Node.Fields[0],s[0];return 0===n}()?[0,s[0],s[1].Node.Fields[0],s[1].Node.Fields[1]]:[1];switch(a[0]){case 0:var l=new Expr("Property",[a[2],new _Node(a[1],a[3].WhiteAfter,a[3].Range,a[3].Node,a[3].Entity)]);o=new _Node(r.WhiteBefore,r.WhiteAfter,r.Range,l,r.Entity);break;case 1:var u=null!=s[0]&&"Call"===s[1].Node.Case&&function(){s[1].Node.Fields[1],s[1].Node.Fields[0],s[0],s[1].Node.Fields[2];return 0===n}()?[0,s[1].Node.Fields[2],s[0],s[1].Node.Fields[0],s[1].Node.Fields[1]]:[1];switch(u[0]){case 0:var c=new Expr("Call",[u[3],new _Node(u[2],u[4].WhiteAfter,u[4].Range,u[4].Node,u[4].Entity),u[1]]);o=new _Node(r.WhiteBefore,r.WhiteAfter,r.Range,c,r.Entity);break;case 1:o=r}}var p=void 0,h=[t,o],d=null!=h[0]&&function(){h[0];return n===i}()?[0,h[0],h[1]]:[1];switch(d[0]){case 0:p=new _Node(d[2].WhiteBefore,d[1],d[2].Range,d[2].Node,d[2].Entity);break;case 1:p=o}return p},n.Nodes))}function updatePivotState(e,t,n){var i="UpdateLocation"===n.Case?[0]:"InitializeGlobals"===n.Case?[1]:"CustomEvent"===n.Case?[2]:[0];switch(i[0]){case 0:return function(t){return updateBody(e,t)}(hideMenus(t));case 1:return t;case 2:if("SwitchMenu"===n.Fields[0].Case)return withPivotState(new PivotEditorState(t.State.Body,t.State.FirstNode,t.State.Preview,t.State.Sections,t.State.SelectedEntity,n.Fields[0].Fields[0],t.State.Focus),t);if("SelectChainElement"===n.Fields[0].Case)return tryTransformChain(function(e){return function(e){return function(e){return function(i){var r=function(e){return function(n){e:for(;;){var i=null!=n.tail&&n.head.Range.End+1<t.Location?[0,n.head,n.tail]:[1];switch(i[0]){case 0:e=i[1],n=i[2];continue e;case 1:return null==n.tail?[e,e,e]:null==n.tail.tail?[e,n.head,n.head]:[e,n.head,n.tail.head]}}}},o=r(e.head)(e.tail);return selectName(n.Fields[0].Fields[0]<0?o[0]:n.Fields[0].Fields[0]>0?o[2]:o[1],t)}}}},t);if("SelectRange"===n.Fields[0].Case)return function(){var e=editorLocation(t.Mapper,n.Fields[0].Fields[0].Start,n.Fields[0].Fields[0].End+1);
return new LiveState(t.Globals,t.Code,t.Program,t.Mapper,t.Location,e,t.State,t.CurrentPreview)}();if("ReplaceRange"!==n.Fields[0].Case)return"AddElement"===n.Fields[0].Case?tryTransformChain(function(e){return function(i){return function(i){return function(r){var o=collect$$1(function(e){return ofArray(equals(e.Entity.Symbol,n.Fields[0].Fields[0])?[e,createChainNode(n.Fields[0].Fields[2],marker)]:[e])},i);return function(e){return replaceAndSelectMarker(n.Fields[0].Fields[1],e)}(reconstructChain(t,e,o))}}}},t):"ReplaceElement"===n.Fields[0].Case?tryTransformChain(function(e){return function(i){return function(i){return function(r){var o=map$4(function(e){return equals(e.Entity.Symbol,n.Fields[0].Fields[0])?createChainNode(n.Fields[0].Fields[2],marker):e},i);return function(e){return replaceAndSelectMarker(n.Fields[0].Fields[1],e)}(reconstructChain(t,e,o))}}}},t):"RemoveElement"===n.Fields[0].Case?tryTransformChain(function(e){return function(i){return function(i){return function(r){var o=tryLast(toList(takeWhile(function(e){return!equals(e.Entity.Symbol,n.Fields[0].Fields[0])},i))),s=null!=o?o:i.head,a=filter$1(function(e){return!equals(e.Entity.Symbol,n.Fields[0].Fields[0])},i);return function(e){return selectName(s,e)}(reconstructChain(t,e,a))}}}},t):"RemoveSection"===n.Fields[0].Case?tryTransformChain(function(e){return function(i){return function(i){return function(r){var o=tryLast(toList(takeWhile(function(e){return!equals(e.Entity.Symbol,n.Fields[0].Fields[0])},map$4(function(e){return e.Nodes.head},r)))),s=null!=o?o:i.head,a=filter$1(function(e){return!equals(e.Nodes.head.Entity.Symbol,n.Fields[0].Fields[0])},r),l=new List$2(i.head,collect$$1(function(e){return e.Nodes},a));return function(e){return selectName(s,e)}(reconstructChain(t,e,l))}}}},t):"AddTransform"===n.Fields[0].Case?tryTransformChain(function(e){return function(i){return function(i){return function(r){var o=getWhiteBeforeAndAfterSections(i.head,r),s=tryPick(function(e){return pickPivotFields(e)},reverse$$1(collect$$1(function(e){return e.Nodes},r))),a=void 0;if("DropColumns"===n.Fields[0].Fields[0].Case)a=["drop columns",ofArray([marker,"then"])];else if("SortBy"===n.Fields[0].Fields[0].Case)a=["sort data",ofArray([marker,"then"])];else if("FilterBy"===n.Fields[0].Fields[0].Case)a=["filter data",ofArray([marker,"then"])];else if("Paging"===n.Fields[0].Fields[0].Case)a=["paging",ofArray([marker,"then"])];else if("GetSeries"===n.Fields[0].Fields[0].Case)a=["get series",ofArray([marker])];else if("GetTheData"===n.Fields[0].Fields[0].Case)a=["get the data",ofArray([marker])];else if("GroupBy"===n.Fields[0].Fields[0].Case)a=["group data",function(){var e=null!=s&&null!=s.tail?[0,s.head]:[1];switch(e[0]){case 0:return ofArray([marker,"by "+e[1].Name,"then"]);case 1:return ofArray([marker,"by Property","then"])}}()];else{if("Empty"!==n.Fields[0].Fields[0].Case)throw new Error("C:\\Tomas\\Public\\thegamma\\thegamma-script\\src\\thegamma\\live/pivot.fs",365,16);a=["",new List$2]}var l=insertWhiteAroundSection(o[0],o[1],new PivotSection(n.Fields[0].Fields[0],map$4(function(){var e=null;return function(t){return createChainNode(e,t)}}(),a[1]))),u=function(e){if(null==e.tail)return new List$2;var t=function(){var t=void 0,n=[e.head.Transformation,last(e.head.Nodes)],i="Paging"===n[0].Case&&"Call"===n[1].Node.Case&&function(){var e=n[1].Node.Fields[1];return"take"===e.Node.Name}()?[0,n[1].Node.Fields[1]]:[1];switch(i[0]){case 0:t=e.head;break;case 1:var r="Property"===n[1].Node.Case&&function(){var e=n[1].Node.Fields[1];return"then"===e.Node.Name}()?[0,n[1].Node.Fields[1]]:[1];switch(r[0]){case 0:t=e.head;break;case 1:var s=append$$1(e.head.Nodes,ofArray([createChainNode(null,"then")]));t=new PivotSection(e.head.Transformation,s)}}return{v:new List$2(insertWhiteAroundSection(null,o[1],t),e.tail)}}();return"object"===("undefined"==typeof t?"undefined":_typeof(t))?t.v:void 0},c=void 0,p=reverse$$1(r),h=null!=p.tail?"GetSeries"===p.head.Transformation.Case?[0,p.head,p.tail]:"GetTheData"===p.head.Transformation.Case?[0,p.head,p.tail]:[1,p]:[1,p];switch(h[0]){case 0:c=reverse$$1(ofArray([h[1],l],u(h[2])));break;case 1:c=reverse$$1(new List$2(l,u(h[1])))}Log.trace("live","Inserted section: %O",_Array$from(c));var d=new List$2(i.head,collect$$1(function(e){return e.Nodes},c));return function(e){return replaceAndSelectMarker(a[0],e)}(reconstructChain(t,e,d))}}}},t):withPivotState(new PivotEditorState(t.State.Body,t.State.FirstNode,n.Fields[0].Fields[0],t.State.Sections,t.State.SelectedEntity,t.State.Menus,t.State.Focus),t);var r=function(){Log.trace("live","Replace '%s' with '%s'",t.Code.substr(n.Fields[0].Fields[0].Start,n.Fields[0].Fields[0].End-n.Fields[0].Fields[0].Start+1),n.Fields[0].Fields[1]);var e=t.Code.substr(0,n.Fields[0].Fields[0].Start)+n.Fields[0].Fields[1]+t.Code.substr(n.Fields[0].Fields[0].End+1),i=editorLocation(new LocationMapper(e),n.Fields[0].Fields[0].Start,n.Fields[0].Fields[0].Start+n.Fields[0].Fields[1].length);return{v:function(){var n=i;return new LiveState(t.Globals,e,t.Program,t.Mapper,t.Location,n,t.State,t.CurrentPreview)}()}}();if("object"===("undefined"==typeof r?"undefined":_typeof(r)))return r.v}}function renderNodeList(e,t){return toList(delay(function(){return collect$1(function(t){var n="Property"===t.Node.Case&&"then"!==t.Node.Fields[1].Node.Name?[0,t.Node.Fields[1]]:[1];switch(n[0]){case 0:return singleton$1(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("span")(new List$2)(ofArray([function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("a")(ofArray([op_EqualsBangGreater("click",e(new PivotEditorAction("SelectRange",[n[1].Range])))]))(ofArray([text(n[1].Node.Name)])),function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("a")(ofArray([op_EqualsBangGreater("click",e(new PivotEditorAction("RemoveElement",[t.Entity.Symbol])))]))(ofArray([function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("i")(ofArray([op_EqualsGreater("class","gfa gfa-times")]))(new List$2)]))])));case 1:return empty()}},t)}))}function renderContextMenu(e){return function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("a")(ofArray([op_EqualsGreater("class","right"),op_EqualsBangGreater("click",e(new PivotEditorAction("SwitchMenu",[new PivotEditorMenus("ContextualDropdownOpen",[])])))]))(ofArray([function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("i")(ofArray([op_EqualsGreater("class","gfa gfa-plus")]))(new List$2)]))}function renderAddPropertyMenu(e,t,n){return toList(delay(function(){var i=find(function(e){if("Property"===e.Node.Case){var t=e.Node.Fields[1];return"then"!==t.Node.Name}return!0},reverse$$1(n)),r=i.Entity.Type,o=null!=r&&"Object"===r.Case?[0,r.Fields[0]]:[1],s=function(){switch(o[0]){case 0:var n=sortWith(function(e,t){return compare(e,t)},choose$1(function(e){var n="Property"===e.Case&&t(e.Fields[0])?[0,e.Fields[0]]:[1];switch(n[0]){case 0:return n[1];case 1:return null}},o[1].Members));return{v:singleton$1(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("ul")(new List$2)(toList(delay(function(){return map$5(function(t){return function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("li")(new List$2)(ofArray([function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("a")(ofArray([op_EqualsBangGreater("click",e(new PivotEditorAction("AddElement",[i.Entity.Symbol,t,null])))]))(ofArray([text(t)]))]))},n)}))))};case 1:return{v:empty()}}}();if("object"===("undefined"==typeof s?"undefined":_typeof(s)))return s.v}))}function renderSection(e,t){var n=function(t){return function(n){return function(n){n.cancelBubble=!0,e(new LiveEvent("CustomEvent",[t]))}}},i=function(t){return function(n){return function(i){i.cancelBubble=!0,e(new LiveEvent("CustomEvent",[t(n)]))}}},r=function(e){var t=null!=e&&"Property"===e.Node.Case&&null!=e.Entity?[0,e.Entity,e.Node.Fields[1]]:[1];switch(t[0]){case 0:return[t[2].Node.Name,t[1].Symbol];case 1:return["",null]}};return toList(delay(function(){var o=null!=t?"GetSeries"===t.Transformation.Case?[0,t.Nodes]:"GroupBy"===t.Transformation.Case?[1,t.Nodes]:"Paging"===t.Transformation.Case?[2,t.Nodes]:"SortBy"===t.Transformation.Case?[3,t.Nodes]:"DropColumns"===t.Transformation.Case?[4,t.Nodes]:[5]:[5],s=function(){switch(o[0]){case 0:var t=void 0;if(null==o[1].tail)throw new Error("No get series node in get series transformation");t=null!=o[1].tail.tail?null!=o[1].tail.tail.tail?[o[1].head,o[1].tail.head,o[1].tail.tail.head]:[o[1].head,o[1].tail.head,null]:[o[1].head,null,null];var s=r(t[1]),a=r(t[2]);return{v:append$1(function(){var e=t[0].Entity.Type,n=null!=e&&"Object"===e.Case?[0,e.Fields[0]]:[1];switch(n[0]){case 0:return append$1(singleton$1(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("span")(new List$2)(ofArray([text("with key")]))),delay(function(){return singleton$1(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("select")(ofArray([op_EqualsBangGreater("change",i(function(e){return null!=s[1]?new PivotEditorAction("ReplaceElement",[s[1],e.value,null]):new PivotEditorAction("AddElement",[t[0].Entity.Symbol,e.value,null])}))]))(toList(delay(function(){return append$1(""===s[0]?singleton$1(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("option")(ofArray([op_EqualsGreater("value",""),op_EqualsGreater("selected","selected")]))(ofArray([text("")]))):empty(),delay(function(){return collect$1(function(e){var t="Property"===e.Case&&0===e.Fields[0].indexOf("with key")?[0,e.Fields[0]]:[1];switch(t[0]){case 0:return singleton$1(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("option")(toList(delay(function(){return append$1(singleton$1(op_EqualsGreater("value",t[1])),delay(function(){return s[0]===t[1]?singleton$1(op_EqualsGreater("selected","selected")):empty()}))})))(ofArray([text(replace$$1(t[1],"with key ",""))])));case 1:return empty()}},n[1].Members)}))}))))}));case 1:return empty()}}(),delay(function(){var e=null!=t[1]&&null!=t[1].Entity&&null!=t[1].Entity.Type&&"Object"===t[1].Entity.Type.Case?[0,t[1].Entity,t[1].Entity.Type.Fields[0]]:[1];switch(e[0]){case 0:return append$1(singleton$1(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("span")(new List$2)(ofArray([text("and value")]))),delay(function(){return singleton$1(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("select")(ofArray([op_EqualsBangGreater("change",i(function(t){return null!=a[1]?new PivotEditorAction("ReplaceElement",[a[1],t.value,null]):new PivotEditorAction("AddElement",[e[1].Symbol,t.value,null])}))]))(toList(delay(function(){return append$1(""===a[0]?singleton$1(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("option")(ofArray([op_EqualsGreater("value",""),op_EqualsGreater("selected","selected")]))(ofArray([text("")]))):empty(),delay(function(){return collect$1(function(e){var t="Property"===e.Case&&0===e.Fields[0].indexOf("and value")?[0,e.Fields[0]]:[1];switch(t[0]){case 0:return singleton$1(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("option")(toList(delay(function(){return append$1(singleton$1(op_EqualsGreater("value",t[1])),delay(function(){return a[0]===t[1]?singleton$1(op_EqualsGreater("selected","selected")):empty()}))})))(ofArray([text(replace$$1(t[1],"and value ",""))])));case 1:return empty()}},e[2].Members)}))}))))}));case 1:return empty()}}))};case 1:var l=void 0;if(null==o[1].tail)throw new Error("No group by node in group by transformation");l=null!=o[1].tail.tail?[o[1].head,o[1].tail.head,o[1].tail.tail]:[o[1].head,null,new List$2];var u=r(l[1]);return{v:append$1(function(){var e=l[0].Entity.Type,t=null!=e&&"Object"===e.Case?[0,e.Fields[0]]:[1];switch(t[0]){case 0:return singleton$1(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("select")(ofArray([op_EqualsBangGreater("change",i(function(e){return null!=u[1]?new PivotEditorAction("ReplaceElement",[u[1],e.value,null]):new PivotEditorAction("AddElement",[l[0].Entity.Symbol,e.value,null])}))]))(toList(delay(function(){return append$1(""===u[0]?singleton$1(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("option")(ofArray([op_EqualsGreater("value",""),op_EqualsGreater("selected","selected")]))(ofArray([text("")]))):empty(),delay(function(){return collect$1(function(e){var t="Property"===e.Case&&0===e.Fields[0].indexOf("by")?[0,e.Fields[0]]:[1];switch(t[0]){case 0:return singleton$1(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("option")(toList(delay(function(){return append$1(singleton$1(op_EqualsGreater("value",t[1])),delay(function(){return u[0]===t[1]?singleton$1(op_EqualsGreater("selected","selected")):empty()}))})))(ofArray([text(t[1])])));case 1:return empty()}},t[1].Members)}))}))));case 1:return empty()}}(),delay(function(){return append$1(renderNodeList(n,l[2]),delay(function(){return singleton$1(renderContextMenu(n))}))}))};case 2:var c=create$2(map$4(function(e){if("Call"===e.Node.Case){var t=e.Node.Fields[1];return t.Node.Name}return""},o[1]),new GenericComparer(compare));return{v:append$1(collect$1(function(t){var i="Call"===t.Node.Case&&null!=t.Node.Fields[2].Node.tail&&null==t.Node.Fields[2].Node.tail.tail?[0,t.Node.Fields[2].Node.head,t.Node.Fields[1]]:[1];switch(i[0]){case 0:var r="take"===i[2].Node.Name?new PivotEditorAction("ReplaceElement",[t.Entity.Symbol,"then",null]):new PivotEditorAction("RemoveElement",[t.Entity.Symbol]);return singleton$1(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("span")(new List$2)(ofArray([function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("a")(ofArray([op_EqualsBangGreater("click",n(new PivotEditorAction("SelectRange",[i[2].Range])))]))(ofArray([text(i[2].Node.Name)])),function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("input")(ofArray([op_EqualsGreater("id","input-pg-"+i[2].Node.Name),op_EqualsBangGreater("input",function(t){return function(n){var r=t,o=parseProgram(r.value);0===o[1].length&&1===o[0].Body.Node.length?(t.setCustomValidity(""),e(new LiveEvent("CustomEvent",[new PivotEditorAction("ReplaceRange",[i[1].Value.Range,r.value])]))):t.setCustomValidity("Cannot parse expression")}}),op_EqualsGreater("value",formatSingleExpression(i[1].Value))]))(new List$2),function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("a")(ofArray([op_EqualsBangGreater("click",n(r))]))(ofArray([function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("i")(ofArray([op_EqualsGreater("class","gfa gfa-times")]))(new List$2)]))])));case 1:return empty()}},o[1]),delay(function(){return c.has("take")&&c.has("skip")?empty():singleton$1(renderContextMenu(n))}))};case 3:var p=choose$$1(function(e){var t="Property"===e.Node.Case&&null!=e.Entity&&function(){var t=(e.Entity.Symbol,e.Node.Fields[1]);return"then"!==t.Node.Name&&"sort data"!==t.Node.Name}()?[0,e.Node.Fields[1],e.Entity.Symbol]:[1];switch(t[0]){case 0:return[t[2],t[1]];case 1:return null}},o[1]),h=tryLast(p);return{v:append$1(collect$1(function(e){return singleton$1(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("span")(new List$2)(toList(delay(function(){return append$1(singleton$1(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("a")(ofArray([op_EqualsBangGreater("click",n(new PivotEditorAction("SelectRange",[e[1].Range])))]))(ofArray([text(e[1].Node.Name)]))),delay(function(){return e[1].Node.Name===h[1].Node.Name?singleton$1(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("a")(ofArray([op_EqualsBangGreater("click",n(new PivotEditorAction("RemoveElement",[e[0]])))]))(ofArray([function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("i")(ofArray([op_EqualsGreater("class","gfa gfa-times")]))(new List$2)]))):empty()}))}))))},p),delay(function(){return singleton$1(renderContextMenu(n))}))};case 4:return{v:append$1(renderNodeList(n,o[1].tail),delay(function(){return singleton$1(renderContextMenu(n))}))};case 5:return{v:empty()}}}();if("object"===("undefined"==typeof s?"undefined":_typeof(s)))return s.v}))}function renderPivot(e,t){var n=function(t){return function(n){return function(n){n.cancelBubble=!0,e(new LiveEvent("CustomEvent",[t]))}}},i=tryFind(function(e){return exists$1(function(e){return equals(t.State.SelectedEntity.Symbol,e.Entity.Symbol)},e.Nodes)},t.State.Sections),r=t.State.FirstNode,o=function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("div")(toList(delay(function(){return append$1(singleton$1(op_EqualsGreater("class","pivot-preview")),delay(function(){return t.State.Menus.Equals(new PivotEditorMenus("Hidden",[]))?empty():singleton$1(op_EqualsBangGreater("click",n(new PivotEditorAction("SwitchMenu",[new PivotEditorMenus("Hidden",[])]))))}))})))(ofArray([function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("ul")(ofArray([op_EqualsGreater("class","tabs")]))(toList(delay(function(){return append$1(singleton$1(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("li")(ofArray([op_EqualsGreater("class",equals(t.State.SelectedEntity.Symbol,r.Entity.Symbol)?"selected":"")]))(ofArray([function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("a")(ofArray([op_EqualsBangGreater("click",n(new PivotEditorAction("SelectRange",[r.Range])))]))(toList(delay(function(){return singleton$1("Variable"===r.Node.Case?text(r.Node.Fields[0].Node.Name):text("data"))})))]))),delay(function(){return append$1(map$5(function(e){var i=exists$1(function(e){return equals(t.State.SelectedEntity.Symbol,e.Entity.Symbol)},e.Nodes),r=e.Nodes.head.Entity.Symbol,o=void 0,s=null!=e.Nodes.tail?"Variable"===e.Nodes.head.Node.Case?[0,e.Nodes.head.Node.Fields[0]]:"Call"===e.Nodes.head.Node.Case?[0,e.Nodes.head.Node.Fields[1]]:"Property"===e.Nodes.head.Node.Case?[0,e.Nodes.head.Node.Fields[1]]:[1]:[1];switch(s[0]){case 0:o=s[1].Range;break;case 1:throw new Error("Unexpected node in pivot call chain")}return function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("li")(ofArray([op_EqualsGreater("class",i?"selected":"")]))(ofArray([function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("a")(ofArray([op_EqualsBangGreater("click",n(new PivotEditorAction("SelectRange",[o])))]))(ofArray([text(transformName(e.Transformation))])),function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("a")(ofArray([op_EqualsBangGreater("click",n(new PivotEditorAction("RemoveSection",[r])))]))(ofArray([function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("i")(ofArray([op_EqualsGreater("class","gfa gfa-times")]))(new List$2)]))]))},t.State.Sections),delay(function(){return singleton$1(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("li")(ofArray([op_EqualsGreater("class",t.State.Menus.Equals(new PivotEditorMenus("AddDropdownOpen",[]))?"add selected":"add")]))(ofArray([function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("a")(ofArray([op_EqualsBangGreater("click",n(new PivotEditorAction("SwitchMenu",[new PivotEditorMenus("AddDropdownOpen",[])])))]))(ofArray([function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("i")(ofArray([op_EqualsGreater("class","gfa gfa-plus")]))(new List$2)]))])))}))}))}))),function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("div")(ofArray([op_EqualsGreater("class","add-menu")]))(toList(delay(function(){var e=function(e){return op_EqualsBangGreater("click",n(new PivotEditorAction("AddTransform",[e])))};return t.State.Menus.Equals(new PivotEditorMenus("AddDropdownOpen",[]))?singleton$1(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("ul")(new List$2)(toList(delay(function(){return append$1(singleton$1(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("li")(new List$2)(ofArray([function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("a")(ofArray([e(new Transformation("DropColumns",[new List$2]))]))(ofArray([text("drop columns")]))]))),delay(function(){return append$1(singleton$1(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("li")(new List$2)(ofArray([function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("a")(ofArray([e(new Transformation("FilterBy",[new List$2]))]))(ofArray([text("filter by")]))]))),delay(function(){return append$1(singleton$1(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("li")(new List$2)(ofArray([function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("a")(ofArray([e(new Transformation("GroupBy",[new List$2,new List$2]))]))(ofArray([text("group by")]))]))),delay(function(){return append$1(singleton$1(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("li")(new List$2)(ofArray([function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("a")(ofArray([e(new Transformation("Paging",[new List$2]))]))(ofArray([text("paging")]))]))),delay(function(){return append$1(singleton$1(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("li")(new List$2)(ofArray([function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("a")(ofArray([e(new Transformation("SortBy",[new List$2]))]))(ofArray([text("sort by")]))]))),delay(function(){var n=exists$1(function(e){var t="GetTheData"===e.Transformation.Case?[0]:"GetSeries"===e.Transformation.Case?[0]:[1];switch(t[0]){case 0:return!0;case 1:return!1}},t.State.Sections);return n?empty():append$1(singleton$1(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("li")(new List$2)(ofArray([function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("a")(ofArray([e(new Transformation("GetTheData",[]))]))(ofArray([text("get the data")]))]))),delay(function(){return singleton$1(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("li")(new List$2)(ofArray([function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("a")(ofArray([e(new Transformation("GetSeries",["!","!"]))]))(ofArray([text("get series")]))])))}))}))}))}))}))}))})))):empty()}))),function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("div")(ofArray([op_EqualsGreater("class","toolbar")]))(toList(delay(function(){return append$1(singleton$1(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("span")(ofArray([op_EqualsGreater("class","navig")]))(ofArray([function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("a")(new List$2)(ofArray([function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("i")(ofArray([op_EqualsBangGreater("click",n(new PivotEditorAction("SelectChainElement",[-1]))),op_EqualsGreater("class","gfa gfa-chevron-left")]))(new List$2)])),function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("a")(new List$2)(ofArray([function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("i")(ofArray([op_EqualsBangGreater("click",n(new PivotEditorAction("SelectChainElement",[0]))),op_EqualsGreater("class","gfa gfa-circle")]))(new List$2)])),function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("a")(new List$2)(ofArray([function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("i")(ofArray([op_EqualsBangGreater("click",n(new PivotEditorAction("SelectChainElement",[1]))),op_EqualsGreater("class","gfa gfa-chevron-right")]))(new List$2)]))]))),delay(function(){return renderSection(e,i)}))}))),function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("div")(ofArray([op_EqualsGreater("class","add-menu")]))(toList(delay(function(){var e=[t.State.Menus,i],r="ContextualDropdownOpen"===e[0].Case&&null!=e[1]?"Paging"===e[1].Transformation.Case?[0,e[1].Nodes]:"GroupBy"===e[1].Transformation.Case?[1,e[1].Nodes]:"SortBy"===e[1].Transformation.Case?[2,e[1].Nodes]:"DropColumns"===e[1].Transformation.Case?[3,e[1].Nodes]:[4]:[4],o=function(){switch(r[0]){case 0:var e=new _Map(choose$$1(function(e){var t="Property"===e.Node.Case?[0,e.Entity,e.Node.Fields[1]]:"Call"===e.Node.Case?[0,e.Entity,e.Node.Fields[1]]:[1];switch(t[0]){case 0:return[t[2].Node.Name,t[1].Symbol];case 1:return null}},r[1])),t=last(r[1]).Entity.Symbol,i=r[1].head.Entity.Symbol;return{v:singleton$1(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("ul")(new List$2)(toList(delay(function(){return append$1(e.has("take")?empty():function(){var i=e.has("then")?new PivotEditorAction("ReplaceElement",[e.get("then"),"take",ofArray([new Expr("Number",[10])])]):new PivotEditorAction("AddElement",[t,"take",ofArray([new Expr("Number",[10])])]);return singleton$1(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("li")(new List$2)(ofArray([function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("a")(ofArray([op_EqualsBangGreater("click",n(i))]))(ofArray([text("take")]))])))}(),delay(function(){if(e.has("skip"))return empty();var t=new PivotEditorAction("AddElement",[i,"skip",ofArray([new Expr("Number",[10])])]);return singleton$1(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("li")(new List$2)(ofArray([function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("a")(ofArray([op_EqualsBangGreater("click",n(t))]))(ofArray([text("skip")]))])))}))}))))};case 1:return{v:renderAddPropertyMenu(n,function(e){return"then"!==e&&"preview"!==e&&!(0===e.indexOf("and"))},r[1])};case 2:return{v:renderAddPropertyMenu(n,function(e){return"then"!==e&&"preview"!==e},r[1])};case 3:return{v:renderAddPropertyMenu(n,function(e){return"then"!==e&&"preview"!==e},r[1])};case 4:return{v:empty()}}}();if("object"===("undefined"==typeof o?"undefined":_typeof(o)))return o.v}))),function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("div")(ofArray([op_EqualsGreater("class","preview-body")]))(toList(delay(function(){return singleton$1(t.State.Preview)})))])),s=t.Mapper.AbsoluteToLineCol(t.State.Body.Range.End);return new LiveEditorZone(s[0],o)}function commandAtLocation$1(e,t){return tryFind(function(t){return t.Range.Start<=e&&t.Range.End+1>=e},t.Body.Node)}function updateBody$1(e,t){Log.trace("live","Showable - updating body");var n=commandAtLocation$1(t.Location,t.Program),i=null!=n&&"Expr"===n.Node.Case&&null!=n.Entity&&"RunCommand"===n.Entity.Kind.Case?[0,n,n.Node.Fields[0],n.Entity.Kind.Fields[0]]:[1];switch(i[0]){case 0:var r=reduceType(i[3].Type);if("Object"!==r.Case)return null;var o=r.Fields[0].Members,s=o.some(function(e){var t="Method"===e.Case&&"show"===e.Fields[0]&&null!=e.Fields[1].tail&&"Primitive"===e.Fields[1].head[2].Case&&"String"===e.Fields[1].head[2].Fields[0].Case&&null==e.Fields[1].tail.tail?[0]:[1];switch(t[0]){case 0:return!0;case 1:return!1}});if(!s)return null;var a=function(){var e=evaluate(t.Globals,i[3]);if(null==e)return{v:null};var n=function(){var n=equals(i[3].Symbol,t.State.PreviewSymbol)?t.State.PreviewID:t.State.PreviewID+1,r=function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("div")(ofArray([op_EqualsGreater("class","placeholder")]))(ofArray([text("Loading preview...")])),o=function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("div")(new List$2)(ofArray([function(e){return function(t){return function(n){return h$$1.delayed(e,t,n)}}}(String(n))(r)(function(t){Log.trace("live","Show: %O",e.Value),e.Value.show(t)})]));return{v:{v:function(){var e=new ShowableEditorState(i[1].Range.End,o,i[3].Symbol,n);return new LiveState(t.Globals,t.Code,t.Program,t.Mapper,t.Location,t.Selection,e,t.CurrentPreview)}()}}}();return"object"===("undefined"==typeof n?"undefined":_typeof(n))?n.v:void 0}();if("object"===("undefined"==typeof a?"undefined":_typeof(a)))return a.v;case 1:return null}}function updateShowableState(e,t,n){var i="UpdateLocation"===n.Case?[0]:"InitializeGlobals"===n.Case?[1]:"CustomEvent"===n.Case?[1]:[0];switch(i[0]){case 0:return function(t){return updateBody$1(e,t)}(t);case 1:return t}}function renderShowable(e,t){var n=t.Mapper.AbsoluteToLineCol(t.State.EndLocation),i=function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("div")(ofArray([op_EqualsGreater("class","pivot-preview")]))(ofArray([function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("ul")(ofArray([op_EqualsGreater("class","tabs")]))(ofArray([function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("li")(ofArray([op_EqualsGreater("class","selected")]))(ofArray([function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("a")(new List$2)(ofArray([text("preview")]))]))])),function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("div")(ofArray([op_EqualsGreater("class","preview-body")]))(toList(delay(function(){return singleton$1(t.State.Preview)})))]));return new LiveEditorZone(n[0],i)}function getColorClass(e){var t="String"===e.Case?[0]:"QIdent"===e.Case?[1]:"Ident"===e.Case?[1]:"Dot"===e.Case?[2]:"By"===e.Case?[3]:"To"===e.Case?[3]:"Let"===e.Case?[3]:"Boolean"===e.Case?[3]:"Fun"===e.Case?[3]:"Arrow"===e.Case?[3]:"Number"===e.Case?[4]:[5];switch(t[0]){case 0:return"string";case 1:return"ident";case 2:return"operator";case 3:return"keyword";case 4:return"number";case 5:return""}}function createCompletionProvider(e){return _defineProperty({get triggerCharacters(){return _Array$from(ofArray(["."]))},provideCompletionItems:function(t,n,i){return function(e){return startAsPromise(e)}(function(i){return i.Delay(function(){return i.TryWith(i.Delay(function(){var r=e(t.uri.toString()),o=t.getValue(1,!1);Log.event("editor","completions","",{source:o,position:n});var s=new LocationMapper(o),a=s.LineColToAbsolute(~~n.lineNumber,~~n.column);return i.Bind(r.TypeCheck(o),function(e){var t=tryPick(function(e){var t="NamedMember"===e[1].Kind.Case&&null!=e[1].Kind.Fields[1].Type&&function(){e[1].Kind.Fields[1].Type;return a>=e[0].Start&&a<=e[0].End+1}()?[0,e[1].Kind.Fields[1].Type]:[1];switch(t[0]){case 0:Log.trace("completions","Antecedant at current location: %O",t[1]);var n=reduceType(t[1]);if("Object"===n.Case){var i=n.Fields[0].Members;return[e[0],i]}return null;case 1:var r="NamedMember"===e[1].Kind.Case&&null!=e[1].Kind.Fields[1].Type?[0,e[1].Kind.Fields[0],e[1].Kind.Fields[1].Type]:[1];switch(r[0]){case 0:return Log.trace("completions","Ignoring '%s' at location %s-%s (current=%s)",r[1].Name,e[0].Start,e[0].End,a),null;case 1:return null}}},e[1].Entities),n=function(e){var t=s.AbsoluteToLineCol(e.Start),n=s.AbsoluteToLineCol(e.End),i={};return i.startColumn=t[1],i.startLineNumber=t[0],i.endColumn=n[1]+1,i.endLineNumber=n[0],i};if(null==t)return Log.trace("completions","no members at %s",a),i.Return(_Array$from(new List$2));var r=function(){var e=t[0],r=t[1],o=n(e);Log.trace("completions","providing %s members at %O",r.length,o);var s=toList(delay(function(){return map$5(function(e){var t={},n="Property"===e.Case?[e.Fields[0],9]:[e.Fields[0],1];if(t.kind=n[1],t.label=n[0],t.insertText=escapeIdent(n[0]),t.filterText=n[0],"Method"===e.Case){var i=function(){var e=function(e){return function(t){return e[1].length>100?[new List$2(e[1],e[0]),t]:[e[0],""===e[1]?t:e[1]+","+t]}},t=[new List$2,""];return function(n){return fold$1(function(t,n){return e(t)(n)},[t[0],t[1]],n)}}()(toList(delay(function(){return collect$1(function(e){return singleton$1((e[1]?"?":"")+e[0])},e.Fields[1])}))),r=join(",\n",reverse$$1(new List$2(i[1],i[0])));t.documentation="("+r+")"}var s={};return s.text=escapeIdent(n[0]),s.range=o,t.textEdit=s,t},r)}));return Log.trace("completions","returning %O",_Array$from(s)),{v:i.Return(_Array$from(s))}}();return"object"===("undefined"==typeof r?"undefined":_typeof(r))?r.v:void 0})}),function(e){return Log.exn("completions","completions failed %O",e),i.Return([])})})}(singleton$2))},resolveCompletionItem:function(e,t){return e}},_Symbol.reflection,function(){return{interfaces:["Fable.Import.monaco.languages.CompletionItemProvider"]}})}function getService(e){return createdEditors.get(e)}function setupMonacoServices(){var e={};e.id="thegamma",monaco$1.languages.register(e),monaco$1.languages.setTokensProvider("thegamma",tokensProvider),monaco$1.languages.registerCompletionItemProvider("thegamma",createCompletionProvider(function(e){return getService(e)}))}function createMonacoEditor(e,t,n,i){0===createdEditors.size&&setupMonacoServices();var r={},o={},s={};s.vertical="none",
s.horizontal="auto",o.scrollbar=s,o.value=t,o.language="thegamma",o.lineNumbersMinChars=3,o.contextmenu=!1,o.scrollBeyondLastLine=!1,o.overviewRulerLanes=0,i(o);var a=monaco$1.editor.create(document.getElementById(e),o,r);return createdEditors.set(a.getModel().uri.toString(),n),a}function buildGlobalsTable(e){return function(e){return function(t){return Async_StartAsNamedFuture_Static(e,t)}}("buildGlobalsTable")(function(t){return t.Delay(function(){var n=create$3(null,new GenericComparer(compare)),i=function(e){return function(t){var i=tryFind$1(e,n);if(null==i)throw Log.error("Could not find named type '%s'",e),new Error(fsFormat("Could not find named type '%s'")(function(e){return e})(e));var r=i[1],o=i[0];if(r.length!==t.length)throw Log.error("Named type '%s' has mismatching length of type arguments",e),new Error(fsFormat("Named type '%s' has mismatching length of type arguments")(function(e){return e})(e));return r.length>0?new Type("App",[o,t]):o}};return t.Bind(e(i),function(e){var i=toList(delay(function(){return append$1(singleton$1(new ProvidedType("NamedType",["value",ofArray(["a"]),new Type("Any",[])])),delay(function(){return append$1(singleton$1(new ProvidedType("NamedType",["object",new List$2,new Type("Any",[])])),delay(function(){return append$1(singleton$1(new ProvidedType("NamedType",["seq",ofArray(["a"]),new Type("Any",[])])),delay(function(){return append$1(singleton$1(new ProvidedType("NamedType",["async",ofArray(["a"]),new Type("Any",[])])),delay(function(){return e}))}))}))}))}));n=create$3(choose$1(function(e){return"NamedType"===e.Case?[e.Fields[0],[e.Fields[2],e.Fields[1]]]:null},i),new GenericComparer(compare));var r=choose$$1(function(e){return"GlobalValue"===e.Case?globalEntity(e.Fields[0],e.Fields[1],e.Fields[3],e.Fields[2]):null},i);return t.Return(r)})})}(singleton$2))}function callShowMethod(e,t){var n="Expr"===t.Node.Case&&null!=t.Node.Fields[0].Entity&&null!=t.Node.Fields[0].Entity.Type?[0,t.Node.Fields[0],t.Node.Fields[0].Entity.Type]:[1];switch(n[0]){case 0:var i=reduceType(n[2]);if("Object"===i.Case){var r=i.Fields[0].Members,o=r.some(function(e){var t="Method"===e.Case&&"show"===e.Fields[0]&&null!=e.Fields[1].tail&&"Primitive"===e.Fields[1].head[2].Case&&"String"===e.Fields[1].head[2].Fields[0].Case&&null==e.Fields[1].tail.tail?[0]:[1];switch(t[0]){case 0:return!0;case 1:return!1}});if(o){var s=new _Range(t.Range.End,t.Range.End),a=node(s,new Expr("String",[e])),l=ofArray([new Argument(null,a)]),u=node(s,new Expr("Call",[n[1],node(s,new Name("show")),node(s,l)]));return node(t.Range,new Command("Expr",[u]))}return t}return t;case 1:return t}}function _evaluate(ctx,code,outputId){return function(builder_){return builder_.Delay(function(){return builder_.Bind(ctx.checkingService.TypeCheck(code),function(_arg1){var newBody=null!=outputId?map$4(function(e){return callShowMethod(outputId,e)},_arg1[2].Body.Node):_arg1[2].Body.Node,prog=new Program$$1(new _Node(_arg1[2].Body.WhiteBefore,_arg1[2].Body.WhiteAfter,_arg1[2].Body.Range,newBody,_arg1[2].Body.Entity));return builder_.Bind(compile(ctx.providers.globals,code,prog),function(_arg2){var s=series.create(function(e){return e.Delay(function(){return e.Return([])})}(singleton$2),"","","");return new RuntimeContext("lol","","troll"),table.create(s),timeline.create(s),series.values(new Int32Array([1])),placeholder.create(""),builder_.Return(eval(_arg2))})})})}(singleton$2)}var commonjsGlobal="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},_defined=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e},defined=_defined,_toObject=function(e){return Object(defined(e))},hasOwnProperty={}.hasOwnProperty,_has=function(e,t){return hasOwnProperty.call(e,t)},toString={}.toString,_cof=function(e){return toString.call(e).slice(8,-1)},cof=_cof,_iobject=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==cof(e)?e.split(""):Object(e)},IObject=_iobject,defined$1=_defined,_toIobject=function(e){return IObject(defined$1(e))},ceil=Math.ceil,floor=Math.floor,_toInteger=function(e){return isNaN(e=+e)?0:(e>0?floor:ceil)(e)},toInteger=_toInteger,min=Math.min,_toLength=function(e){return e>0?min(toInteger(e),9007199254740991):0},toInteger$1=_toInteger,max=Math.max,min$1=Math.min,_toIndex=function(e,t){return e=toInteger$1(e),e<0?max(e+t,0):min$1(e,t)},toIObject$1=_toIobject,toLength=_toLength,toIndex=_toIndex,_arrayIncludes=function(e){return function(t,n,i){var r,o=toIObject$1(t),s=toLength(o.length),a=toIndex(i,s);if(e&&n!=n){for(;s>a;)if(r=o[a++],r!=r)return!0}else for(;s>a;a++)if((e||a in o)&&o[a]===n)return e||a||0;return!e&&-1}},_global=createCommonjsModule(function(e){var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)}),global$1=_global,SHARED="__core-js_shared__",store=global$1[SHARED]||(global$1[SHARED]={}),_shared=function(e){return store[e]||(store[e]={})},id=0,px=Math.random(),_uid=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++id+px).toString(36))},shared=_shared("keys"),uid=_uid,_sharedKey=function(e){return shared[e]||(shared[e]=uid(e))},has=_has,toIObject=_toIobject,arrayIndexOf=_arrayIncludes(!1),IE_PROTO=_sharedKey("IE_PROTO"),_objectKeysInternal=function(e,t){var n,i=toIObject(e),r=0,o=[];for(n in i)n!=IE_PROTO&&has(i,n)&&o.push(n);for(;t.length>r;)has(i,n=t[r++])&&(~arrayIndexOf(o,n)||o.push(n));return o},_enumBugKeys="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),$keys$1=_objectKeysInternal,enumBugKeys=_enumBugKeys,_objectKeys=Object.keys||function(e){return $keys$1(e,enumBugKeys)},_core=createCommonjsModule(function(e){var t=e.exports={version:"2.4.0"};"number"==typeof __e&&(__e=t)}),_aFunction=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e},aFunction=_aFunction,_ctx=function(e,t,n){if(aFunction(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,r){return e.call(t,n,i,r)}}return function(){return e.apply(t,arguments)}},_isObject=function(e){return"object"==typeof e?null!==e:"function"==typeof e},isObject=_isObject,_anObject=function(e){if(!isObject(e))throw TypeError(e+" is not an object!");return e},_fails=function(e){try{return!!e()}catch(e){return!0}},_descriptors=!_fails(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),isObject$1=_isObject,document$1=_global.document,is=isObject$1(document$1)&&isObject$1(document$1.createElement),_domCreate=function(e){return is?document$1.createElement(e):{}},_ie8DomDefine=!_descriptors&&!_fails(function(){return 7!=Object.defineProperty(_domCreate("div"),"a",{get:function(){return 7}}).a}),isObject$2=_isObject,_toPrimitive=function(e,t){if(!isObject$2(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!isObject$2(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!isObject$2(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!isObject$2(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")},anObject=_anObject,IE8_DOM_DEFINE=_ie8DomDefine,toPrimitive=_toPrimitive,dP$1=Object.defineProperty,f=_descriptors?Object.defineProperty:function(e,t,n){if(anObject(e),t=toPrimitive(t,!0),anObject(n),IE8_DOM_DEFINE)try{return dP$1(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e},_objectDp={f:f},_propertyDesc=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},dP=_objectDp,createDesc=_propertyDesc,_hide=_descriptors?function(e,t,n){return dP.f(e,t,createDesc(1,n))}:function(e,t,n){return e[t]=n,e},global$2=_global,core$1=_core,ctx=_ctx,hide=_hide,PROTOTYPE="prototype",$export$1=function(e,t,n){var i,r,o,s=e&$export$1.F,a=e&$export$1.G,l=e&$export$1.S,u=e&$export$1.P,c=e&$export$1.B,p=e&$export$1.W,h=a?core$1:core$1[t]||(core$1[t]={}),d=h[PROTOTYPE],f=a?global$2:l?global$2[t]:(global$2[t]||{})[PROTOTYPE];a&&(n=t);for(i in n)r=!s&&f&&void 0!==f[i],r&&i in h||(o=r?f[i]:n[i],h[i]=a&&"function"!=typeof f[i]?n[i]:c&&r?ctx(o,global$2):p&&f[i]==o?function(e){var t=function(t,n,i){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,i)}return e.apply(this,arguments)};return t[PROTOTYPE]=e[PROTOTYPE],t}(o):u&&"function"==typeof o?ctx(Function.call,o):o,u&&((h.virtual||(h.virtual={}))[i]=o,e&$export$1.R&&d&&!d[i]&&hide(d,i,o)))};$export$1.F=1,$export$1.G=2,$export$1.S=4,$export$1.P=8,$export$1.B=16,$export$1.W=32,$export$1.U=64,$export$1.R=128;var _export=$export$1,$export=_export,core=_core,fails=_fails,_objectSap=function(e,t){var n=(core.Object||{})[e]||Object[e],i={};i[e]=t(n),$export($export.S+$export.F*fails(function(){n(1)}),"Object",i)},toObject=_toObject,$keys=_objectKeys;_objectSap("keys",function(){return function(e){return $keys(toObject(e))}});var keys$1=_core.Object.keys,keys=createCommonjsModule(function(e){e.exports={default:keys$1,__esModule:!0}}),_Object$keys=unwrapExports(keys),toInteger$2=_toInteger,defined$2=_defined,_stringAt=function(e){return function(t,n){var i,r,o=String(defined$2(t)),s=toInteger$2(n),a=o.length;return s<0||s>=a?e?"":void 0:(i=o.charCodeAt(s),i<55296||i>56319||s+1===a||(r=o.charCodeAt(s+1))<56320||r>57343?e?o.charAt(s):i:e?o.slice(s,s+2):(i-55296<<10)+(r-56320)+65536)}},_library=!0,_redefine=_hide,_iterators={},dP$2=_objectDp,anObject$2=_anObject,getKeys=_objectKeys,_objectDps=_descriptors?Object.defineProperties:function(e,t){anObject$2(e);for(var n,i=getKeys(t),r=i.length,o=0;r>o;)dP$2.f(e,n=i[o++],t[n]);return e},_html=_global.document&&document.documentElement,anObject$1=_anObject,dPs=_objectDps,enumBugKeys$1=_enumBugKeys,IE_PROTO$1=_sharedKey("IE_PROTO"),Empty=function(){},PROTOTYPE$1="prototype",createDict=function(){var e,t=_domCreate("iframe"),n=enumBugKeys$1.length,i="<",r=">";for(t.style.display="none",_html.appendChild(t),t.src="javascript:",e=t.contentWindow.document,e.open(),e.write(i+"script"+r+"document.F=Object"+i+"/script"+r),e.close(),createDict=e.F;n--;)delete createDict[PROTOTYPE$1][enumBugKeys$1[n]];return createDict()},_objectCreate=Object.create||function(e,t){var n;return null!==e?(Empty[PROTOTYPE$1]=anObject$1(e),n=new Empty,Empty[PROTOTYPE$1]=null,n[IE_PROTO$1]=e):n=createDict(),void 0===t?n:dPs(n,t)},_wks=createCommonjsModule(function(e){var t=_shared("wks"),n=_uid,i=_global.Symbol,r="function"==typeof i,o=e.exports=function(e){return t[e]||(t[e]=r&&i[e]||(r?i:n)("Symbol."+e))};o.store=t}),def=_objectDp.f,has$2=_has,TAG=_wks("toStringTag"),_setToStringTag=function(e,t,n){e&&!has$2(e=n?e:e.prototype,TAG)&&def(e,TAG,{configurable:!0,value:t})},create=_objectCreate,descriptor=_propertyDesc,setToStringTag$1=_setToStringTag,IteratorPrototype={};_hide(IteratorPrototype,_wks("iterator"),function(){return this});var _iterCreate=function(e,t,n){e.prototype=create(IteratorPrototype,{next:descriptor(1,n)}),setToStringTag$1(e,t+" Iterator")},has$3=_has,toObject$1=_toObject,IE_PROTO$2=_sharedKey("IE_PROTO"),ObjectProto=Object.prototype,_objectGpo=Object.getPrototypeOf||function(e){return e=toObject$1(e),has$3(e,IE_PROTO$2)?e[IE_PROTO$2]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?ObjectProto:null},LIBRARY=_library,$export$2=_export,redefine=_redefine,hide$1=_hide,has$1=_has,Iterators=_iterators,$iterCreate=_iterCreate,setToStringTag=_setToStringTag,getPrototypeOf=_objectGpo,ITERATOR=_wks("iterator"),BUGGY=!([].keys&&"next"in[].keys()),FF_ITERATOR="@@iterator",KEYS="keys",VALUES="values",returnThis=function(){return this},_iterDefine=function(e,t,n,i,r,o,s){$iterCreate(n,t,i);var a,l,u,c=function(e){if(!BUGGY&&e in f)return f[e];switch(e){case KEYS:return function(){return new n(this,e)};case VALUES:return function(){return new n(this,e)}}return function(){return new n(this,e)}},p=t+" Iterator",h=r==VALUES,d=!1,f=e.prototype,m=f[ITERATOR]||f[FF_ITERATOR]||r&&f[r],y=m||c(r),g=r?h?c("entries"):y:void 0,v="Array"==t?f.entries||m:m;if(v&&(u=getPrototypeOf(v.call(new e)),u!==Object.prototype&&(setToStringTag(u,p,!0),LIBRARY||has$1(u,ITERATOR)||hide$1(u,ITERATOR,returnThis))),h&&m&&m.name!==VALUES&&(d=!0,y=function(){return m.call(this)}),LIBRARY&&!s||!BUGGY&&!d&&f[ITERATOR]||hide$1(f,ITERATOR,y),Iterators[t]=y,Iterators[p]=returnThis,r)if(a={values:h?y:c(VALUES),keys:o?y:c(KEYS),entries:g},s)for(l in a)l in f||redefine(f,l,a[l]);else $export$2($export$2.P+$export$2.F*(BUGGY||d),t,a);return a},$at=_stringAt(!0);_iterDefine(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=$at(t,n),this._i+=e.length,{value:e,done:!1})});var anObject$3=_anObject,_iterCall=function(e,t,n,i){try{return i?t(anObject$3(n)[0],n[1]):t(n)}catch(t){var r=e.return;throw void 0!==r&&anObject$3(r.call(e)),t}},Iterators$1=_iterators,ITERATOR$1=_wks("iterator"),ArrayProto=Array.prototype,_isArrayIter=function(e){return void 0!==e&&(Iterators$1.Array===e||ArrayProto[ITERATOR$1]===e)},$defineProperty=_objectDp,createDesc$1=_propertyDesc,_createProperty=function(e,t,n){t in e?$defineProperty.f(e,t,createDesc$1(0,n)):e[t]=n},cof$1=_cof,TAG$1=_wks("toStringTag"),ARG="Arguments"==cof$1(function(){return arguments}()),tryGet=function(e,t){try{return e[t]}catch(e){}},_classof=function(e){var t,n,i;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=tryGet(t=Object(e),TAG$1))?n:ARG?cof$1(t):"Object"==(i=cof$1(t))&&"function"==typeof t.callee?"Arguments":i},classof=_classof,ITERATOR$2=_wks("iterator"),Iterators$2=_iterators,core_getIteratorMethod=_core.getIteratorMethod=function(e){if(void 0!=e)return e[ITERATOR$2]||e["@@iterator"]||Iterators$2[classof(e)]},ITERATOR$3=_wks("iterator"),SAFE_CLOSING=!1;try{var riter=[7][ITERATOR$3]();riter.return=function(){SAFE_CLOSING=!0},Array.from(riter,function(){throw 2})}catch(e){}var _iterDetect=function(e,t){if(!t&&!SAFE_CLOSING)return!1;var n=!1;try{var i=[7],r=i[ITERATOR$3]();r.next=function(){return{done:n=!0}},i[ITERATOR$3]=function(){return r},e(i)}catch(e){}return n},ctx$1=_ctx,$export$3=_export,toObject$2=_toObject,call=_iterCall,isArrayIter=_isArrayIter,toLength$1=_toLength,createProperty=_createProperty,getIterFn=core_getIteratorMethod;$export$3($export$3.S+$export$3.F*!_iterDetect(function(e){Array.from(e)}),"Array",{from:function(e){var t,n,i,r,o=toObject$2(e),s="function"==typeof this?this:Array,a=arguments.length,l=a>1?arguments[1]:void 0,u=void 0!==l,c=0,p=getIterFn(o);if(u&&(l=ctx$1(l,a>2?arguments[2]:void 0,2)),void 0==p||s==Array&&isArrayIter(p))for(t=toLength$1(o.length),n=new s(t);t>c;c++)createProperty(n,c,u?l(o[c],c):o[c]);else for(r=p.call(o),n=new s;!(i=r.next()).done;c++)createProperty(n,c,u?call(r,l,[i.value,c],!0):i.value);return n.length=c,n}});var from$1=_core.Array.from,from=createCommonjsModule(function(e){e.exports={default:from$1,__esModule:!0}}),_Array$from=unwrapExports(from),classCallCheck=createCommonjsModule(function(e,t){t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}}),_classCallCheck=unwrapExports(classCallCheck),$export$4=_export;$export$4($export$4.S+$export$4.F*!_descriptors,"Object",{defineProperty:_objectDp.f});var $Object=_core.Object,defineProperty$2=function(e,t,n){return $Object.defineProperty(e,t,n)},defineProperty=createCommonjsModule(function(e){e.exports={default:defineProperty$2,__esModule:!0}}),createClass=createCommonjsModule(function(e,t){function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=defineProperty,r=n(i);t.default=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),(0,r.default)(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}()}),_createClass=unwrapExports(createClass),_addToUnscopables=function(){},_iterStep=function(e,t){return{value:t,done:!!e}},addToUnscopables=_addToUnscopables,step=_iterStep,Iterators$4=_iterators,toIObject$2=_toIobject,es6_array_iterator=_iterDefine(Array,"Array",function(e,t){this._t=toIObject$2(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,step(1)):"keys"==t?step(0,n):"values"==t?step(0,e[n]):step(0,[n,e[n]])},"values");Iterators$4.Arguments=Iterators$4.Array,addToUnscopables("keys"),addToUnscopables("values"),addToUnscopables("entries");for(var global$3=_global,hide$2=_hide,Iterators$3=_iterators,TO_STRING_TAG=_wks("toStringTag"),collections=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],i=0;i<5;i++){var NAME=collections[i],Collection=global$3[NAME],proto=Collection&&Collection.prototype;proto&&!proto[TO_STRING_TAG]&&hide$2(proto,TO_STRING_TAG,NAME),Iterators$3[NAME]=Iterators$3.Array}var anObject$4=_anObject,get=core_getIteratorMethod,core_getIterator=_core.getIterator=function(e){var t=get(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return anObject$4(t.call(e))},getIterator$1=core_getIterator,getIterator=createCommonjsModule(function(e){e.exports={default:getIterator$1,__esModule:!0}}),_getIterator=unwrapExports(getIterator),f$1=_wks,_wksExt={f:f$1},iterator$2=_wksExt.f("iterator"),iterator=createCommonjsModule(function(e){e.exports={default:iterator$2,__esModule:!0}}),_meta=createCommonjsModule(function(e){var t=_uid("meta"),n=_isObject,i=_has,r=_objectDp.f,o=0,s=Object.isExtensible||function(){return!0},a=!_fails(function(){return s(Object.preventExtensions({}))}),l=function(e){r(e,t,{value:{i:"O"+ ++o,w:{}}})},u=function(e,r){if(!n(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!i(e,t)){if(!s(e))return"F";if(!r)return"E";l(e)}return e[t].i},c=function(e,n){if(!i(e,t)){if(!s(e))return!0;if(!n)return!1;l(e)}return e[t].w},p=function(e){return a&&h.NEED&&s(e)&&!i(e,t)&&l(e),e},h=e.exports={KEY:t,NEED:!1,fastKey:u,getWeak:c,onFreeze:p}}),global$5=_global,core$2=_core,LIBRARY$1=_library,wksExt$1=_wksExt,defineProperty$4=_objectDp.f,_wksDefine=function(e){var t=core$2.Symbol||(core$2.Symbol=LIBRARY$1?{}:global$5.Symbol||{});"_"==e.charAt(0)||e in t||defineProperty$4(t,e,{value:wksExt$1.f(e)})},getKeys$1=_objectKeys,toIObject$4=_toIobject,_keyof=function(e,t){for(var n,i=toIObject$4(e),r=getKeys$1(i),o=r.length,s=0;o>s;)if(i[n=r[s++]]===t)return n},f$2=Object.getOwnPropertySymbols,_objectGops={f:f$2},f$3={}.propertyIsEnumerable,_objectPie={f:f$3},getKeys$2=_objectKeys,gOPS=_objectGops,pIE=_objectPie,_enumKeys=function(e){var t=getKeys$2(e),n=gOPS.f;if(n)for(var i,r=n(e),o=pIE.f,s=0;r.length>s;)o.call(e,i=r[s++])&&t.push(i);return t},cof$2=_cof,_isArray=Array.isArray||function(e){return"Array"==cof$2(e)},$keys$3=_objectKeysInternal,hiddenKeys=_enumBugKeys.concat("length","prototype"),f$5=Object.getOwnPropertyNames||function(e){return $keys$3(e,hiddenKeys)},_objectGopn={f:f$5},toIObject$5=_toIobject,gOPN$1=_objectGopn.f,toString$1={}.toString,windowNames="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],getWindowNames=function(e){try{return gOPN$1(e)}catch(e){return windowNames.slice()}},f$4=function(e){return windowNames&&"[object Window]"==toString$1.call(e)?getWindowNames(e):gOPN$1(toIObject$5(e))},_objectGopnExt={f:f$4},pIE$1=_objectPie,createDesc$3=_propertyDesc,toIObject$6=_toIobject,toPrimitive$2=_toPrimitive,has$5=_has,IE8_DOM_DEFINE$1=_ie8DomDefine,gOPD$1=Object.getOwnPropertyDescriptor,f$6=_descriptors?gOPD$1:function(e,t){if(e=toIObject$6(e),t=toPrimitive$2(t,!0),IE8_DOM_DEFINE$1)try{return gOPD$1(e,t)}catch(e){}if(has$5(e,t))return createDesc$3(!pIE$1.f.call(e,t),e[t])},_objectGopd={f:f$6},global$4=_global,has$4=_has,DESCRIPTORS=_descriptors,$export$5=_export,redefine$1=_redefine,META=_meta.KEY,$fails=_fails,shared$1=_shared,setToStringTag$2=_setToStringTag,uid$1=_uid,wks=_wks,wksExt=_wksExt,wksDefine=_wksDefine,keyOf=_keyof,enumKeys=_enumKeys,isArray=_isArray,anObject$5=_anObject,toIObject$3=_toIobject,toPrimitive$1=_toPrimitive,createDesc$2=_propertyDesc,_create=_objectCreate,gOPNExt=_objectGopnExt,$GOPD=_objectGopd,$DP=_objectDp,$keys$2=_objectKeys,gOPD=$GOPD.f,dP$3=$DP.f,gOPN=gOPNExt.f,$Symbol=global$4.Symbol,$JSON=global$4.JSON,_stringify=$JSON&&$JSON.stringify,PROTOTYPE$2="prototype",HIDDEN=wks("_hidden"),TO_PRIMITIVE=wks("toPrimitive"),isEnum={}.propertyIsEnumerable,SymbolRegistry=shared$1("symbol-registry"),AllSymbols=shared$1("symbols"),OPSymbols=shared$1("op-symbols"),ObjectProto$1=Object[PROTOTYPE$2],USE_NATIVE="function"==typeof $Symbol,QObject=global$4.QObject,setter=!QObject||!QObject[PROTOTYPE$2]||!QObject[PROTOTYPE$2].findChild,setSymbolDesc=DESCRIPTORS&&$fails(function(){return 7!=_create(dP$3({},"a",{get:function(){return dP$3(this,"a",{value:7}).a}})).a})?function(e,t,n){var i=gOPD(ObjectProto$1,t);i&&delete ObjectProto$1[t],dP$3(e,t,n),i&&e!==ObjectProto$1&&dP$3(ObjectProto$1,t,i)}:dP$3,wrap=function(e){var t=AllSymbols[e]=_create($Symbol[PROTOTYPE$2]);return t._k=e,t},isSymbol=USE_NATIVE&&"symbol"==typeof $Symbol.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof $Symbol},$defineProperty$1=function(e,t,n){return e===ObjectProto$1&&$defineProperty$1(OPSymbols,t,n),anObject$5(e),t=toPrimitive$1(t,!0),anObject$5(n),has$4(AllSymbols,t)?(n.enumerable?(has$4(e,HIDDEN)&&e[HIDDEN][t]&&(e[HIDDEN][t]=!1),n=_create(n,{enumerable:createDesc$2(0,!1)})):(has$4(e,HIDDEN)||dP$3(e,HIDDEN,createDesc$2(1,{})),e[HIDDEN][t]=!0),setSymbolDesc(e,t,n)):dP$3(e,t,n)},$defineProperties=function(e,t){anObject$5(e);for(var n,i=enumKeys(t=toIObject$3(t)),r=0,o=i.length;o>r;)$defineProperty$1(e,n=i[r++],t[n]);return e},$create=function(e,t){return void 0===t?_create(e):$defineProperties(_create(e),t)},$propertyIsEnumerable=function(e){var t=isEnum.call(this,e=toPrimitive$1(e,!0));return!(this===ObjectProto$1&&has$4(AllSymbols,e)&&!has$4(OPSymbols,e))&&(!(t||!has$4(this,e)||!has$4(AllSymbols,e)||has$4(this,HIDDEN)&&this[HIDDEN][e])||t)},$getOwnPropertyDescriptor=function(e,t){if(e=toIObject$3(e),t=toPrimitive$1(t,!0),e!==ObjectProto$1||!has$4(AllSymbols,t)||has$4(OPSymbols,t)){var n=gOPD(e,t);return!n||!has$4(AllSymbols,t)||has$4(e,HIDDEN)&&e[HIDDEN][t]||(n.enumerable=!0),n}},$getOwnPropertyNames=function(e){for(var t,n=gOPN(toIObject$3(e)),i=[],r=0;n.length>r;)has$4(AllSymbols,t=n[r++])||t==HIDDEN||t==META||i.push(t);return i},$getOwnPropertySymbols=function(e){for(var t,n=e===ObjectProto$1,i=gOPN(n?OPSymbols:toIObject$3(e)),r=[],o=0;i.length>o;)!has$4(AllSymbols,t=i[o++])||n&&!has$4(ObjectProto$1,t)||r.push(AllSymbols[t]);return r};USE_NATIVE||($Symbol=function(){if(this instanceof $Symbol)throw TypeError("Symbol is not a constructor!");var e=uid$1(arguments.length>0?arguments[0]:void 0),t=function(n){this===ObjectProto$1&&t.call(OPSymbols,n),has$4(this,HIDDEN)&&has$4(this[HIDDEN],e)&&(this[HIDDEN][e]=!1),setSymbolDesc(this,e,createDesc$2(1,n))};return DESCRIPTORS&&setter&&setSymbolDesc(ObjectProto$1,e,{configurable:!0,set:t}),wrap(e)},redefine$1($Symbol[PROTOTYPE$2],"toString",function(){return this._k}),$GOPD.f=$getOwnPropertyDescriptor,$DP.f=$defineProperty$1,_objectGopn.f=gOPNExt.f=$getOwnPropertyNames,_objectPie.f=$propertyIsEnumerable,_objectGops.f=$getOwnPropertySymbols,DESCRIPTORS&&!_library&&redefine$1(ObjectProto$1,"propertyIsEnumerable",$propertyIsEnumerable,!0),wksExt.f=function(e){return wrap(wks(e))}),$export$5($export$5.G+$export$5.W+$export$5.F*!USE_NATIVE,{Symbol:$Symbol});for(var symbols="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),i$1=0;symbols.length>i$1;)wks(symbols[i$1++]);for(var symbols=$keys$2(wks.store),i$1=0;symbols.length>i$1;)wksDefine(symbols[i$1++]);$export$5($export$5.S+$export$5.F*!USE_NATIVE,"Symbol",{for:function(e){return has$4(SymbolRegistry,e+="")?SymbolRegistry[e]:SymbolRegistry[e]=$Symbol(e)},keyFor:function(e){if(isSymbol(e))return keyOf(SymbolRegistry,e);throw TypeError(e+" is not a symbol!")},useSetter:function(){setter=!0},useSimple:function(){setter=!1}}),$export$5($export$5.S+$export$5.F*!USE_NATIVE,"Object",{create:$create,defineProperty:$defineProperty$1,defineProperties:$defineProperties,getOwnPropertyDescriptor:$getOwnPropertyDescriptor,getOwnPropertyNames:$getOwnPropertyNames,getOwnPropertySymbols:$getOwnPropertySymbols}),$JSON&&$export$5($export$5.S+$export$5.F*(!USE_NATIVE||$fails(function(){var e=$Symbol();return"[null]"!=_stringify([e])||"{}"!=_stringify({a:e})||"{}"!=_stringify(Object(e))})),"JSON",{stringify:function(e){if(void 0!==e&&!isSymbol(e)){for(var t,n,i=[e],r=1;arguments.length>r;)i.push(arguments[r++]);return t=i[1],"function"==typeof t&&(n=t),!n&&isArray(t)||(t=function(e,t){if(n&&(t=n.call(this,e,t)),!isSymbol(t))return t}),i[1]=t,_stringify.apply($JSON,i)}}}),$Symbol[PROTOTYPE$2][TO_PRIMITIVE]||_hide($Symbol[PROTOTYPE$2],TO_PRIMITIVE,$Symbol[PROTOTYPE$2].valueOf),setToStringTag$2($Symbol,"Symbol"),setToStringTag$2(Math,"Math",!0),setToStringTag$2(global$4.JSON,"JSON",!0),_wksDefine("asyncIterator"),_wksDefine("observable");var index=_core.Symbol,symbol=createCommonjsModule(function(e){e.exports={default:index,__esModule:!0}}),_Symbol2=unwrapExports(symbol),_typeof_1=createCommonjsModule(function(e,t){function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=iterator,r=n(i),o=symbol,s=n(o),a="function"==typeof s.default&&"symbol"==typeof r.default?function(e){return typeof e}:function(e){return e&&"function"==typeof s.default&&e.constructor===s.default&&e!==s.default.prototype?"symbol":typeof e};t.default="function"==typeof s.default&&"symbol"===a(r.default)?function(e){return"undefined"==typeof e?"undefined":a(e)}:function(e){return e&&"function"==typeof s.default&&e.constructor===s.default&&e!==s.default.prototype?"symbol":"undefined"==typeof e?"undefined":a(e)}}),_typeof=unwrapExports(_typeof_1),hide$3=_hide,_redefineAll=function(e,t,n){for(var i in t)n&&e[i]?e[i]=t[i]:hide$3(e,i,t[i]);return e},_anInstance=function(e,t,n,i){if(!(e instanceof t)||void 0!==i&&i in e)throw TypeError(n+": incorrect invocation!");return e},_forOf=createCommonjsModule(function(e){var t=_ctx,n=_iterCall,i=_isArrayIter,r=_anObject,o=_toLength,s=core_getIteratorMethod,a={},l={},u=e.exports=function(e,u,c,p,h){var d,f,m,y,g=h?function(){return e}:s(e),v=t(c,p,u?2:1),C=0;if("function"!=typeof g)throw TypeError(e+" is not iterable!");if(i(g)){for(d=o(e.length);d>C;C++)if(y=u?v(r(f=e[C])[0],f[1]):v(e[C]),y===a||y===l)return y}else for(m=g.call(e);!(f=m.next()).done;)if(y=n(m,v,f.value,u),y===a||y===l)return y};u.BREAK=a,u.RETURN=l}),global$6=_global,core$3=_core,dP$5=_objectDp,DESCRIPTORS$2=_descriptors,SPECIES=_wks("species"),_setSpecies=function(e){var t="function"==typeof core$3[e]?core$3[e]:global$6[e];DESCRIPTORS$2&&t&&!t[SPECIES]&&dP$5.f(t,SPECIES,{configurable:!0,get:function(){return this}})},dP$4=_objectDp.f,create$1=_objectCreate,redefineAll=_redefineAll,ctx$2=_ctx,anInstance=_anInstance,defined$3=_defined,forOf=_forOf,$iterDefine=_iterDefine,step$1=_iterStep,setSpecies=_setSpecies,DESCRIPTORS$1=_descriptors,fastKey$1=_meta.fastKey,SIZE=DESCRIPTORS$1?"_s":"size",getEntry=function(e,t){var n,i=fastKey$1(t);if("F"!==i)return e._i[i];for(n=e._f;n;n=n.n)if(n.k==t)return n},_collectionStrong={getConstructor:function(e,t,n,i){var r=e(function(e,o){anInstance(e,r,t,"_i"),e._i=create$1(null),e._f=void 0,e._l=void 0,e[SIZE]=0,void 0!=o&&forOf(o,n,e[i],e)});return redefineAll(r.prototype,{clear:function(){for(var e=this,t=e._i,n=e._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete t[n.i];e._f=e._l=void 0,e[SIZE]=0},delete:function(e){var t=this,n=getEntry(t,e);if(n){var i=n.n,r=n.p;delete t._i[n.i],n.r=!0,r&&(r.n=i),i&&(i.p=r),t._f==n&&(t._f=i),t._l==n&&(t._l=r),t[SIZE]--}return!!n},forEach:function(e){anInstance(this,r,"forEach");for(var t,n=ctx$2(e,arguments.length>1?arguments[1]:void 0,3);t=t?t.n:this._f;)for(n(t.v,t.k,this);t&&t.r;)t=t.p},has:function(e){return!!getEntry(this,e)}}),DESCRIPTORS$1&&dP$4(r.prototype,"size",{get:function(){return defined$3(this[SIZE])}}),r},def:function(e,t,n){var i,r,o=getEntry(e,t);return o?o.v=n:(e._l=o={i:r=fastKey$1(t,!0),k:t,v:n,p:i=e._l,n:void 0,r:!1},e._f||(e._f=o),i&&(i.n=o),e[SIZE]++,"F"!==r&&(e._i[r]=o)),e},getEntry:getEntry,setStrong:function(e,t,n){$iterDefine(e,t,function(e,t){this._t=e,this._k=t,this._l=void 0},function(){for(var e=this,t=e._k,n=e._l;n&&n.r;)n=n.p;return e._t&&(e._l=n=n?n.n:e._t._f)?"keys"==t?step$1(0,n.k):"values"==t?step$1(0,n.v):step$1(0,[n.k,n.v]):(e._t=void 0,step$1(1))},n?"entries":"values",!n,!0),setSpecies(t)}},isObject$4=_isObject,isArray$1=_isArray,SPECIES$1=_wks("species"),_arraySpeciesConstructor=function(e){var t;return isArray$1(e)&&(t=e.constructor,"function"!=typeof t||t!==Array&&!isArray$1(t.prototype)||(t=void 0),isObject$4(t)&&(t=t[SPECIES$1],null===t&&(t=void 0))),void 0===t?Array:t},speciesConstructor=_arraySpeciesConstructor,_arraySpeciesCreate=function(e,t){return new(speciesConstructor(e))(t)},ctx$3=_ctx,IObject$1=_iobject,toObject$3=_toObject,toLength$2=_toLength,asc=_arraySpeciesCreate,_arrayMethods=function(e,t){var n=1==e,i=2==e,r=3==e,o=4==e,s=6==e,a=5==e||s,l=t||asc;return function(t,u,c){for(var p,h,d=toObject$3(t),f=IObject$1(d),m=ctx$3(u,c,3),y=toLength$2(f.length),g=0,v=n?l(t,y):i?l(t,0):void 0;y>g;g++)if((a||g in f)&&(p=f[g],h=m(p,g,d),e))if(n)v[g]=h;else if(h)switch(e){case 3:return!0;case 5:return p;case 6:return g;case 2:v.push(p)}else if(o)return!1;return s?-1:r||o?o:v}},global$7=_global,$export$6=_export,meta=_meta,fails$1=_fails,hide$4=_hide,redefineAll$1=_redefineAll,forOf$1=_forOf,anInstance$1=_anInstance,isObject$3=_isObject,setToStringTag$3=_setToStringTag,dP$6=_objectDp.f,each=_arrayMethods(0),DESCRIPTORS$3=_descriptors,_collection=function(e,t,n,i,r,o){var s=global$7[e],a=s,l=r?"set":"add",u=a&&a.prototype,c={};return DESCRIPTORS$3&&"function"==typeof a&&(o||u.forEach&&!fails$1(function(){(new a).entries().next()}))?(a=t(function(t,n){anInstance$1(t,a,e,"_c"),t._c=new s,void 0!=n&&forOf$1(n,r,t[l],t)}),each("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(e){var t="add"==e||"set"==e;e in u&&(!o||"clear"!=e)&&hide$4(a.prototype,e,function(n,i){if(anInstance$1(this,a,e),!t&&o&&!isObject$3(n))return"get"==e&&void 0;var r=this._c[e](0===n?0:n,i);return t?this:r})}),"size"in u&&dP$6(a.prototype,"size",{get:function(){return this._c.size}})):(a=i.getConstructor(t,e,r,l),redefineAll$1(a.prototype,n),meta.NEED=!0),setToStringTag$3(a,e),c[e]=a,$export$6($export$6.G+$export$6.W+$export$6.F,c),o||i.setStrong(a,e,r),a},strong=_collectionStrong,es6_map=_collection("Map",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{get:function(e){var t=strong.getEntry(this,e);return t&&t.v},set:function(e,t){return strong.def(this,0===e?0:e,t)}},strong,!0),forOf$2=_forOf,_arrayFromIterable=function(e,t){var n=[];return forOf$2(e,!1,n.push,n,t),n},classof$1=_classof,from$3=_arrayFromIterable,_collectionToJson=function(e){return function(){if(classof$1(this)!=e)throw TypeError(e+"#toJSON isn't generic");return from$3(this)}},$export$7=_export;$export$7($export$7.P+$export$7.R,"Map",{toJSON:_collectionToJson("Map")});var map$1=_core.Map,map=createCommonjsModule(function(e){e.exports={default:map$1,__esModule:!0}}),_Map=unwrapExports(map),defineProperty$5=createCommonjsModule(function(e,t){function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=defineProperty,r=n(i);t.default=function(e,t,n){return t in e?(0,r.default)(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}}),_defineProperty=unwrapExports(defineProperty$5),fableGlobal=function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};
return"undefined"==typeof e.__FABLE_CORE__&&(e.__FABLE_CORE__={types:new Map,symbols:{reflection:Symbol("reflection")}}),e.__FABLE_CORE__}(),_Symbol=fableGlobal.symbols,NonDeclaredType=function(){function e(e,t,n){this.kind=e,this.definition=t,this.generics=n}return e.prototype.Equals=function(e){return this.kind===e.kind&&this.definition===e.definition&&("object"==typeof this.generics?equalsRecords(this.generics,e.generics):this.generics===e.generics)},e}(),Any=new NonDeclaredType("Any"),Unit=new NonDeclaredType("Unit"),List$2=function(){function e(e,t){this.head=e,this.tail=t}return e.prototype.ToString=function(){return"["+Array.from(this).map(toString$2).join("; ")+"]"},e.prototype.Equals=function(e){if(this===e)return!0;for(var t=this[Symbol.iterator](),n=e[Symbol.iterator]();;){var i=t.next(),r=n.next();if(i.done)return!!r.done;if(r.done)return!1;if(!equals(i.value,r.value))return!1}},e.prototype.CompareTo=function(e){if(this===e)return 0;for(var t=0,n=this[Symbol.iterator](),i=e[Symbol.iterator]();;){var r=n.next(),o=i.next();if(r.done)return o.done?t:-1;if(o.done)return 1;if(t=compare(r.value,o.value),0!=t)return t}},Object.defineProperty(e.prototype,"length",{get:function(){for(var e=this,t=0;null!=e.tail;)e=e.tail,t++;return t},enumerable:!0,configurable:!0}),e.prototype[Symbol.iterator]=function(){var e=this;return{next:function(){var t=e;return e=e.tail,{done:null==t.tail,value:t.head}}}},e.prototype[_Symbol.reflection]=function(){return{type:"Microsoft.FSharp.Collections.FSharpList",interfaces:["System.IEquatable","System.IComparable"]}},e}(),Enumerator=function(){function e(e){this.iter=e}return e.prototype.MoveNext=function(){var e=this.iter.next();return this.current=e.value,!e.done},Object.defineProperty(e.prototype,"Current",{get:function(){return this.current},enumerable:!0,configurable:!0}),e.prototype.Reset=function(){throw new Error("JS iterators cannot be reset")},e.prototype.Dispose=function(){},e}(),GenericComparer=function(){function e(e){this.Compare=e||compare}return e.prototype[_Symbol.reflection]=function(){return{interfaces:["System.IComparer"]}},e}(),MapTree=function(){function e(e,t){this.Case=e,this.Fields=t}return e}(),FableMap=function(){function e(){}return e.prototype.ToString=function(){return"map ["+Array.from(this).map(toString$2).join("; ")+"]"},e.prototype.Equals=function(e){return 0===this.CompareTo(e)},e.prototype.CompareTo=function(e){var t=this;return this===e?0:compareWith(function(e,n){var i=t.comparer.Compare(e[0],n[0]);return 0!==i?i:compare(e[1],n[1])},this,e)},e.prototype[Symbol.iterator]=function(){var e=tree_mkIterator$1(this.tree);return{next:function(){return tree_moveNext$1(e)}}},e.prototype.entries=function(){return this[Symbol.iterator]()},e.prototype.keys=function(){return map$5(function(e){return e[0]},this)},e.prototype.values=function(){return map$5(function(e){return e[1]},this)},e.prototype.get=function(e){return tree_find(this.comparer,e,this.tree)},e.prototype.has=function(e){return tree_mem$1(this.comparer,e,this.tree)},e.prototype.set=function(e,t){throw new Error("not supported")},e.prototype.delete=function(e){throw new Error("not supported")},e.prototype.clear=function(){throw new Error("not supported")},Object.defineProperty(e.prototype,"size",{get:function(){return tree_size(this.tree)},enumerable:!0,configurable:!0}),e.prototype[_Symbol.reflection]=function(){return{type:"Microsoft.FSharp.Collections.FSharpMap",interfaces:["System.IEquatable","System.IComparable","System.Collections.Generic.IDictionary"]}},e}(),SetTree=function(){function e(e,t){this.Case=e,this.Fields=t}return e}(),tree_tolerance=2,FableSet=function(){function e(){}return e.prototype.ToString=function(){return"set ["+Array.from(this).map(toString$2).join("; ")+"]"},e.prototype.Equals=function(e){return 0===this.CompareTo(e)},e.prototype.CompareTo=function(e){return this===e?0:tree_compare(this.comparer,this.tree,e.tree)},e.prototype[Symbol.iterator]=function(){var e=tree_mkIterator(this.tree);return{next:function(){return tree_moveNext(e)}}},e.prototype.values=function(){return this[Symbol.iterator]()},e.prototype.has=function(e){return tree_mem(this.comparer,e,this.tree)},e.prototype.add=function(e){throw new Error("not supported")},e.prototype.delete=function(e){throw new Error("not supported")},e.prototype.clear=function(){throw new Error("not supported")},Object.defineProperty(e.prototype,"size",{get:function(){return tree_count(this.tree)},enumerable:!0,configurable:!0}),e.prototype[_Symbol.reflection]=function(){return{type:"Microsoft.FSharp.Collections.FSharpSet",interfaces:["System.IEquatable","System.IComparable"]}},e}(),Long=function(){function e(e,t,n){this.eq=this.equals,this.neq=this.notEquals,this.lt=this.lessThan,this.lte=this.lessThanOrEqual,this.gt=this.greaterThan,this.gte=this.greaterThanOrEqual,this.comp=this.compare,this.neg=this.negate,this.abs=this.absolute,this.sub=this.subtract,this.mul=this.multiply,this.div=this.divide,this.mod=this.modulo,this.shl=this.shiftLeft,this.shr=this.shiftRight,this.shru=this.shiftRightUnsigned,this.Equals=this.equals,this.CompareTo=this.compare,this.ToString=this.toString,this.low=0|e,this.high=0|t,this.unsigned=!!n}return e.prototype.toInt=function(){return this.unsigned?this.low>>>0:this.low},e.prototype.toNumber=function(){return this.unsigned?(this.high>>>0)*TWO_PWR_32_DBL+(this.low>>>0):this.high*TWO_PWR_32_DBL+(this.low>>>0)},e.prototype.toString=function(e){if(void 0===e&&(e=10),e=e||10,e<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(MIN_VALUE)){var t=fromNumber(e),n=this.div(t),i=n.mul(t).sub(this);return n.toString(e)+i.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var r=fromNumber(pow_dbl(e,6),this.unsigned),o=this,s="";;){var a=o.div(r),l=o.sub(a.mul(r)).toInt()>>>0,u=l.toString(e);if(o=a,o.isZero())return u+s;for(;u.length<6;)u="0"+u;s=""+u+s}},e.prototype.getHighBits=function(){return this.high},e.prototype.getHighBitsUnsigned=function(){return this.high>>>0},e.prototype.getLowBits=function(){return this.low},e.prototype.getLowBitsUnsigned=function(){return this.low>>>0},e.prototype.getNumBitsAbs=function(){if(this.isNegative())return this.eq(MIN_VALUE)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1},e.prototype.isZero=function(){return 0===this.high&&0===this.low},e.prototype.isNegative=function(){return!this.unsigned&&this.high<0},e.prototype.isPositive=function(){return this.unsigned||this.high>=0},e.prototype.isOdd=function(){return 1===(1&this.low)},e.prototype.isEven=function(){return 0===(1&this.low)},e.prototype.equals=function(e){return isLong(e)||(e=fromValue(e)),(this.unsigned===e.unsigned||this.high>>>31!==1||e.high>>>31!==1)&&(this.high===e.high&&this.low===e.low)},e.prototype.notEquals=function(e){return!this.eq(e)},e.prototype.lessThan=function(e){return this.comp(e)<0},e.prototype.lessThanOrEqual=function(e){return this.comp(e)<=0},e.prototype.greaterThan=function(e){return this.comp(e)>0},e.prototype.greaterThanOrEqual=function(e){return this.comp(e)>=0},e.prototype.compare=function(e){if(isLong(e)||(e=fromValue(e)),this.eq(e))return 0;var t=this.isNegative(),n=e.isNegative();return t&&!n?-1:!t&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},e.prototype.negate=function(){return!this.unsigned&&this.eq(MIN_VALUE)?MIN_VALUE:this.not().add(ONE)},e.prototype.absolute=function(){return!this.unsigned&&this.isNegative()?this.negate():this},e.prototype.add=function(e){isLong(e)||(e=fromValue(e));var t=this.high>>>16,n=65535&this.high,i=this.low>>>16,r=65535&this.low,o=e.high>>>16,s=65535&e.high,a=e.low>>>16,l=65535&e.low,u=0,c=0,p=0,h=0;return h+=r+l,p+=h>>>16,h&=65535,p+=i+a,c+=p>>>16,p&=65535,c+=n+s,u+=c>>>16,c&=65535,u+=t+o,u&=65535,fromBits(p<<16|h,u<<16|c,this.unsigned)},e.prototype.subtract=function(e){return isLong(e)||(e=fromValue(e)),this.add(e.neg())},e.prototype.multiply=function(e){if(this.isZero())return ZERO;if(isLong(e)||(e=fromValue(e)),e.isZero())return ZERO;if(this.eq(MIN_VALUE))return e.isOdd()?MIN_VALUE:ZERO;if(e.eq(MIN_VALUE))return this.isOdd()?MIN_VALUE:ZERO;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(TWO_PWR_24)&&e.lt(TWO_PWR_24))return fromNumber(this.toNumber()*e.toNumber(),this.unsigned);var t=this.high>>>16,n=65535&this.high,i=this.low>>>16,r=65535&this.low,o=e.high>>>16,s=65535&e.high,a=e.low>>>16,l=65535&e.low,u=0,c=0,p=0,h=0;return h+=r*l,p+=h>>>16,h&=65535,p+=i*l,c+=p>>>16,p&=65535,p+=r*a,c+=p>>>16,p&=65535,c+=n*l,u+=c>>>16,c&=65535,c+=i*a,u+=c>>>16,c&=65535,c+=r*s,u+=c>>>16,c&=65535,u+=t*l+n*a+i*s+r*o,u&=65535,fromBits(p<<16|h,u<<16|c,this.unsigned)},e.prototype.divide=function(e){if(isLong(e)||(e=fromValue(e)),e.isZero())throw Error("division by zero");if(this.isZero())return this.unsigned?UZERO:ZERO;var t=0,n=ZERO,i=ZERO;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return UZERO;if(e.gt(this.shru(1)))return UONE;i=UZERO}else{if(this.eq(MIN_VALUE)){if(e.eq(ONE)||e.eq(NEG_ONE))return MIN_VALUE;if(e.eq(MIN_VALUE))return ONE;var r=this.shr(1),o=r.div(e).shl(1);return o.eq(ZERO)?e.isNegative()?ONE:NEG_ONE:(n=this.sub(e.mul(o)),i=o.add(n.div(e)))}if(e.eq(MIN_VALUE))return this.unsigned?UZERO:ZERO;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();i=ZERO}for(n=this;n.gte(e);){t=Math.max(1,Math.floor(n.toNumber()/e.toNumber()));for(var s=Math.ceil(Math.log(t)/Math.LN2),a=s<=48?1:pow_dbl(2,s-48),l=fromNumber(t),u=l.mul(e);u.isNegative()||u.gt(n);)t-=a,l=fromNumber(t,this.unsigned),u=l.mul(e);l.isZero()&&(l=ONE),i=i.add(l),n=n.sub(u)}return i},e.prototype.modulo=function(e){return isLong(e)||(e=fromValue(e)),this.sub(this.div(e).mul(e))},e.prototype.not=function(){return fromBits(~this.low,~this.high,this.unsigned)},e.prototype.and=function(e){return isLong(e)||(e=fromValue(e)),fromBits(this.low&e.low,this.high&e.high,this.unsigned)},e.prototype.or=function(e){return isLong(e)||(e=fromValue(e)),fromBits(this.low|e.low,this.high|e.high,this.unsigned)},e.prototype.xor=function(e){return isLong(e)||(e=fromValue(e)),fromBits(this.low^e.low,this.high^e.high,this.unsigned)},e.prototype.shiftLeft=function(e){return isLong(e)&&(e=e.toInt()),e&=63,0===e?this:e<32?fromBits(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):fromBits(0,this.low<<e-32,this.unsigned)},e.prototype.shiftRight=function(e){return isLong(e)&&(e=e.toInt()),e&=63,0===e?this:e<32?fromBits(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):fromBits(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},e.prototype.shiftRightUnsigned=function(e){if(isLong(e)&&(e=e.toInt()),e&=63,0===e)return this;var t=this.high;if(e<32){var n=this.low;return fromBits(n>>>e|t<<32-e,t>>>e,this.unsigned)}return 32===e?fromBits(t,0,this.unsigned):fromBits(t>>>e-32,0,this.unsigned)},e.prototype.toSigned=function(){return this.unsigned?fromBits(this.low,this.high,!1):this},e.prototype.toUnsigned=function(){return this.unsigned?this:fromBits(this.low,this.high,!0)},e.prototype.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},e.prototype.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24&255,255&e,e>>>8&255,e>>>16&255,e>>>24&255]},e.prototype.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24&255,e>>>16&255,e>>>8&255,255&e,t>>>24&255,t>>>16&255,t>>>8&255,255&t]},e.prototype[_Symbol.reflection]=function(){return{type:"System.Int64",interfaces:["FSharpRecord","System.IComparable"],properties:{low:"number",high:"number",unsigned:"boolean"}}},e}(),INT_CACHE={},UINT_CACHE={},pow_dbl=Math.pow,TWO_PWR_16_DBL=65536,TWO_PWR_24_DBL=1<<24,TWO_PWR_32_DBL=TWO_PWR_16_DBL*TWO_PWR_16_DBL,TWO_PWR_64_DBL=TWO_PWR_32_DBL*TWO_PWR_32_DBL,TWO_PWR_63_DBL=TWO_PWR_64_DBL/2,TWO_PWR_24=fromInt(TWO_PWR_24_DBL),ZERO=fromInt(0),UZERO=fromInt(0,!0),ONE=fromInt(1),UONE=fromInt(1,!0),NEG_ONE=fromInt(-1),MAX_VALUE=fromBits(-1,2147483647,!1),MAX_UNSIGNED_VALUE=fromBits(-1,-1,!0),MIN_VALUE=fromBits(0,-2147483648,!1),fsFormatRegExp=/(^|[^%])%([0+ ]*)(-?\d+)?(?:\.(\d+))?(\w)/,Trampoline=function(){function e(){this.callCount=0}return Object.defineProperty(e,"maxTrampolineCallCount",{get:function(){return 2e3},enumerable:!0,configurable:!0}),e.prototype.incrementAndCheck=function(){return this.callCount++>e.maxTrampolineCallCount},e.prototype.hijack=function(e){this.callCount=0,setTimeout(e,0)},e}(),AsyncBuilder=function(){function e(){}return e.prototype.Bind=function(e,t){return protectedBind(e,t)},e.prototype.Combine=function(e,t){return this.Bind(e,function(){return t})},e.prototype.Delay=function(e){return protectedCont(function(t){return e()(t)})},e.prototype.For=function(e,t){var n=e[Symbol.iterator](),i=n.next();return this.While(function(){return!i.done},this.Delay(function(){var e=t(i.value);return i=n.next(),e}))},e.prototype.Return=function(e){return protectedReturn(e)},e.prototype.ReturnFrom=function(e){return e},e.prototype.TryFinally=function(e,t){return protectedCont(function(n){e({onSuccess:function(e){t(),n.onSuccess(e)},onError:function(e){t(),n.onError(e)},onCancel:function(e){t(),n.onCancel(e)},cancelToken:n.cancelToken,trampoline:n.trampoline})})},e.prototype.TryWith=function(e,t){return protectedCont(function(n){e({onSuccess:n.onSuccess,onCancel:n.onCancel,cancelToken:n.cancelToken,trampoline:n.trampoline,onError:function(e){try{t(e)(n)}catch(e){n.onError(e)}}})})},e.prototype.Using=function(e,t){return this.TryFinally(t(e),function(){return e.Dispose()})},e.prototype.While=function(e,t){var n=this;return e()?this.Bind(t,function(){return n.While(e,t)}):this.Return(void 0)},e.prototype.Zero=function(){return protectedCont(function(e){return e.onSuccess(void 0)})},e}(),singleton$2=new AsyncBuilder,Choice=function(){function e(e,t){this.Case=e,this.Fields=t}return Object.defineProperty(e.prototype,"valueIfChoice1",{get:function(){return"Choice1Of2"===this.Case?this.Fields[0]:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"valueIfChoice2",{get:function(){return"Choice2Of2"===this.Case?this.Fields[0]:null},enumerable:!0,configurable:!0}),e.prototype.Equals=function(e){return equalsUnions(this,e)},e.prototype.CompareTo=function(e){return compareUnions(this,e)},e.prototype[_Symbol.reflection]=function(){return{type:"Microsoft.FSharp.Core.FSharpChoice",interfaces:["FSharpUnion","System.IEquatable","System.IComparable"]}},e}(),Async$1=function(){function e(){}return e}(),defaultCancellationToken={isCancelled:!1},enabledCategories=isLocalHost()?create$2(ofArray(["RUNTIME","API","LIVE","SYSTEM","PARSING","BINDER","COMPLETIONS","EDITORS","TYPECHECKER","PROVIDERS","SERVICE","CODEGEN","INTERPRETER","RUNTIME"]),new GenericComparer(compare)):create$2(new List$2,new GenericComparer(compare)),Log=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Common.Log",properties:{}}}}],[{key:"setEnabled",value:function(e){enabledCategories=e}},{key:"event",value:function(e,t,n,i){"undefined"!=typeof logEvent&&logEvent(e,t,n,i)}},{key:"message",value:function(e,t,n){for(var i=arguments.length,r=Array(i>3?i-3:0),o=3;o<i;o++)r[o-3]=arguments[o];var s=null==r?[]:r,a=t.toLocaleUpperCase();if(isLocalHost()||"EXCEPTION"!==e||"undefined"!=typeof logEvent&&logEvent("system","exception","",{category:a,msg:n,args:s}),"EXCEPTION"===e||"ERROR"===e||enabledCategories.has(a)){var l=now(),u=function(e){return padLeft(String(e),2,"0")},c=function(e){return padLeft(String(e),4,"0")},p=fsFormat("[%s:%s:%s:%s] %s: ")(function(e){return e})(u(hour(l)))(u(minute(l)))(u(second(l)))(c(millisecond(l)))(a),h=void 0;switch(e){case"TRACE":h="color:#808080";break;case"EXCEPTION":h="color:#c00000";break;case"ERROR":h="color:#900000";break;default:h=""}console.log.apply(console,_Array$from(append$1(["%c"+p+n,h],s)))}}},{key:"trace",value:function(t,n){for(var i=arguments.length,r=Array(i>2?i-2:0),o=2;o<i;o++)r[o-2]=arguments[o];e.message.apply(e,["TRACE",t,n].concat(r))}},{key:"exn",value:function(t,n){for(var i=arguments.length,r=Array(i>2?i-2:0),o=2;o<i;o++)r[o-2]=arguments[o];e.message.apply(e,["EXCEPTION",t,n].concat(r))}},{key:"error",value:function(t,n){for(var i=arguments.length,r=Array(i>2?i-2:0),o=2;o<i;o++)r[o-2]=arguments[o];e.message.apply(e,["ERROR",t,n].concat(r))}}]),e}();setType("TheGamma.Common.Log",Log);var Http=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Common.Http",properties:{}}}}],[{key:"Request",value:function(e,t,n,i){return fromContinuations(function(r){var o=new XMLHttpRequest;o.open(e,t,!0);var s=null!=i&&""!==i?[0,i]:[1];switch(s[0]){case 0:o.setRequestHeader("X-Cookie",s[1]);break;case 1:}o.onreadystatechange=function(e){return o.readyState>3&&200===o.status&&r[0](o.responseText),{}},o.send(null!=n?n:"")})}}]),e}();setType("TheGamma.Common.Http",Http);var Async=function(e){var t=(e.Array=function(e){e.Parallel=function(e){e.map=function(e,t){return function(n){return n.Delay(function(){var i=new Array(t.length).fill(null),r=parallel(toList(delay(function(){return map$5(function(n){return function(r){return r.Delay(function(){return r.Bind(e(t[n]),function(e){return i[n]=e,r.Zero()})})}(singleton$2)},range(0,t.length-1))})));return n.Bind(r,function(e){return n.Return(i)})})}(singleton$2)};return e}({}),e.map=function(e,t){return function(n){return n.Delay(function(){var i=new Array(t.length).fill(null);return n.Combine(n.For(range(0,t.length-1),function(r){return n.Bind(e(t[r]),function(e){return i[r]=e,n.Zero()})}),n.Delay(function(){return n.Return(i)}))})}(singleton$2)};return e}({}),e.collect=function(e,n){return function(i){return i.Delay(function(){return null==n.tail?i.Return(new List$2):i.Bind(e(n.head),function(r){return i.Bind(t(e,n.tail),function(e){return i.Return(append$$1(r,e))})})})}(singleton$2)}),n=e.choose=function(e,t){return function(i){return i.Delay(function(){return null==t.tail?i.Return(new List$2):i.Bind(e(t.head),function(r){return i.Bind(n(e,t.tail),function(e){return i.Return(null!=r?new List$2(r,e):e)})})})}(singleton$2)},i=e.map=function(e,t){return function(n){return n.Delay(function(){return null==t.tail?n.Return(new List$2):n.Bind(e(t.head),function(r){return n.Bind(i(e,t.tail),function(e){return n.Return(new List$2(r,e))})})})}(singleton$2)},r=e.foldMap=function(e,t,n){return function(i){return i.Delay(function(){return null==n.tail?i.Return([t,new List$2]):i.Bind(e(t)(n.head),function(t){return i.Bind(r(e,t[1],n.tail),function(e){return i.Return([e[0],new List$2(t[0],e[1])])})})})}(singleton$2)},o=e.fold=function(e,t,n){return function(i){return i.Delay(function(){return null==n.tail?i.Return(t):i.Bind(e(t)(n.head),function(t){return i.ReturnFrom(o(e,t,n.tail))})})}(singleton$2)};return e}({}),ListDictionaryNode=function(){function e(t,n){_classCallCheck(this,e),this.Result=t,this.Nested=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Common.ListDictionaryNode",interfaces:["FSharpRecord","System.IEquatable"],properties:{Result:Option(GenericParam("T")),Nested:makeGeneric(_Map,{TKey:GenericParam("K"),TValue:makeGeneric(e,{K:GenericParam("K"),T:GenericParam("T")})})}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}}]),e}();setType("TheGamma.Common.ListDictionaryNode",ListDictionaryNode);var ListDictionaryModule=function(e){e.tryFind=function(e,t){var n=function(e){return function(t){var n=function(){var n=[e,t],i=null!=n[0].tail?function(){var e=(n[0].tail,n[0].head),t=n[1].Nested;return t.has(e)}()?[1,n[1].Nested,n[0].head,n[0].tail]:[2]:null!=n[1].Result?[0,n[1].Result]:[2];switch(i[0]){case 0:return{v:i[1]};case 1:return e=i[3],t=i[1].get(i[2]),"continue|loop";case 2:return{v:null}}};e:for(;;){var i=n();switch(i){case"continue|loop":continue e;default:if("object"===("undefined"==typeof i?"undefined":_typeof(i)))return i.v}}}};return n(e)(new ListDictionaryNode(null,t))},e.set=function(e,t,n){var i=function e(n){return function(i){if(null==n.tail)throw new Error("Empty key not supported");i.has(n.head)||i.set(n.head,function(){var e=new _Map;return new ListDictionaryNode(null,e)}()),null==n.tail.tail?i.get(n.head).Result=t:e(n.tail)(i.get(n.head).Nested)}};i(e)(n)},e.count=function(e){var t=function e(t){var n=sumBy(function(t){return e(t[1])},t.Nested);return function(){return null!=t.Result}(null)?1+n:n};return sumBy(function(e){return t(e[1])},e)};return e}({}),List=function(e){e.groupWith=function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=_getIterator(t);!(i=(s=a.next()).done);i=!0){for(var l=s.value,u=!1,c=0;!u&&c<n.length;)e(l)(n[c][0])&&(n[c][1].push(l),u=!0),c+=1;u||n.push([l,_Array$from(ofArray([l]))])}}catch(e){r=!0,o=e}finally{try{!i&&a.return&&a.return()}finally{if(r)throw o}}return toList(map$5(function(e){return toList(e[1])},n))},e.unreduce=function(e,t){return toList(unfold(function(t){return defaultArg(e(t),null,function(e){return[e,e]})},t))};return e}({}),Position=function(){function e(t,n){_classCallCheck(this,e),this.line=t,this.column=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Babel.Position",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{line:"number",column:"number"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.Babel.Position",Position);var SourceLocation=function(){function e(t,n){_classCallCheck(this,e),this.start=t,this.end=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Babel.SourceLocation",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{start:Position,end:Position}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.Babel.SourceLocation",SourceLocation);var AssignmentOperator=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Babel.AssignmentOperator",interfaces:["FSharpUnion","System.IEquatable","System.IComparable"],cases:{AssignAndBitwise:[],AssignDivide:[],AssignEqual:[],AssignMinus:[],AssignModulus:[],AssignMultiply:[],AssignOrBitwise:[],AssignPlus:[],AssignShiftLeft:[],AssignShiftRightSignPropagating:[],AssignShiftRightZeroFill:[],AssignXorBitwise:[]}}}},{key:"Equals",value:function(e){return equalsUnions(this,e)}},{key:"CompareTo",value:function(e){return compareUnions(this,e)}}]),e}();setType("TheGamma.Babel.AssignmentOperator",AssignmentOperator);var BinaryOperator=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Babel.BinaryOperator",interfaces:["FSharpUnion","System.IEquatable","System.IComparable"],cases:{BinaryAndBitwise:[],BinaryDivide:[],BinaryEqual:[],BinaryEqualStrict:[],BinaryExponent:[],BinaryGreater:[],BinaryGreaterOrEqual:[],BinaryIn:[],BinaryInstanceOf:[],BinaryLess:[],BinaryLessOrEqual:[],BinaryMinus:[],BinaryModulus:[],BinaryMultiply:[],BinaryOrBitwise:[],BinaryPlus:[],BinaryShiftLeft:[],BinaryShiftRightSignPropagating:[],BinaryShiftRightZeroFill:[],BinaryUnequal:[],BinaryUnequalStrict:[],BinaryXorBitwise:[]}}}},{key:"Equals",value:function(e){return equalsUnions(this,e)}},{key:"CompareTo",value:function(e){return compareUnions(this,e)}}]),e}();setType("TheGamma.Babel.BinaryOperator",BinaryOperator);var Pattern=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Babel.Pattern",interfaces:["FSharpUnion","System.IEquatable","System.IComparable"],cases:{IdentifierPattern:["string",Option(SourceLocation)]}}}},{key:"Equals",value:function(e){return equalsUnions(this,e)}},{key:"CompareTo",value:function(e){return compareUnions(this,e)}}]),e}();setType("TheGamma.Babel.Pattern",Pattern);var VariableDeclarationKind=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Babel.VariableDeclarationKind",interfaces:["FSharpUnion","System.IEquatable","System.IComparable"],cases:{Const:[],Let:[],Var:[]}}}},{key:"Equals",value:function(e){return equalsUnions(this,e)}},{key:"CompareTo",value:function(e){return compareUnions(this,e)}}]),e}();setType("TheGamma.Babel.VariableDeclarationKind",VariableDeclarationKind);var VariableDeclarator=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Babel.VariableDeclarator",interfaces:["FSharpUnion","System.IEquatable","System.IComparable"],cases:{VariableDeclarator:[Pattern,Option(Expression),Option(SourceLocation)]}}}},{key:"Equals",value:function(e){return equalsUnions(this,e)}},{key:"CompareTo",value:function(e){return compareUnions(this,e)}}]),e}();setType("TheGamma.Babel.VariableDeclarator",VariableDeclarator);var Expression=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Babel.Expression",interfaces:["FSharpUnion","System.IEquatable","System.IComparable"],cases:{ArrayExpression:[makeGeneric(List$2,{T:e}),Option(SourceLocation)],AssignmentExpression:[AssignmentOperator,e,e,Option(SourceLocation)],BinaryExpression:[BinaryOperator,e,e,Option(SourceLocation)],BooleanLiteral:["boolean",Option(SourceLocation)],CallExpression:[e,makeGeneric(List$2,{T:e}),Option(SourceLocation)],FunctionExpression:[Option("string"),makeGeneric(List$2,{T:Pattern}),Statement,"boolean","boolean",Option(SourceLocation)],IdentifierExpression:["string",Option(SourceLocation)],MemberExpression:[e,e,"boolean",Option(SourceLocation)],NewExpression:[e,makeGeneric(List$2,{T:e}),Option(SourceLocation)],NullLiteral:[Option(SourceLocation)],NumericLiteral:["number",Option(SourceLocation)],StringLiteral:["string",Option(SourceLocation)]}}}},{key:"Equals",value:function(e){return equalsUnions(this,e)}},{key:"CompareTo",value:function(e){return compareUnions(this,e)}}]),e}();setType("TheGamma.Babel.Expression",Expression);var Statement=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Babel.Statement",interfaces:["FSharpUnion","System.IEquatable","System.IComparable"],cases:{BlockStatement:[makeGeneric(List$2,{T:e}),Option(SourceLocation)],EmptyStatement:[Option(SourceLocation)],ExpressionStatement:[Expression,Option(SourceLocation)],ReturnStatement:[Expression,Option(SourceLocation)],VariableDeclaration:[VariableDeclarationKind,makeGeneric(List$2,{T:VariableDeclarator}),Option(SourceLocation)]}}}},{key:"Equals",value:function(e){return equalsUnions(this,e)}},{key:"CompareTo",value:function(e){return compareUnions(this,e)}}]),e}();setType("TheGamma.Babel.Statement",Statement);var Program$1=function(){function e(t,n){_classCallCheck(this,e),this.location=t,this.body=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Babel.Program",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{location:Option(SourceLocation),body:makeGeneric(List$2,{T:Statement})}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.Babel.Program",Program$1);var Serializer=function(e){var t=e.createObj=function(e){return createObj(concat$$1(e))},n=e.serializeBinaryOperator=function(e){return"BinaryUnequal"===e.Case?"!=":"BinaryEqualStrict"===e.Case?"===":"BinaryUnequalStrict"===e.Case?"!==":"BinaryLess"===e.Case?"<":"BinaryLessOrEqual"===e.Case?"<=":"BinaryGreater"===e.Case?">":"BinaryGreaterOrEqual"===e.Case?">=":"BinaryShiftLeft"===e.Case?"<<":"BinaryShiftRightSignPropagating"===e.Case?">>":"BinaryShiftRightZeroFill"===e.Case?">>>":"BinaryMinus"===e.Case?"-":"BinaryPlus"===e.Case?"+":"BinaryMultiply"===e.Case?"*":"BinaryDivide"===e.Case?"/":"BinaryModulus"===e.Case?"%":"BinaryExponent"===e.Case?"**":"BinaryOrBitwise"===e.Case?"|":"BinaryXorBitwise"===e.Case?"^":"BinaryAndBitwise"===e.Case?"&":"BinaryIn"===e.Case?"in":"BinaryInstanceOf"===e.Case?"instanceof":"=="},i=e.serializeAssignOperator=function(e){return"AssignMinus"===e.Case?"-=":"AssignPlus"===e.Case?"+=":"AssignMultiply"===e.Case?"*=":"AssignDivide"===e.Case?"/=":"AssignModulus"===e.Case?"%=":"AssignShiftLeft"===e.Case?"<<=":"AssignShiftRightSignPropagating"===e.Case?">>=":"AssignShiftRightZeroFill"===e.Case?">>>=":"AssignOrBitwise"===e.Case?"|=":"AssignXorBitwise"===e.Case?"^=":"AssignAndBitwise"===e.Case?"&=":"="},r=e.serializePattern=function(e){return t(ofArray([ofArray([["type","Identifier"]]),ofArray([["name",e.Fields[0]]]),function(){var t=e.Fields[1];return null!=t?ofArray([["loc",t]]):new List$2}()]))},o=e.serializeDeclarator=function(e){return t(ofArray([ofArray([["type","VariableDeclarator"]]),ofArray([["id",r(e.Fields[0])]]),function(){var t=defaultArg(e.Fields[1],null,function(e){return s(e)});return null!=t?ofArray([["init",t]]):new List$2}(),function(){var t=e.Fields[2];return null!=t?ofArray([["loc",t]]):new List$2}()]))},s=e.serializeExpression=function(e){return t("NewExpression"===e.Case?ofArray([ofArray([["type","NewExpression"]]),ofArray([["callee",s(e.Fields[0])]]),ofArray([["arguments",_Array$from(map$4(function(e){return s(e)},e.Fields[1]))]]),function(){var t=e.Fields[2];return null!=t?ofArray([["loc",t]]):new List$2}()]):"FunctionExpression"===e.Case?ofArray([ofArray([["type","FunctionExpression"]]),function(){var t=e.Fields[0];return null!=t?ofArray([["id",t]]):new List$2}(),ofArray([["params",_Array$from(map$4(function(e){return r(e)},e.Fields[1]))]]),ofArray([["body",a(e.Fields[2])]]),ofArray([["generator",e.Fields[3]]]),ofArray([["async",e.Fields[4]]]),function(){var t=e.Fields[5];return null!=t?ofArray([["loc",t]]):new List$2}()]):"AssignmentExpression"===e.Case?ofArray([ofArray([["type","AssignmentExpression"]]),ofArray([["left",s(e.Fields[1])]]),ofArray([["right",s(e.Fields[2])]]),ofArray([["operator",i(e.Fields[0])]]),function(){var t=e.Fields[3];return null!=t?ofArray([["loc",t]]):new List$2}()]):"CallExpression"===e.Case?ofArray([ofArray([["type","CallExpression"]]),ofArray([["callee",s(e.Fields[0])]]),ofArray([["arguments",_Array$from(map$4(function(e){return s(e)},e.Fields[1]))]]),function(){var t=e.Fields[2];return null!=t?ofArray([["loc",t]]):new List$2}()]):"MemberExpression"===e.Case?ofArray([ofArray([["type","MemberExpression"]]),ofArray([["object",s(e.Fields[0])]]),ofArray([["property",s(e.Fields[1])]]),ofArray([["computed",e.Fields[2]]]),function(){var t=e.Fields[3];return null!=t?ofArray([["loc",t]]):new List$2}()]):"BinaryExpression"===e.Case?ofArray([ofArray([["type","BinaryExpression"]]),ofArray([["left",s(e.Fields[1])]]),ofArray([["right",s(e.Fields[2])]]),ofArray([["operator",n(e.Fields[0])]]),function(){var t=e.Fields[3];return null!=t?ofArray([["loc",t]]):new List$2}()]):"ArrayExpression"===e.Case?ofArray([ofArray([["type","ArrayExpression"]]),ofArray([["elements",_Array$from(map$4(function(e){return s(e)},e.Fields[0]))]]),function(){var t=e.Fields[1];return null!=t?ofArray([["loc",t]]):new List$2}()]):"NullLiteral"===e.Case?ofArray([ofArray([["type","NullLiteral"]]),function(){var t=e.Fields[0];return null!=t?ofArray([["loc",t]]):new List$2}()]):"StringLiteral"===e.Case?ofArray([ofArray([["type","StringLiteral"]]),ofArray([["value",e.Fields[0]]]),function(){
var t=e.Fields[1];return null!=t?ofArray([["loc",t]]):new List$2}()]):"BooleanLiteral"===e.Case?ofArray([ofArray([["type","BooleanLiteral"]]),ofArray([["value",e.Fields[0]]]),function(){var t=e.Fields[1];return null!=t?ofArray([["loc",t]]):new List$2}()]):"NumericLiteral"===e.Case?ofArray([ofArray([["type","NumericLiteral"]]),ofArray([["value",e.Fields[0]]]),function(){var t=e.Fields[1];return null!=t?ofArray([["loc",t]]):new List$2}()]):ofArray([ofArray([["type","Identifier"]]),ofArray([["name",e.Fields[0]]]),function(){var t=e.Fields[1];return null!=t?ofArray([["loc",t]]):new List$2}()]))},a=e.serializeStatement=function(e){if("BlockStatement"===e.Case)return t(ofArray([ofArray([["type","BlockStatement"]]),function(){var t=e.Fields[1];return null!=t?ofArray([["loc",t]]):new List$2}(),ofArray([["body",_Array$from(map$4(function(e){return a(e)},e.Fields[0]))]])]));if("EmptyStatement"===e.Case)return t(ofArray([ofArray([["type","EmptyStatement"]]),function(){var t=e.Fields[0];return null!=t?ofArray([["loc",t]]):new List$2}()]));if("ReturnStatement"===e.Case)return t(ofArray([ofArray([["type","ReturnStatement"]]),function(){var t=e.Fields[1];return null!=t?ofArray([["loc",t]]):new List$2}(),ofArray([["argument",s(e.Fields[0])]])]));if("VariableDeclaration"===e.Case){var n="Let"===e.Fields[0].Case?"let":"Const"===e.Fields[0].Case?"const":"var";return t(ofArray([ofArray([["type","VariableDeclaration"]]),ofArray([["kind",n]]),ofArray([["declarations",_Array$from(map$4(function(e){return o(e)},e.Fields[1]))]]),function(){var t=e.Fields[2];return null!=t?ofArray([["loc",t]]):new List$2}()]))}return t(ofArray([ofArray([["type","ExpressionStatement"]]),function(){var t=e.Fields[1];return null!=t?ofArray([["loc",t]]):new List$2}(),ofArray([["expression",s(e.Fields[0])]])]))};e.serializeProgram=function(e){return t(ofArray([ofArray([["type","Program"]]),function(){var t=e.location;return null!=t?ofArray([["loc",t]]):new List$2}(),ofArray([["sourceType","module"]]),ofArray([["body",_Array$from(map$4(function(e){return a(e)},e.body))]]),ofArray([["directives",[]]])]))};return e}({}),_Range=function(){function e(t,n){_classCallCheck(this,e),this.Start=t,this.End=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Range",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{Start:"number",End:"number"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.Range",_Range);var _Error=function(){function e(t,n,i){_classCallCheck(this,e),this.Number=t,this.Message=n,this.Range=i}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Error",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{Number:"number",Message:"string",Range:GenericParam("Range")}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.Error",_Error);var Operator=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Operator",interfaces:["FSharpUnion","System.IEquatable","System.IComparable"],cases:{Divide:[],Equals:[],GreaterThan:[],GreaterThanOrEqual:[],LessThan:[],LessThanOrEqual:[],Minus:[],Multiply:[],Plus:[],Power:[]}}}},{key:"Equals",value:function(e){return equalsUnions(this,e)}},{key:"CompareTo",value:function(e){return compareUnions(this,e)}}]),e}();setType("TheGamma.Operator",Operator);var TokenKind=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.TokenKind",interfaces:["FSharpUnion","System.IEquatable","System.IComparable"],cases:{Arrow:[],Boolean:["boolean"],By:[],Comma:[],Dot:[],EndOfFile:[],Equals:[],Error:["string"],Fun:[],Ident:["string"],LParen:[],LSquare:[],Let:[],Newline:[],Number:["string","number"],Operator:[Operator],QIdent:["string"],RParen:[],RSquare:[],String:["string"],To:[],White:["string"]}}}},{key:"Equals",value:function(e){return equalsUnions(this,e)}},{key:"CompareTo",value:function(e){return compareUnions(this,e)}}]),e}();setType("TheGamma.TokenKind",TokenKind);var Token=function(){function e(t,n){_classCallCheck(this,e),this.Token=t,this.Range=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Token",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{Token:TokenKind,Range:_Range}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.Token",Token);var Emitter=function(){function e(t){_classCallCheck(this,e),this.Emit=t}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Emitter",interfaces:["FSharpRecord"],properties:{Emit:"function"}}}}]),e}();setType("TheGamma.Emitter",Emitter);var Metadata=function(){function e(t,n,i){_classCallCheck(this,e),this.Context=t,this.Type=n,this.Data=i}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Metadata",interfaces:["FSharpRecord","System.IEquatable"],properties:{Context:"string",Type:"string",Data:Any}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}}]),e}();setType("TheGamma.Metadata",Metadata);var Documentation=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Documentation",interfaces:["FSharpUnion","System.IEquatable","System.IComparable"],cases:{Details:["string","string"],None:[],Text:["string"]}}}},{key:"Equals",value:function(e){return equalsUnions(this,e)}},{key:"CompareTo",value:function(e){return compareUnions(this,e)}}]),e}();setType("TheGamma.Documentation",Documentation);var Member=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Member",interfaces:["FSharpUnion"],cases:{Method:["string",makeGeneric(List$2,{T:Tuple(["string","boolean",Type])}),Type,makeGeneric(List$2,{T:Metadata}),Emitter],Property:["string",Type,makeGeneric(List$2,{T:Metadata}),Emitter]}}}},{key:"Name",get:function(){var e="Method"===this.Case?[0,this.Fields[0]]:[0,this.Fields[0]];switch(e[0]){case 0:return e[1]}}}]),e}();setType("TheGamma.Member",Member);var ObjectType=function(){function e(t){_classCallCheck(this,e),this.Members=t}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.ObjectType",interfaces:["FSharpRecord"],properties:{Members:FableArray(Member)}}}}]),e}();setType("TheGamma.ObjectType",ObjectType);var PrimitiveType=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.PrimitiveType",interfaces:["FSharpUnion","System.IEquatable","System.IComparable"],cases:{Bool:[],Number:[],String:[],Unit:[]}}}},{key:"Equals",value:function(e){return equalsUnions(this,e)}},{key:"CompareTo",value:function(e){return compareUnions(this,e)}}]),e}();setType("TheGamma.PrimitiveType",PrimitiveType);var Type=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Type",interfaces:["FSharpUnion"],cases:{Any:[],App:[e,makeGeneric(List$2,{T:e})],Delayed:["string",Interface("TheGamma.Common.Future")],Forall:[makeGeneric(List$2,{T:"string"}),e],Function:[makeGeneric(List$2,{T:e}),e],List:[e],Object:[ObjectType],Parameter:["string"],Primitive:[PrimitiveType]}}}}]),e}();setType("TheGamma.Type",Type);var Name=function(){function e(t){_classCallCheck(this,e),this.Name=t}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Name",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{Name:"string"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.Name",Name);var Constant=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Constant",interfaces:["FSharpUnion","System.IEquatable","System.IComparable"],cases:{Boolean:["boolean"],Empty:[],Number:["number"],String:["string"]}}}},{key:"Equals",value:function(e){return equalsUnions(this,e)}},{key:"CompareTo",value:function(e){return compareUnions(this,e)}}]),e}();setType("TheGamma.Constant",Constant);var EntityKind=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.EntityKind",interfaces:["FSharpUnion"],cases:{ArgumentList:[makeGeneric(List$2,{T:Entity})],Binding:[Name,Entity],CallSite:[Entity,Name,Choice],ChainElement:["boolean",Name,Entity,Option(Entity),Option(Entity)],Constant:[Constant],Function:[Entity,Entity],GlobalValue:[Name,Option(Expression)],LetCommand:[Entity,Entity],List:[makeGeneric(List$2,{T:Entity})],NamedMember:[Name,Entity],NamedParam:[Name,Entity],Operator:[Entity,Operator,Entity],Program:[makeGeneric(List$2,{T:Entity})],Root:[],RunCommand:[Entity],Variable:[Name,Entity]}}}}]),e}();setType("TheGamma.EntityKind",EntityKind);var Entity=function(){function e(t,n,i,r,o,s){_classCallCheck(this,e),this.Kind=t,this.Symbol=n,this.Value=i,this.Meta=r,this.Type=o,this.Errors=s}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Entity",interfaces:["FSharpRecord"],properties:{Kind:EntityKind,Symbol:Interface("TheGamma.Common.Symbol"),Value:Option(EntityValue),Meta:makeGeneric(List$2,{T:Metadata}),Type:Option(Type),Errors:makeGeneric(List$2,{T:makeGeneric(_Error,{Range:_Range})})}}}}]),e}();setType("TheGamma.Entity",Entity);var EntityValue=function(){function e(t,n){_classCallCheck(this,e),this.Value=t,this.Preview=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.EntityValue",interfaces:["FSharpRecord","System.IEquatable"],properties:{Value:Interface("TheGamma.RuntimeValue"),Preview:Any}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}}]),e}();setType("TheGamma.EntityValue",EntityValue);var _Node=function(){function e(t,n,i,r,o){_classCallCheck(this,e),this.WhiteBefore=t,this.WhiteAfter=n,this.Range=i,this.Node=r,this.Entity=o}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Node",interfaces:["FSharpRecord"],properties:{WhiteBefore:makeGeneric(List$2,{T:Token}),WhiteAfter:makeGeneric(List$2,{T:Token}),Range:_Range,Node:GenericParam("T"),Entity:Option(Entity)}}}}]),e}();setType("TheGamma.Node",_Node);var Argument=function(){function e(t,n){_classCallCheck(this,e),this.Name=t,this.Value=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Argument",interfaces:["FSharpRecord"],properties:{Name:Option(makeGeneric(_Node,{T:Name})),Value:makeGeneric(_Node,{T:Expr})}}}}]),e}();setType("TheGamma.Argument",Argument);var Program$$1=function(){function e(t){_classCallCheck(this,e),this.Body=t}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Program",interfaces:["FSharpRecord"],properties:{Body:makeGeneric(_Node,{T:makeGeneric(List$2,{T:makeGeneric(_Node,{T:Command})})})}}}}]),e}();setType("TheGamma.Program",Program$$1);var Command=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Command",interfaces:["FSharpUnion"],cases:{Expr:[makeGeneric(_Node,{T:Expr})],Let:[makeGeneric(_Node,{T:Name}),makeGeneric(_Node,{T:Expr})]}}}}]),e}();setType("TheGamma.Command",Command);var Expr=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Expr",interfaces:["FSharpUnion"],cases:{Binary:[makeGeneric(_Node,{T:e}),makeGeneric(_Node,{T:Operator}),makeGeneric(_Node,{T:e})],Boolean:["boolean"],Call:[Option(makeGeneric(_Node,{T:e})),makeGeneric(_Node,{T:Name}),makeGeneric(_Node,{T:makeGeneric(List$2,{T:Argument})})],Empty:[],Function:[makeGeneric(_Node,{T:Name}),makeGeneric(_Node,{T:e})],List:[makeGeneric(List$2,{T:makeGeneric(_Node,{T:e})})],Number:["number"],Property:[makeGeneric(_Node,{T:e}),makeGeneric(_Node,{T:Name})],String:["string"],Variable:[makeGeneric(_Node,{T:Name})]}}}}]),e}();setType("TheGamma.Expr",Expr);var ProvidedType=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.TypeProviders.ProvidedType",interfaces:["FSharpUnion"],cases:{GlobalValue:["string",makeGeneric(List$2,{T:Metadata}),Expression,Type],NamedType:["string",makeGeneric(List$2,{T:"string"}),Type]}}}}]),e}();setType("TheGamma.TypeProviders.ProvidedType",ProvidedType);var ProviderHelpers=function(e){e.docMeta=function(e){return new Metadata("http://thegamma.net","Documentation",e)};return e}({}),FSharpProvider=function(e){var t=e.AnyType=function(){function e(t){_classCallCheck(this,e),this.kind=t}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.TypeProviders.FSharpProvider.AnyType",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{kind:"string"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.TypeProviders.FSharpProvider.AnyType",t);var n=e.GenericParameterType=function(){function e(t,n){_classCallCheck(this,e),this.kind=t,this.name=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.TypeProviders.FSharpProvider.GenericParameterType",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{kind:"string",name:"string"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.TypeProviders.FSharpProvider.GenericParameterType",n);var i=e.ArrayType=function(){function e(t,n){_classCallCheck(this,e),this.kind=t,this.element=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.TypeProviders.FSharpProvider.ArrayType",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{kind:"string",element:t}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.TypeProviders.FSharpProvider.ArrayType",i);var r=e.PrimitiveType=function(){function e(t,n){_classCallCheck(this,e),this.kind=t,this.name=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.TypeProviders.FSharpProvider.PrimitiveType",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{kind:"string",name:"string"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.TypeProviders.FSharpProvider.PrimitiveType",r);var o=e.FunctionType=function(){function e(t,n,i){_classCallCheck(this,e),this.kind=t,this.arguments=n,this.returns=i}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.TypeProviders.FSharpProvider.FunctionType",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{kind:"string",arguments:FableArray(t),returns:t}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.TypeProviders.FSharpProvider.FunctionType",o);var s=e.NamedType=function(){function e(t,n,i){_classCallCheck(this,e),this.kind=t,this.name=n,this.typargs=i}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.TypeProviders.FSharpProvider.NamedType",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{kind:"string",name:"string",typargs:FableArray(t)}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.TypeProviders.FSharpProvider.NamedType",s);var a=e.Member=function(){function e(t){_classCallCheck(this,e),this.kind=t}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.TypeProviders.FSharpProvider.Member",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{kind:"string"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.TypeProviders.FSharpProvider.Member",a);var l=e.Argument=function(){function e(t,n,i){_classCallCheck(this,e),this.name=t,this.optional=n,this.type=i}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.TypeProviders.FSharpProvider.Argument",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{name:"string",optional:"boolean",type:t}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.TypeProviders.FSharpProvider.Argument",l);var u=e.MethodMember=function(){function e(t,n,i,r,o){_classCallCheck(this,e),this.kind=t,this.name=n,this.typepars=i,this.arguments=r,this.returns=o}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.TypeProviders.FSharpProvider.MethodMember",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{kind:"string",name:"string",typepars:FableArray(t),arguments:FableArray(l),returns:t}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.TypeProviders.FSharpProvider.MethodMember",u);var c=e.PropertyMember=function(){function e(t,n,i){_classCallCheck(this,e),this.kind=t,this.name=n,this.returns=i}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.TypeProviders.FSharpProvider.PropertyMember",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{kind:"string",name:"string",returns:t}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.TypeProviders.FSharpProvider.PropertyMember",c);var p=e.ExportedType=function(){function e(t,n,i,r,o){_classCallCheck(this,e),this.name=t,this.typepars=n,this.static=i,this.instance=r,this.members=o}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.TypeProviders.FSharpProvider.ExportedType",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{name:"string",typepars:FableArray(t),static:"boolean",instance:FableArray("string"),members:FableArray(a)}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.TypeProviders.FSharpProvider.ExportedType",p);e.provideFSharpTypes=function(e,t){var n=function t(n){switch(n.kind){case"primitive":var i=n.name;switch(i){case"object":return new Type("Any",[]);case"int":case"float":return new Type("Primitive",[new PrimitiveType("Number",[])]);case"string":return new Type("Primitive",[new PrimitiveType("String",[])]);case"bool":return new Type("Primitive",[new PrimitiveType("Bool",[])]);case"unit":return new Type("Primitive",[new PrimitiveType("Unit",[])]);default:throw new Error("provideFSharpType: Unsupported type: "+i)}case"function":var r=n;return new Type("Function",[toList(r.arguments.map(t)),t(r.returns)]);case"named":var o=n;return e(o.name)(ofArray(o.typargs.map(t)));case"parameter":return new Type("Parameter",[n.name]);case"array":return new Type("List",[t(n.element)]);default:throw new Error("provideFSharpType: Unexpected type")}},i=function(e){return ofArray(e.map(function(e){var t=n(e);if("Parameter"===t.Case)return t.Fields[0];throw new Error("importProvidedType: expected type parameter")}))},r=function(e){return function(e){return function(t){return Async_CreateNamedFuture_Static(e,t)}}(e.name)(function(t){return t.Delay(function(){var r=_Array$from(choose$1(function(e){if("method"!==e.kind)return null;var t=function(){var t=e,r=toList(delay(function(){return map$5(function(e){return[e.name,e.optional,n(e.type)]},t.arguments)})),o=new Emitter(function(e){return new Expression("CallExpression",[new Expression("MemberExpression",[e[0],new Expression("IdentifierExpression",[t.name,null]),!1,null]),e[1],null])}),s=void 0,a=i(t.typepars);return s=null==a.tail?n(t.returns):new Type("Forall",[a,n(t.returns)]),{v:new Member("Method",[t.name,r,s,ofArray([ProviderHelpers.docMeta(new Documentation("Text",[""]))]),o])}}();return"object"===("undefined"==typeof t?"undefined":_typeof(t))?t.v:void 0},e.members)),o=i(e.typepars);if(null==o.tail)return t.Return(new Type("Object",[new ObjectType(r)]));var s=new Type("Object",[new ObjectType(r)]);return t.Return(new Type("Forall",[o,s]))})}(singleton$2))};return function(e){return e.Delay(function(){return e.Bind(Http.Request("GET",t),function(n){var o=JSON.parse(n);return e.Return(toList(delay(function(){return map$5(function(e){var n=t+","+e.name,o=new Type("Delayed",[n,r(e)]);if(!e.static)return new ProvidedType("NamedType",[e.name,i(e.typepars),o]);var s=function(){var t=fold$1(function(e,t){return null!=e?new Expression("MemberExpression",[e,new Expression("IdentifierExpression",[t,null]),!1,null]):new Expression("IdentifierExpression",[t,null])},null,e.instance),n=void 0,r=i(e.typepars);return n=null==r.tail?o:new Type("App",[o,toList(delay(function(){return map$5(function(e){return new Type("Any",[])},r)}))]),{v:new ProvidedType("GlobalValue",[e.name,new List$2,t,n])}}();return"object"===("undefined"==typeof s?"undefined":_typeof(s))?s.v:void 0},o)})))})})}(singleton$2)};return e}({}),RestProvider=function(e){var t=e.AnyType=function(){function e(t){_classCallCheck(this,e),this.kind=t}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.TypeProviders.RestProvider.AnyType",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{kind:"string"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.TypeProviders.RestProvider.AnyType",t);var n=e.TypeNested=function(){function e(t,n){_classCallCheck(this,e),this.kind=t,this.endpoint=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.TypeProviders.RestProvider.TypeNested",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{kind:"string",endpoint:"string"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.TypeProviders.RestProvider.TypeNested",n);var i=e.TypePrimitive=function(){function e(t,n,i){_classCallCheck(this,e),this.kind=t,this.type=n,this.endpoint=i}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.TypeProviders.RestProvider.TypePrimitive",interfaces:["FSharpRecord","System.IEquatable"],properties:{kind:"string",type:Any,endpoint:"string"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}}]),e}();setType("TheGamma.TypeProviders.RestProvider.TypePrimitive",i);var r=e.Parameter=function(){function e(t,n){_classCallCheck(this,e),this.name=t,this.type=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.TypeProviders.RestProvider.Parameter",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{name:"string",type:"string"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.TypeProviders.RestProvider.Parameter",r);var o=e.Documentation=function(){function e(t,n){_classCallCheck(this,e),this.title=t,this.details=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.TypeProviders.RestProvider.Documentation",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{title:Option("string"),details:Option("string")}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.TypeProviders.RestProvider.Documentation",o);var s=e.Member=function(){function e(t,n,i,r,o,s){_classCallCheck(this,e),this.name=t,this.returns=n,this.parameters=i,this.documentation=r,this.schema=o,this.trace=s}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.TypeProviders.RestProvider.Member",interfaces:["FSharpRecord","System.IEquatable"],properties:{name:"string",returns:t,parameters:Option(FableArray(r)),documentation:Option(Any),schema:Option(Any),trace:FableArray("string")}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}}]),e}();setType("TheGamma.TypeProviders.RestProvider.Member",s);var a=e.ResultType=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.TypeProviders.RestProvider.ResultType",interfaces:["FSharpUnion","System.IEquatable","System.IComparable"],cases:{Generic:["string",FableArray(e)],Primitive:["string"],Record:[FableArray(Tuple(["string",e]))]}}}},{key:"Equals",value:function(e){return equalsUnions(this,e)}},{key:"CompareTo",value:function(e){return compareUnions(this,e)}}]),e}();setType("TheGamma.TypeProviders.RestProvider.ResultType",a);var l=e.RawField=function(){function e(t,n){_classCallCheck(this,e),this.name=t,this.type=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.TypeProviders.RestProvider.RawField",interfaces:["FSharpRecord","System.IEquatable"],properties:{name:"string",type:Any}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}}]),e}();setType("TheGamma.TypeProviders.RestProvider.RawField",l);var u=e.RawResultType=function(){function e(t,n,i){_classCallCheck(this,e),this.name=t,this.fields=n,this.params=i}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.TypeProviders.RestProvider.RawResultType",interfaces:["FSharpRecord","System.IEquatable"],properties:{name:"string",fields:FableArray(l),params:FableArray(Any)}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}}]),e}();setType("TheGamma.TypeProviders.RestProvider.RawResultType",u);var c=e.parseDoc=function(e){if(function(){return null==e}(null))return new Documentation("None",[]);if("string"==typeof e)return new Documentation("Text",[e]);var t=e,n=[t.title,t.details],i=null!=n[0]&&null!=n[1]?[0,n[1],n[0]]:[1];switch(i[0]){case 0:return new Documentation("Details",[i[2],i[1]]);case 1:return new Documentation("None",[])}},p=e.fromRawType=function(e){if("string"==typeof e)return new a("Primitive",[e]);var t=e;return"record"===t.name?new a("Record",[t.fields.map(function(e){return[e.name,p(e.type)]})]):new a("Generic",[t.name,_Array$from(map$5(function(e){return p(e)},t.params))])},h=e.load=function(e,t){return function(n){return n.Delay(function(){return n.Bind(Http.Request("GET",e,null,t),function(e){var t=JSON.parse(e);return n.Return(t)})})}(singleton$2)},d=e.trimLeft=function(e,t){return _Array$from(skipWhile(function(t){return e===t},t.split(""))).join("")},f=e.trimRight=function(e,t){return _Array$from(skipWhile(function(t){return e===t},t.split("").slice().reverse())).slice().reverse().join("")},m=e.concatUrl=function(e,t){return f("/",e)+"/"+d("/",t)},y=e.addTraceCall=function(e,t){if(isEmpty$1(t))return e;var n=new Expression("StringLiteral",[join("&",t),null]),i=new Expression("MemberExpression",[e,new Expression("IdentifierExpression",["addTrace",null]),!1,null]);return new Expression("CallExpression",[i,ofArray([n]),null])},g=e.propAccess=function(e){return new Emitter(function(t){return y(t[0],e)})},v=e.methCall=function(e,t){return new Emitter(function(n){var i=y(n[0],t);return function(){var e=function(e){return function(t){var n=new Expression("BinaryExpression",[new BinaryOperator("BinaryPlus",[]),new Expression("StringLiteral",[t[0]+"=",null]),t[1],null]),i=new Expression("MemberExpression",[e,new Expression("IdentifierExpression",["addTrace",null]),!1,null]);return new Expression("CallExpression",[i,ofArray([n]),null])}};return function(t){return fold$1(function(t,n){return e(t)(n)},i,t)}}()(zip(e,n[1]))})},C=e.dataCall=function(e,t,n){return new Emitter(function(i){var r=g(t).Emit([i[0],i[1]]),o=new Expression("MemberExpression",[r,new Expression("IdentifierExpression",["getValue",null]),!1,null]);return e(new Expression("CallExpression",[o,ofArray([new Expression("StringLiteral",[n,null])]),null]))})},w=e.ident=function(e){return new Expression("IdentifierExpression",[e,null])},T=e.str=function(e){return new Expression("StringLiteral",[e,null])},S=e.op_Dynamic=function(e,t){return new Expression("MemberExpression",[e,new Expression("IdentifierExpression",[t,null]),!1,null])},b=e.op_DivideAtDivide=function(e,t){return new Expression("CallExpression",[e,t,null])},$=e.func=function(e,t){var n=new Statement("BlockStatement",[ofArray([new Statement("ReturnStatement",[t(w(e)),null])]),null]);return new Expression("FunctionExpression",[null,ofArray([new Pattern("IdentifierPattern",[e,null])]),n,!1,!1,null])},E=e.getTypeAndEmitter=function(e,t){var n="Generic"===t.Case?"seq"===t.Fields[0]&&1===t.Fields[1].length?"Generic"===t.Fields[1][0].Case&&"tuple"===t.Fields[1][0].Fields[0]&&function(){var e=t.Fields[1][0].Fields[1];return 2===e.length}()?[2,t.Fields[1][0].Fields[1][0],t.Fields[1][0].Fields[1][1]]:[3,t.Fields[1][0]]:[5]:"Record"===t.Case?[4,t.Fields[0]]:"string"===t.Fields[0]?[0]:"int"===t.Fields[0]?[1]:"float"===t.Fields[0]?[1]:[5],i=function(){switch(n[0]){case 0:return{v:[new Type("Primitive",[new PrimitiveType("String",[])]),function(e){return e}]};case 1:return{v:[new Type("Primitive",[new PrimitiveType("Number",[])]),function(e){return new Expression("CallExpression",[new Expression("IdentifierExpression",["Number",null]),ofArray([e]),null])}]};case 2:var i=E(e,n[1]),r=E(e,n[2]),o=e("series")(ofArray([i[0],r[0]]));return{v:[o,function(e){return b(S(w("series"),"create"),ofArray([b(w("convertTupleSequence"),ofArray([$("v",i[1]),$("v",r[1]),e])),T("key"),T("value"),T("")]))}]};case 3:var s=E(e,n[1]),a=e("series")(ofArray([new Type("Primitive",[new PrimitiveType("Number",[])]),s[0]]));return{v:[a,function(e){return b(S(w("series"),"ordinal"),ofArray([b(w("convertSequence"),ofArray([$("v",s[1]),e])),T("key"),T("value"),T("")]))}]};case 4:var l=n[1].map(function(t){var n=E(e,t[1]),i=new Emitter(function(e){return n[1](S(e[0],t[0]))});return new Member("Property",[t[0],n[0],ofArray([ProviderHelpers.docMeta(new Documentation("Text",[""]))]),i])}),u=new Type("Object",[new ObjectType(l)]);return{v:[u,function(e){return e}]};case 5:throw console.log("getTypeAndEmitter: Cannot handle %O",t),new Error("getTypeAndEmitter: Cannot handle type")}}();if("object"===("undefined"==typeof i?"undefined":_typeof(i)))return i.v},_=e.mapParamType=function(e){switch(e){case"int":case"float":return new PrimitiveType("Number",[]);
default:throw new Error("mapParamType: Unsupported parameter type")}},k=e.restTypeCache=new _Map,A=e.createRestType=function(e,t,n,i){var r=m(t,i)+n,o=tryGetValue(k,r,null);if(o[0])return o[1];var s=function(r){return r.Delay(function(){return r.Bind(h(m(t,i),n),function(i){return r.Return(new Type("Object",[new ObjectType(i.map(function(i){var r=null!=i.schema?ofArray([function(){var e=i.schema["@type"];return new Metadata("http://schema.org",e,i.schema)}()]):new List$2,o=i.returns.kind;switch(o){case"nested":var s=i.returns,a=A(e,t,n,s.endpoint);if(null==i.parameters)return new Member("Property",[i.name,a,new List$2(ProviderHelpers.docMeta(c(i.documentation)),r),g(i.trace)]);var l=toList(delay(function(){return map$5(function(e){return[e.name,!1,new Type("Primitive",[_(e.type)])]},i.parameters)})),u=toList(delay(function(){return map$5(function(e){return e.name},i.parameters)}));return new Member("Method",[i.name,l,a,ofArray([ProviderHelpers.docMeta(c(i.documentation))]),v(u,i.trace)]);case"primitive":var h=i.returns,d=p(h.type),f=E(e,d);return new Member("Property",[i.name,f[0],new List$2(ProviderHelpers.docMeta(c(i.documentation)),r),C(f[1],i.trace,h.endpoint)]);default:throw new Error("?")}}))]))})})}(singleton$2),a=new Type("Delayed",[r,function(e){return function(t){return Async_CreateNamedFuture_Static(e,t)}}(r)(s)]);return k.set(r,a),a};e.provideRestType=function(e,t,n,i){var r=w("RuntimeContext");return new ProvidedType("GlobalValue",[t,new List$2,new Expression("NewExpression",[r,ofArray([T(n),T(i),T("")]),null]),A(e,n,i,"/")])};return e}({}),SeriesInternals=function(e){var t=(e.slice=function(e,t,n){return _Array$from(initialize$1(t-e+1,function(t){return n[e+t]}))},e.dictAny=function(e){return new _Map(e)}),n=e.zipUnsorted=function(e,n){var i=t(e),r=t(n),o=[],s=!0,a=!1,l=void 0;try{for(var u,c=_getIterator(i);!(s=(u=c.next()).done);s=!0){var p=u.value,h=r.has(p[0])?r.get(p[0]):null;o.push([p[0],[p[1],h]])}}catch(e){a=!0,l=e}finally{try{!s&&c.return&&c.return()}finally{if(a)throw l}}var d=!0,f=!1,m=void 0;try{for(var y,g=_getIterator(r);!(d=(y=g.next()).done);d=!0){var v=y.value;i.has(v[0])||o.push([v[0],[null,v[1]]])}}catch(e){f=!0,m=e}finally{try{!d&&g.return&&g.return()}finally{if(f)throw m}}return _Array$from(o)},i=e.isSortedUsing=function(e,t,n){var i=function(i){for(;;){if(i===n.length)return!0;{if(!e(t(n[i-1]))(t(n[i])))return!1;i+=1}}};return 0===n.length||i(1)},r=e.zipSorted=function(e,t){for(var n=0,i=0,r=[];n<e.length&&i<t.length;){var o=[e[n],t[i]],s=o[1][1],a=o[0][1],l=o[1][0],u=o[0][0];!function(e){return function(t){return 0===(e<t?-1:e==t?0:1)}}(u)(l)?function(e){return function(t){return(e<t?-1:e==t?0:1)<0}}(u)(l)?(r.push([u,[a,null]]),n+=1):function(e){return function(t){return(e<t?-1:e==t?0:1)<0}}(l)(u)&&(r.push([l,[null,s]]),i+=1):(r.push([u,[a,s]]),n+=1,i+=1)}for(;n<e.length;){var c=e[n];r.push([c[0],[c[1],null]]),n+=1}for(;i<t.length;){var p=t[i];r.push([p[0],[null,p[1]]]),i+=2}return _Array$from(r)};e.zipAny=function(e,t){var o=function(e){return function(t){return(e<t?-1:e==t?0:1)<=0}},s=function(e){return function(t){return(e<t?-1:e==t?0:1)>=0}};return!!i(o,function(e){return e[0]},e)&&i(o,function(e){return e[0]},t)?r(e,t):!!i(s,function(e){return e[0]},e)&&i(s,function(e){return e[0]},t)?r(e.slice().reverse(),t.slice().reverse()).slice().reverse():n(e,t)};return e}({}),helpers=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Series.helpers",properties:{}}}}]),e}();setType("TheGamma.Series.helpers",helpers);var series=function(){function e(t,n,i,r){_classCallCheck(this,e),this.data=t,this.keyName=n,this.valueName=i,this.seriesName=r}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Series.series",interfaces:["FSharpRecord","System.IEquatable"],properties:{data:Interface("TheGamma.Common.Future"),keyName:"string",valueName:"string",seriesName:"string"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"set",value:function(t,n,i,r){return new e(t,null!=n?n:this.keyName,null!=i?i:this.valueName,null!=r?r:this.seriesName)}},{key:"setProperties",value:function(t,n,i){var r=null!=t?t:this.keyName,o=null!=n?n:this.valueName,s=null!=i?i:this.seriesName;return new e(this.data,r,o,s)}},{key:"sortKeys",value:function(t){return function(t){return function(n){var i=n,r=Async_StartAsFuture_Static(function(e){return e.Delay(function(){return e.Bind(Async_AwaitFuture_Static(i.data),function(n){return e.Return(t(n))})})}(singleton$2));return new e(r,i.keyName,i.valueName,i.seriesName)}}(function(e){return(equals(t,!0)?function(e){return e.slice().reverse()}:function(e){return e})(_Array$from(sortWith(function(e,t){return e[0]<t[0]?-1:e[0]==t[0]?0:1},e)))})(this)}},{key:"sortValues",value:function(t){return function(t){return function(n){var i=n,r=Async_StartAsFuture_Static(function(e){return e.Delay(function(){return e.Bind(Async_AwaitFuture_Static(i.data),function(n){return e.Return(t(n))})})}(singleton$2));return new e(r,i.keyName,i.valueName,i.seriesName)}}(function(e){return(equals(t,!0)?function(e){return e.slice().reverse()}:function(e){return e})(_Array$from(sortWith(function(e,t){return e[1]<t[1]?-1:e[1]==t[1]?0:1},e)))})(this)}},{key:"sortBy",value:function(t,n){return function(t){return function(n){var i=n,r=Async_StartAsFuture_Static(function(e){return e.Delay(function(){return e.Bind(Async_AwaitFuture_Static(i.data),function(n){return e.Return(t(n))})})}(singleton$2));return new e(r,i.keyName,i.valueName,i.seriesName)}}(function(e){return(equals(n,!0)?function(e){return e.slice().reverse()}:function(e){return e})(_Array$from(sortWith(function(e,n){return t(e[1])<t(n[1])?-1:t(e[1])==t(n[1])?0:1},e)))})(this)}},{key:"reverse",value:function(){return function(t){return function(n){var i=n,r=Async_StartAsFuture_Static(function(e){return e.Delay(function(){return e.Bind(Async_AwaitFuture_Static(i.data),function(n){return e.Return(t(n))})})}(singleton$2));return new e(r,i.keyName,i.valueName,i.seriesName)}}(function(e){return e.slice().reverse()})(this)}},{key:"take",value:function(t){return function(t){return function(n){var i=n,r=Async_StartAsFuture_Static(function(e){return e.Delay(function(){return e.Bind(Async_AwaitFuture_Static(i.data),function(n){return e.Return(t(n))})})}(singleton$2));return new e(r,i.keyName,i.valueName,i.seriesName)}}(function(e){return SeriesInternals.slice(0,(e.length<t?e.length:t)-1,e)})(this)}},{key:"skip",value:function(t){return function(t){return function(n){var i=n,r=Async_StartAsFuture_Static(function(e){return e.Delay(function(){return e.Bind(Async_AwaitFuture_Static(i.data),function(n){return e.Return(t(n))})})}(singleton$2));return new e(r,i.keyName,i.valueName,i.seriesName)}}(function(e){return SeriesInternals.slice(e.length<t?e.length:t,e.length-1,e)})(this)}},{key:"shuffle",value:function(){return function(t){return function(n){var i=n,r=Async_StartAsFuture_Static(function(e){return e.Delay(function(){return e.Bind(Async_AwaitFuture_Static(i.data),function(n){return e.Return(t(n))})})}(singleton$2));return new e(r,i.keyName,i.valueName,i.seriesName)}}(function(e){return _Array$from(sortWith(function(e,t){return compare(function(e){return randomNext(0,2147483647)}(e),function(e){return randomNext(0,2147483647)}(t))},e))})(this)}},{key:"map",value:function(t){return function(t){return function(n){var i=n,r=Async_StartAsFuture_Static(function(e){return e.Delay(function(){return e.Bind(Async_AwaitFuture_Static(i.data),function(n){return e.Return(t(n))})})}(singleton$2));return new e(r,i.keyName,i.valueName,i.seriesName)}}(function(){var e=function(e){return[e[0],t(e[1])]};return function(t){return t.map(e)}}())(this)}},{key:"mapKeys",value:function(t){return function(t){return function(n){var i=n,r=Async_StartAsFuture_Static(function(e){return e.Delay(function(){return e.Bind(Async_AwaitFuture_Static(i.data),function(n){return e.Return(t(n))})})}(singleton$2));return new e(r,i.keyName,i.valueName,i.seriesName)}}(function(){var e=function(e){return[t(e[0]),e[1]]};return function(t){return t.map(e)}}())(this)}},{key:"mapPairs",value:function(t){return function(t){return function(n){var i=n,r=Async_StartAsFuture_Static(function(e){return e.Delay(function(){return e.Bind(Async_AwaitFuture_Static(i.data),function(n){return e.Return(t(n))})})}(singleton$2));return new e(r,i.keyName,i.valueName,i.seriesName)}}(function(){var e=function(e){return[e[0],t(e[0])(e[1])]};return function(t){return t.map(e)}}())(this)}},{key:"filter",value:function(t){return function(t){return function(n){var i=n,r=Async_StartAsFuture_Static(function(e){return e.Delay(function(){return e.Bind(Async_AwaitFuture_Static(i.data),function(n){return e.Return(t(n))})})}(singleton$2));return new e(r,i.keyName,i.valueName,i.seriesName)}}(function(){var e=function(e){return t(function(e){return e[1]}(e))};return function(t){return t.filter(e)}}())(this)}},{key:"choose",value:function(t){return function(t){return function(n){var i=n,r=Async_StartAsFuture_Static(function(e){return e.Delay(function(){return e.Bind(Async_AwaitFuture_Static(i.data),function(n){return e.Return(t(n))})})}(singleton$2));return new e(r,i.keyName,i.valueName,i.seriesName)}}(function(){var e=function(e){var n=t(e[1]);return null!=n?[e[0],n]:null};return function(t){return _Array$from(choose$1(e,t))}}())(this)}},{key:"joinOuter",value:function(t){var n=this,i=function(e){return e.Delay(function(){return e.Bind(Async_AwaitFuture_Static(n.data),function(n){return e.Bind(Async_AwaitFuture_Static(t.data),function(t){return e.Return(SeriesInternals.zipAny(n,t))})})})}(singleton$2);return e.create(i,this.keyName,"Values",this.seriesName+" and "+t.seriesName)}},{key:"joinInner",value:function(e){return this.joinOuter(e).choose(function(e){var t=null!=e[0]&&null!=e[1]?[0,e[0],e[1]]:[1];switch(t[0]){case 0:return[t[1],t[2]];case 1:return null}})}},{key:"appendScalar",value:function(t,n){return function(t){return function(n){var i=n,r=Async_StartAsFuture_Static(function(e){return e.Delay(function(){return e.Bind(Async_AwaitFuture_Static(i.data),function(n){return e.Return(t(n))})})}(singleton$2));return new e(r,i.keyName,i.valueName,i.seriesName)}}(function(e){return e.concat([[t,n]])})(this)}},{key:"append",value:function(e){var t=this;return this.set(Async_StartAsFuture_Static(function(n){return n.Delay(function(){return n.Bind(Async_AwaitFuture_Static(t.data),function(t){return n.Bind(Async_AwaitFuture_Static(e.data),function(e){return n.Return(t.concat(e))})})})}(singleton$2)))}},{key:"realign",value:function(t,n){return function(t){return function(n){var i=n,r=Async_StartAsFuture_Static(function(e){return e.Delay(function(){return e.Bind(Async_AwaitFuture_Static(i.data),function(n){return e.ReturnFrom(t(n))})})}(singleton$2));return new e(r,i.keyName,i.valueName,i.seriesName)}}(function(e){return function(i){return i.Delay(function(){return i.Bind(Async_AwaitFuture_Static(t.data),function(t){var r=t.map(function(e){return e[1]}),o=create$3(e,new GenericComparer(compare));return i.Return(r.map(function(e){var t=tryFind$1(e,o);return null==t?[e,n]:[e,t]}))})})}(singleton$2)})(this)}},{key:"preview",value:function(){return this.take(10)}}],[{key:"create",value:function(t,n,i,r){return new e(Async_StartAsFuture_Static(t),n,i,r)}},{key:"values",value:function(t){var n=Async_StartAsFuture_Static(function(e){return e.Delay(function(){return e.Return(_Array$from(mapIndexed$1(function(e,t){return[e,t]},t)))})}(singleton$2));return new e(n,"key","value","")}},{key:"range",value:function(t,n){return e.values(Int32Array.from(range(t,n)))}},{key:"rangeBy",value:function(t,n,i){return e.values(Int32Array.from(rangeStep(t,i,n)))}},{key:"ordinal",value:function(t,n,i,r){var o=Async_StartAsFuture_Static(function(e){return e.Delay(function(){return e.Bind(t,function(t){return e.Return(_Array$from(mapIndexed$1(function(e,t){return[e,t]},t)))})})}(singleton$2));return new e(o,n,i,r)}}]),e}();setType("TheGamma.Series.series",series);var RuntimeContext=function(){function e(t,n,i){_classCallCheck(this,e),this["root@19"]=t,this.cookies=n,this["trace@19"]=i}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.TypeProvidersRuntime.RuntimeContext",properties:{root:"string",trace:"string"}}}}]),_createClass(e,[{key:"addTrace",value:function(t){var n=this,i=toList(delay(function(){return append$1(isNullOrEmpty(n["trace@19"])?empty():singleton$1(n["trace@19"]),delay(function(){return isNullOrEmpty(t)?empty():singleton$1(t)}))}));return new e(this["root@19"],this.cookies,join("&",i))}},{key:"getValue",value:function(e){var t=this;return function(n){return n.Delay(function(){return n.Bind(Http.Request("POST",concatUrl(t["root@19"],e),t["trace@19"],t.cookies),function(e){return n.Return(JSON.parse(e))})})}(singleton$2)}},{key:"root",get:function(){return this["root@19"]}},{key:"trace",get:function(){return this["trace@19"]}}]),e}();setType("TheGamma.TypeProvidersRuntime.RuntimeContext",RuntimeContext);var PivotContext=function(){function e(t,n){_classCallCheck(this,e),this.root=t,this.calls=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.TypeProvidersRuntime.PivotContext",properties:{}}}}]),_createClass(e,[{key:"addCall",value:function(t,n){return new e(this.root,[[t,n]].concat(this.calls))}},{key:"getData",value:function(e,t){var n=this;return function(i){return i.Delay(function(){var r=function(){var t=function(e){return function(t){if(1!==t[1].length)throw new Error("PivotContext.getData: Expected one argument");return replace$$1(e,t[0],toString$2(t[1][0]))}};return function(n){return fold$1(function(e,n){return t(e)(n)},e,n)}}()(n.calls),o=n.root+"?"+r+(t?"&preview":"");return Log.trace("runtime","Pivot: %s",o),i.Bind(Http.Request("GET",o),function(e){return i.Return(JSON.parse(e))})})}(singleton$2)}}]),e}();setType("TheGamma.TypeProvidersRuntime.PivotContext",PivotContext);var ChartData=function(){function e(t){_classCallCheck(this,e),this.data=t}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.ChartData",interfaces:["FSharpRecord"],properties:{data:Async$1}}}}]),e}();setType("TheGamma.GoogleCharts.ChartData",ChartData);var LazyCharting=function(e){var t=e.chartsToDraw=[],n=(Object.defineProperty(e,"googleLoaded",{get:function(){return n},set:function(e){return n=e}}),!1);e.drawChartOnLoad=function(e){n?e(null):t.push(e)};return"undefined"!=typeof google&&google.load("visualization","1",{packages:["corechart"],callback:function(){!function(){n=!0;var e=!0,i=!1,r=void 0;try{for(var o,s=_getIterator(t);!(e=(o=s.next()).done);e=!0){var a=o.value;a(null)}}catch(e){i=!0,r=e}finally{try{!e&&s.return&&s.return()}finally{if(i)throw r}}}()}}),e}({}),Helpers=function(__exports){var copy=__exports.copy=function(e,t){return null==e?void 0:e[t]},orDefault=__exports.orDefault=function(e){return null!=e?e:void 0},right=__exports.right=function(e,t,n){return null!=n?n:null==e?void 0:e[t]},showChart=__exports.showChart=function(chart,outputId){LazyCharting.drawChartOnLoad(function(){!function(e){startImmediate(e)}(function(builder_){return builder_.Delay(function(){return builder_.TryWith(builder_.Delay(function(){return builder_.Bind(chart.data.data,function(_arg1){var ctor=eval("(function(a) { return new google.visualization."+chart.typeName+" (a); })"),ch=ctor(document.getElementById(outputId));return void 0==chart.options.height&&(chart.options.height=400),ch.draw(_arg1,chart.options),builder_.Zero()})}),function(e){return Log.error("google","Error when getting data or rendering chart: %O",e),builder_.Zero()})})}(singleton$2))})};return __exports}({}),ChartDataOperations=function(e){var t=e.collect=function(e,n){return function(i){return i.Delay(function(){return null==n.tail?i.Return(new List$2):i.Bind(e(n.head),function(r){return i.Bind(t(e,n.tail),function(e){return i.Return(append$$1(r,e))})})})}(singleton$2)};e.oneKeyValue=function(e,t){return new ChartData(function(n){return n.Delay(function(){var i=new google.visualization.DataTable;return i.addColumn(e,t.keyName),i.addColumn("number",t.seriesName),n.Bind(Async_AwaitFuture_Static(t.mapPairs(function(e){return function(t){return[e,t]}}).data),function(e){return function(e){i.addRows(e)}(e.map(function(e){return e[1]})),n.Return(i)})})}(singleton$2))},e.oneKeyTwoValues=function(e,t){return new ChartData(function(n){return n.Delay(function(){var i=new google.visualization.DataTable;return i.addColumn(e,t.keyName),i.addColumn("number",t.seriesName),i.addColumn("number",t.seriesName),n.Bind(Async_AwaitFuture_Static(t.mapPairs(function(e){return function(t){return[e,t[0],t[1]]}}).data),function(e){return function(e){i.addRows(e)}(e.map(function(e){return e[1]})),n.Return(i)})})}(singleton$2))},e.oneKeyAppendValues=function(e,n,i){return new ChartData(function(r){return r.Delay(function(){var o=new google.visualization.DataTable;return o.addColumn(e,n[0].keyName),o.addColumn("number",n[0].valueName),o.addColumn({type:"string",role:"style"}),r.Bind(t(function(e){return function(t){return t.Delay(function(){return t.Bind(Async_AwaitFuture_Static(e[0].mapPairs(function(t){return function(n){return[t,n,e[1]]}}).data),function(e){return t.Return(ofArray(e.map(function(e){return e[1]})))})})}(singleton$2)},ofArray(_Array$from(zip(n,i)))),function(e){return function(e){o.addRows(e)}(_Array$from(toList(sortWith(function(e,t){return-compare(function(e){return e[1]}(e),function(e){return e[1]}(t))},e))).map(function(e){return[e[0],e[1],e[2]]})),r.Return(o)})})}(singleton$2))},e.oneKeyNValues=function(e,t){return new ChartData(function(n){return n.Delay(function(){var i=new google.visualization.DataTable;return n.Bind(Async_AwaitFuture_Static(t.data),function(t){var r=t.map(function(e){return e[1]});return i.addColumn(e,r[0].keyName),n.Combine(n.For(range(0,r.length-1),function(e){return i.addColumn("number",r[e].seriesName),n.Zero()}),n.Delay(function(){var e=r[0].map(function(e){return create$3(ofArray([[0,e]]),new GenericComparer(compare))}),t=_Array$from(mapIndexed$1(function(e,t){return[e+1,t]},SeriesInternals.slice(1,r.length-1,r))),o=fold$1(function(e,t){return e.joinOuter(t[1]).map(function(e){var n=[defaultArg(e[0],create$3(null,new GenericComparer(compare))),e[1]];if(null==n[1])return n[0];var i=n[1];return add$1(t[0],i,n[0])})},e,t);return n.Bind(Async_AwaitFuture_Static(o.mapPairs(function(e){return function(t){var n=_Array$from(initialize$1(r.length,function(e){return defaultArg(tryFind$1(e,t),void 0)}));return _Array$from(append$1([e],n))}}).data),function(e){return function(e){i.addRows(e)}(e.map(function(e){return e[1]})),n.Return(i)})}))})})}(singleton$2))},e.twoValues=function(e,t){return new ChartData(function(n){return n.Delay(function(){var i=new google.visualization.DataTable;return i.addColumn("number",e.seriesName),i.addColumn("number",t.seriesName),n.Bind(Async_AwaitFuture_Static(e.joinInner(t).map(function(e){return[e[0],e[1]]}).data),function(e){return function(e){i.addRows(e)}(e.map(function(e){return e[1]})),n.Return(i)})})}(singleton$2))};return e}({}),ChartSizeAxis=function(){function e(t,n,i,r){_classCallCheck(this,e),this.maxSize=t,this.maxValue=n,this.minSize=i,this.minValue=r}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.ChartSizeAxis",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{maxSize:"number",maxValue:"number",minSize:"number",minValue:"number"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.ChartSizeAxis",ChartSizeAxis);var ChartTextStyle=function(){function e(t,n,i,r,o,s,a){_classCallCheck(this,e),this.fontName=t,this.fontSize=n,this.bold=i,this.italic=r,this.color=o,this.auraColor=s,this.opacity=a}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.ChartTextStyle",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{fontName:"string",fontSize:"number",bold:"boolean",italic:"boolean",color:"string",auraColor:"string",opacity:"number"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.ChartTextStyle",ChartTextStyle);var ChartTooltip=function(){function e(t,n,i,r){_classCallCheck(this,e),this.isHtml=t,this.showColorCode=n,this.textStyle=i,this.trigger=r}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.ChartTooltip",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{isHtml:"boolean",showColorCode:"boolean",textStyle:ChartTextStyle,trigger:"string"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.ChartTooltip",ChartTooltip);var ChartLegend=function(){function e(t,n,i,r,o){_classCallCheck(this,e),this.alignment=t,this.maxLines=n,this.position=i,this.textStyle=r,this.numberFormat=o}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.ChartLegend",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{alignment:"string",maxLines:"number",position:"string",textStyle:ChartTextStyle,numberFormat:"string"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.ChartLegend",ChartLegend);var ChartColorAxis=function(){function e(t,n,i,r,o){_classCallCheck(this,e),this.minValue=t,this.maxValue=n,this.values=i,this.colors=r,this.legend=o}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.ChartColorAxis",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{minValue:"number",maxValue:"number",values:FableArray(Float64Array,!0),colors:FableArray("string"),legend:ChartLegend}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.ChartColorAxis",ChartColorAxis);var GeoChartMagnifyingGlass=function(){function e(t,n){_classCallCheck(this,e),this.enable=t,this.zoomFactor=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.GeoChartMagnifyingGlass",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{enable:"boolean",zoomFactor:"number"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.GeoChartMagnifyingGlass",GeoChartMagnifyingGlass);var GeoChartOptions=function(){function e(t,n,i,r,o,s,a,l,u,c,p,h,d,f,m){_classCallCheck(this,e),this.backgroundColor=t,this.colorAxis=n,this.datalessRegionColor=i,this.displayMode=r,this.enableRegionInteractivity=o,this.height=s,this.keepAspectRatio=a,this.legend=l,this.region=u,this.magnifyingGlass=c,this.markerOpacity=p,this.resolution=h,this.sizeAxis=d,this.tooltip=f,this.width=m}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.GeoChartOptions",interfaces:["FSharpRecord","System.IEquatable"],properties:{backgroundColor:Any,colorAxis:ChartColorAxis,datalessRegionColor:"string",displayMode:"string",enableRegionInteractivity:"boolean",height:"number",keepAspectRatio:"boolean",legend:ChartLegend,region:"string",magnifyingGlass:GeoChartMagnifyingGlass,markerOpacity:"number",resolution:"string",sizeAxis:ChartSizeAxis,tooltip:ChartTooltip,width:"number"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.GeoChartOptions",GeoChartOptions);var ChartBoxStyleGradient=function(){function e(t,n,i,r,o,s,a){_classCallCheck(this,e),this.color1=t,this.color2=n,this.x1=i,this.y1=r,this.x2=o,this.y2=s,this.useObjectBoundingBoxUnits=a}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.ChartBoxStyleGradient",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{color1:"string",color2:"string",x1:"string",y1:"string",x2:"string",y2:"string",useObjectBoundingBoxUnits:"boolean"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.ChartBoxStyleGradient",ChartBoxStyleGradient);var ChartBoxStyle=function(){function e(t,n,i,r,o){_classCallCheck(this,e),this.stroke=t,this.strokeWidth=n,this.rx=i,this.ry=r,this.gradient=o}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.ChartBoxStyle",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{stroke:"string",strokeWidth:"number",rx:"number",ry:"number",gradient:ChartBoxStyleGradient}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.ChartBoxStyle",ChartBoxStyle);var ChartAnnotations=function(){function e(t,n){_classCallCheck(this,e),this.boxStyle=t,this.textStyle=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.ChartAnnotations",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{boxStyle:ChartBoxStyle,textStyle:ChartTextStyle}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.ChartAnnotations",ChartAnnotations);var ChartCrosshairFocused=function(){function e(t,n){_classCallCheck(this,e),this.color=t,this.opacity=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.ChartCrosshairFocused",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{color:"string",opacity:"number"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.ChartCrosshairFocused",ChartCrosshairFocused);var ChartCrosshairSelected=function(){function e(t,n){_classCallCheck(this,e),this.color=t,this.opacity=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.ChartCrosshairSelected",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{color:"string",opacity:"number"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.ChartCrosshairSelected",ChartCrosshairSelected);var ChartCrosshair=function(){function e(t,n,i,r,o,s){_classCallCheck(this,e),this.color=t,this.focused=n,this.opacity=i,this.orientation=r,this.selected=o,this.trigger=s}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.ChartCrosshair",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{color:"string",focused:ChartCrosshairFocused,opacity:"number",orientation:"string",selected:ChartCrosshairSelected,trigger:"string"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.ChartCrosshair",ChartCrosshair);var ChartExplorer=function(){function e(t,n,i,r,o,s){_classCallCheck(this,e),this.actions=t,this.axis=n,this.keepInBounds=i,this.maxZoomIn=r,this.maxZoomOut=o,this.zoomDelta=s}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.ChartExplorer",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{actions:FableArray("string"),axis:"string",keepInBounds:"boolean",maxZoomIn:"number",maxZoomOut:"number",zoomDelta:"number"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.ChartExplorer",ChartExplorer);var ChartStroke=function(){function e(t,n,i){_classCallCheck(this,e),this.stroke=t,this.strokeWidth=n,this.fill=i}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.ChartStroke",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{stroke:"string",strokeWidth:"number",fill:"string"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.ChartStroke",ChartStroke);var ChartArea=function(){function e(t,n,i,r){_classCallCheck(this,e),this.top=t,this.left=n,this.width=i,this.height=r}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.ChartArea",interfaces:["FSharpRecord","System.IEquatable"],properties:{top:Any,left:Any,width:Any,height:Any}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.ChartArea",ChartArea);var TransitionAnimation=function(){function e(t,n){_classCallCheck(this,e),this.duration=t,this.easing=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.TransitionAnimation",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{duration:"number",easing:"string"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.TransitionAnimation",TransitionAnimation);var ChartGridlines=function(){function e(t,n){_classCallCheck(this,e),this.color=t,this.count=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.ChartGridlines",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{color:"string",count:"number"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.ChartGridlines",ChartGridlines);var ChartViewWindow=function(){function e(t,n){_classCallCheck(this,e),this.max=t,this.min=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.ChartViewWindow",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{max:"number",min:"number"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.ChartViewWindow",ChartViewWindow);var ChartAxis=function(){function e(t,n,i,r,o,s,a,l,u,c,p,h,d,f,m,y,g,v,C,w,T,S,b){_classCallCheck(this,e),this.baseline=t,this.baselineColor=n,this.direction=i,this.format=r,this.gridlines=o,this.minorGridlines=s,this.logScale=a,this.textPosition=l,this.textStyle=u,this.ticks=c,this.title=p,this.titleTextStyle=h,this.allowContainerBoundaryTextCufoff=d,this.slantedText=f,this.slantedTextAngle=m,this.maxAlternation=y,this.maxTextLines=g,this.minTextSpacing=v,this.showTextEvery=C,this.maxValue=w,this.minValue=T,this.viewWindowMode=S,this.viewWindow=b}return _createClass(e,[{key:_Symbol.reflection,
value:function(){return{type:"TheGamma.GoogleCharts.Options.ChartAxis",interfaces:["FSharpRecord","System.IEquatable"],properties:{baseline:"number",baselineColor:"string",direction:"number",format:"string",gridlines:ChartGridlines,minorGridlines:ChartGridlines,logScale:"boolean",textPosition:"string",textStyle:ChartTextStyle,ticks:FableArray(Any),title:"string",titleTextStyle:ChartTextStyle,allowContainerBoundaryTextCufoff:"boolean",slantedText:"boolean",slantedTextAngle:"number",maxAlternation:"number",maxTextLines:"number",minTextSpacing:"number",showTextEvery:"number",maxValue:"number",minValue:"number",viewWindowMode:"string",viewWindow:ChartViewWindow}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.ChartAxis",ChartAxis);var ChartBoundingBox=function(){function e(t,n,i,r){_classCallCheck(this,e),this.left=t,this.top=n,this.width=i,this.height=r}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.ChartBoundingBox",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{left:"number",top:"number",width:"number",height:"number"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.ChartBoundingBox",ChartBoundingBox);var GroupWidth=function(){function e(t){_classCallCheck(this,e),this.groupWidth=t}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.GroupWidth",interfaces:["FSharpRecord","System.IEquatable"],properties:{groupWidth:Any}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.GroupWidth",GroupWidth);var Trendline=function(){function e(t,n,i,r,o,s,a,l,u){_classCallCheck(this,e),this.color=t,this.lineWidth=n,this.labelInLegend=i,this.opacity=r,this.pointSize=o,this.pointsVisible=s,this.showR2=a,this.type=l,this.visibleInLegend=u}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.Trendline",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{color:"string",lineWidth:"number",labelInLegend:"string",opacity:"number",pointSize:"number",pointsVisible:"boolean",showR2:"boolean",type:"string",visibleInLegend:"number"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.Trendline",Trendline);var ScatterChartOptions=function(){function e(t,n,i,r,o,s,a,l,u,c,p,h,d,f,m,y,g,v,C,w,T,S,b,$,E,_,k,A,x,F){_classCallCheck(this,e),this.aggregationTarget=t,this.animation=n,this.annotations=i,this.axisTitlesPosition=r,this.backgroundColor=o,this.chartArea=s,this.colors=a,this.crosshair=l,this.curveType=u,this.dataOpacity=c,this.enableInteractivity=p,this.explorer=h,this.fontSize=d,this.fontName=f,this.forceIFrame=m,this.hAxis=y,this.height=g,this.legend=v,this.lineWidth=C,this.pointSize=w,this.selectionMode=T,this.series=S,this.theme=b,this.title=$,this.titlePosition=E,this.titleTextStyle=_,this.tooltip=k,this.trendlines=A,this.vAxis=x,this.width=F}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.ScatterChartOptions",interfaces:["FSharpRecord","System.IEquatable"],properties:{aggregationTarget:"string",animation:TransitionAnimation,annotations:ChartAnnotations,axisTitlesPosition:"string",backgroundColor:Any,chartArea:ChartArea,colors:FableArray("string"),crosshair:ChartCrosshair,curveType:"string",dataOpacity:"number",enableInteractivity:"boolean",explorer:ChartExplorer,fontSize:"number",fontName:"string",forceIFrame:"boolean",hAxis:ChartAxis,height:"number",legend:ChartLegend,lineWidth:"number",pointSize:"number",selectionMode:"string",series:Any,theme:"string",title:"string",titlePosition:"string",titleTextStyle:ChartTextStyle,tooltip:ChartTooltip,trendlines:FableArray(Trendline),vAxis:ChartAxis,width:"number"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.ScatterChartOptions",ScatterChartOptions);var ColumnChartOptions=function(){function e(t,n,i,r,o,s,a,l,u,c,p,h,d,f,m,y,g,v,C,w,T,S,b,$,E,_,k){_classCallCheck(this,e),this.aggregationTarget=t,this.animation=n,this.annotations=i,this.axisTitlesPosition=r,this.backgroundColor=o,this.bar=s,this.chartArea=a,this.colors=l,this.enableInteractivity=u,this.focusTarget=c,this.fontSize=p,this.fontName=h,this.hAxis=d,this.height=f,this.isStacked=m,this.legend=y,this.reverseCategories=g,this.selectionMode=v,this.series=C,this.theme=w,this.title=T,this.titlePosition=S,this.titleTextStyle=b,this.tooltip=$,this.vAxes=E,this.vAxis=_,this.width=k}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.ColumnChartOptions",interfaces:["FSharpRecord","System.IEquatable"],properties:{aggregationTarget:"string",animation:TransitionAnimation,annotations:ChartAnnotations,axisTitlesPosition:"string",backgroundColor:Any,bar:GroupWidth,chartArea:ChartArea,colors:FableArray("string"),enableInteractivity:"boolean",focusTarget:"string",fontSize:"number",fontName:"string",hAxis:ChartAxis,height:"number",isStacked:"boolean",legend:ChartLegend,reverseCategories:"boolean",selectionMode:"string",series:Any,theme:"string",title:"string",titlePosition:"string",titleTextStyle:ChartTextStyle,tooltip:ChartTooltip,vAxes:Any,vAxis:ChartAxis,width:"number"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.ColumnChartOptions",ColumnChartOptions);var LineChartOptions=function(){function e(t,n,i,r,o,s,a,l,u,c,p,h,d,f,m,y,g,v,C,w,T,S,b,$,E,_,k,A,x,F,P,N,O){_classCallCheck(this,e),this.aggregationTarget=t,this.animation=n,this.annotations=i,this.axisTitlesPosition=r,this.backgroundColor=o,this.chartArea=s,this.colors=a,this.crosshair=l,this.curveType=u,this.dataOpacity=c,this.enableInteractivity=p,this.explorer=h,this.focusTarget=d,this.fontSize=f,this.fontName=m,this.hAxis=y,this.height=g,this.interpolateNulls=v,this.legend=C,this.lineWidth=w,this.orientation=T,this.pointSize=S,this.reverseCategories=b,this.selectionMode=$,this.series=E,this.theme=_,this.title=k,this.titlePosition=A,this.titleTextStyle=x,this.tooltip=F,this.vAxes=P,this.vAxis=N,this.width=O}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.LineChartOptions",interfaces:["FSharpRecord","System.IEquatable"],properties:{aggregationTarget:"string",animation:TransitionAnimation,annotations:ChartAnnotations,axisTitlesPosition:"string",backgroundColor:Any,chartArea:ChartArea,colors:FableArray("string"),crosshair:ChartCrosshair,curveType:"string",dataOpacity:"number",enableInteractivity:"boolean",explorer:ChartExplorer,focusTarget:"string",fontSize:"number",fontName:"string",hAxis:ChartAxis,height:"number",interpolateNulls:"boolean",legend:ChartLegend,lineWidth:"number",orientation:"string",pointSize:"number",reverseCategories:"boolean",selectionMode:"string",series:Any,theme:"string",title:"string",titlePosition:"string",titleTextStyle:ChartTextStyle,tooltip:ChartTooltip,vAxes:Any,vAxis:ChartAxis,width:"number"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.LineChartOptions",LineChartOptions);var BarChartOptions=function(){function e(t,n,i,r,o,s,a,l,u,c,p,h,d,f,m,y,g,v,C,w,T,S,b,$,E,_,k,A){_classCallCheck(this,e),this.aggregationTarget=t,this.animation=n,this.annotations=i,this.axisTitlesPosition=r,this.backgroundColor=o,this.bar=s,this.chartArea=a,this.colors=l,this.dataOpacity=u,this.enableInteractivity=c,this.focusTarget=p,this.fontSize=h,this.fontName=d,this.hAxes=f,this.hAxis=m,this.height=y,this.isStacked=g,this.legend=v,this.reverseCategories=C,this.series=w,this.theme=T,this.title=S,this.titlePosition=b,this.titleTextStyle=$,this.tooltip=E,this.vAxes=_,this.vAxis=k,this.width=A}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.BarChartOptions",interfaces:["FSharpRecord","System.IEquatable"],properties:{aggregationTarget:"string",animation:TransitionAnimation,annotations:ChartAnnotations,axisTitlesPosition:"string",backgroundColor:Any,bar:GroupWidth,chartArea:ChartArea,colors:FableArray("string"),dataOpacity:"number",enableInteractivity:"boolean",focusTarget:"string",fontSize:"number",fontName:"string",hAxes:Any,hAxis:ChartAxis,height:"number",isStacked:"boolean",legend:ChartLegend,reverseCategories:"boolean",series:Any,theme:"string",title:"string",titlePosition:"string",titleTextStyle:ChartTextStyle,tooltip:ChartTooltip,vAxes:Any,vAxis:ChartAxis,width:"number"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.BarChartOptions",BarChartOptions);var HistogramHistogram=function(){function e(t,n,i){_classCallCheck(this,e),this.bucketSize=t,this.hideBucketItems=n,this.lastBucketPercentile=i}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.HistogramHistogram",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{bucketSize:"number",hideBucketItems:"boolean",lastBucketPercentile:"number"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.HistogramHistogram",HistogramHistogram);var HistogramOptions=function(){function e(t,n,i,r,o,s,a,l,u,c,p,h,d,f,m,y,g,v,C,w,T,S,b,$,E,_,k,A){_classCallCheck(this,e),this.animation=t,this.axisTitlesPosition=n,this.backgroundColor=i,this.bar=r,this.chartArea=o,this.colors=s,this.dataOpacity=a,this.enableInteractivity=l,this.focusTarget=u,this.fontSize=c,this.fontName=p,this.hAxis=h,this.histogram=d,this.height=f,this.interpolateNulls=m,this.isStacked=y,this.legend=g,this.orientation=v,this.reverseCategories=C,this.series=w,this.theme=T,this.title=S,this.titlePosition=b,this.titleTextStyle=$,this.tooltip=E,this.vAxes=_,this.vAxis=k,this.width=A}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.HistogramOptions",interfaces:["FSharpRecord","System.IEquatable"],properties:{animation:TransitionAnimation,axisTitlesPosition:"string",backgroundColor:Any,bar:GroupWidth,chartArea:ChartArea,colors:FableArray("string"),dataOpacity:"number",enableInteractivity:"boolean",focusTarget:"string",fontSize:"number",fontName:"string",hAxis:ChartAxis,histogram:HistogramHistogram,height:"number",interpolateNulls:"boolean",isStacked:"boolean",legend:ChartLegend,orientation:"string",reverseCategories:"boolean",series:Any,theme:"string",title:"string",titlePosition:"string",titleTextStyle:ChartTextStyle,tooltip:ChartTooltip,vAxes:Any,vAxis:ChartAxis,width:"number"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.HistogramOptions",HistogramOptions);var AreaChartOptions=function(){function e(t,n,i,r,o,s,a,l,u,c,p,h,d,f,m,y,g,v,C,w,T,S,b,$,E,_,k,A,x,F,P,N,O){_classCallCheck(this,e),this.aggregationTarget=t,this.animation=n,this.areaOpacity=i,this.axisTitlesPosition=r,this.backgroundColor=o,this.chartArea=s,this.colors=a,this.crosshair=l,this.dataOpacity=u,this.enableInteractivity=c,this.explorer=p,this.focusTarget=h,this.fontSize=d,this.fontName=f,this.hAxis=m,this.height=y,this.interpolateNulls=g,this.isStacked=v,this.legend=C,this.lineWidth=w,this.orientation=T,this.pointSize=S,this.reverseCategories=b,this.selectionMode=$,this.series=E,this.theme=_,this.title=k,this.titlePosition=A,this.titleTextStyle=x,this.tooltip=F,this.vAxes=P,this.vAxis=N,this.width=O}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.AreaChartOptions",interfaces:["FSharpRecord","System.IEquatable"],properties:{aggregationTarget:"string",animation:TransitionAnimation,areaOpacity:"number",axisTitlesPosition:"string",backgroundColor:Any,chartArea:ChartArea,colors:FableArray("string"),crosshair:ChartCrosshair,dataOpacity:"number",enableInteractivity:"boolean",explorer:ChartExplorer,focusTarget:"string",fontSize:"number",fontName:"string",hAxis:ChartAxis,height:"number",interpolateNulls:"boolean",isStacked:"boolean",legend:ChartLegend,lineWidth:"number",orientation:"string",pointSize:"number",reverseCategories:"boolean",selectionMode:"string",series:Any,theme:"string",title:"string",titlePosition:"string",titleTextStyle:ChartTextStyle,tooltip:ChartTooltip,vAxes:Any,vAxis:ChartAxis,width:"number"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.AreaChartOptions",AreaChartOptions);var AnnotationChartOptions=function(){function e(t,n,i,r,o,s,a,l,u,c,p,h,d,f,m,y,g,v,C,w,T,S,b,$){_classCallCheck(this,e),this.allowHtml=t,this.allValuesSuffix=n,this.annotationsWidth=i,this.colors=r,this.dateFormat=o,this.displayAnnotations=s,this.displayAnnotationsFilter=a,this.displayDateTimeBarSeparator=l,this.displayExactValues=u,this.displayLegendDots=c,this.displayLegendValues=p,this.displayRangeSelector=h,this.displayZoomButtons=d,this.fill=f,this.legendPosition=m,this.max=y,this.min=g,this.numberFormats=v,this.scaleColumns=C,this.scaleFormat=w,this.scaleType=T,this.thickness=S,this.zoomEndTime=b,this.zoomStartTime=$}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.AnnotationChartOptions",interfaces:["FSharpRecord","System.IEquatable"],properties:{allowHtml:"boolean",allValuesSuffix:"string",annotationsWidth:"number",colors:FableArray("string"),dateFormat:"string",displayAnnotations:"boolean",displayAnnotationsFilter:"boolean",displayDateTimeBarSeparator:"boolean",displayExactValues:"boolean",displayLegendDots:"boolean",displayLegendValues:"boolean",displayRangeSelector:"boolean",displayZoomButtons:"boolean",fill:"number",legendPosition:"string",max:"number",min:"number",numberFormats:Any,scaleColumns:FableArray(Float64Array,!0),scaleFormat:"string",scaleType:"string",thickness:"number",zoomEndTime:Date,zoomStartTime:Date}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.AnnotationChartOptions",AnnotationChartOptions);var SteppedAreaChartOptions=function(){function e(t,n,i,r,o,s,a,l,u,c,p,h,d,f,m,y,g,v,C,w,T,S,b,$,E,_,k,A){_classCallCheck(this,e),this.aggregationTarget=t,this.animation=n,this.areaOpacity=i,this.axisTitlesPosition=r,this.backgroundColor=o,this.chartArea=s,this.colors=a,this.connectSteps=l,this.enableInteractivity=u,this.focusTarget=c,this.fontSize=p,this.fontName=h,this.hAxis=d,this.height=f,this.interpolateNulls=m,this.isStacked=y,this.legend=g,this.reverseCategories=v,this.selectionMode=C,this.series=w,this.theme=T,this.title=S,this.titlePosition=b,this.titleTextStyle=$,this.tooltip=E,this.vAxes=_,this.vAxis=k,this.width=A}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.SteppedAreaChartOptions",interfaces:["FSharpRecord","System.IEquatable"],properties:{aggregationTarget:"string",animation:TransitionAnimation,areaOpacity:"number",axisTitlesPosition:"string",backgroundColor:Any,chartArea:ChartArea,colors:FableArray("string"),connectSteps:"boolean",enableInteractivity:"boolean",focusTarget:"string",fontSize:"number",fontName:"string",hAxis:ChartAxis,height:"number",interpolateNulls:"boolean",isStacked:"boolean",legend:ChartLegend,reverseCategories:"boolean",selectionMode:"string",series:Any,theme:"string",title:"string",titlePosition:"string",titleTextStyle:ChartTextStyle,tooltip:ChartTooltip,vAxes:Any,vAxis:ChartAxis,width:"number"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.SteppedAreaChartOptions",SteppedAreaChartOptions);var PieChartOptions=function(){function e(t,n,i,r,o,s,a,l,u,c,p,h,d,f,m,y,g,v,C,w,T,S,b){_classCallCheck(this,e),this.backgroundColor=t,this.chartArea=n,this.colors=i,this.enableInteractivity=r,this.fontSize=o,this.fontName=s,this.height=a,this.is3D=l,this.legend=u,this.pieHole=c,this.pieSliceBorderColor=p,this.pieSliceText=h,this.pieSliceTextStyle=d,this.pieStartAngle=f,this.reverseCategories=m,this.pieResidueSliceColor=y,this.pieResidueSliceLabel=g,this.slices=v,this.sliceVisibilityThreshold=C,this.title=w,this.titleTextStyle=T,this.tooltip=S,this.width=b}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.PieChartOptions",interfaces:["FSharpRecord","System.IEquatable"],properties:{backgroundColor:Any,chartArea:ChartArea,colors:FableArray("string"),enableInteractivity:"boolean",fontSize:"number",fontName:"string",height:"number",is3D:"boolean",legend:ChartLegend,pieHole:"number",pieSliceBorderColor:"string",pieSliceText:"string",pieSliceTextStyle:ChartTextStyle,pieStartAngle:"number",reverseCategories:"boolean",pieResidueSliceColor:"string",pieResidueSliceLabel:"string",slices:Any,sliceVisibilityThreshold:"number",title:"string",titleTextStyle:ChartTextStyle,tooltip:ChartTooltip,width:"number"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.PieChartOptions",PieChartOptions);var ChartBubble=function(){function e(t,n,i){_classCallCheck(this,e),this.opacity=t,this.stroke=n,this.textStyle=i}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.ChartBubble",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{opacity:"number",stroke:"string",textStyle:ChartTextStyle}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.ChartBubble",ChartBubble);var BubbleChartOptions=function(){function e(t,n,i,r,o,s,a,l,u,c,p,h,d,f,m,y,g,v,C,w,T,S,b,$,E,_){_classCallCheck(this,e),this.animation=t,this.axisTitlesPosition=n,this.backgroundColor=i,this.bubble=r,this.chartArea=o,this.colors=s,this.colorAxis=a,this.enableInteractivity=l,this.explorer=u,this.fontSize=c,this.fontName=p,this.forceIFrame=h,this.hAxis=d,this.height=f,this.legend=m,this.selectionMode=y,this.series=g,this.sizeAxis=v,this.sortBubblesBySize=C,this.theme=w,this.title=T,this.titlePosition=S,this.titleTextStyle=b,this.tooltip=$,this.vAxis=E,this.width=_}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.BubbleChartOptions",interfaces:["FSharpRecord","System.IEquatable"],properties:{animation:TransitionAnimation,axisTitlesPosition:"string",backgroundColor:Any,bubble:ChartBubble,chartArea:ChartArea,colors:FableArray("string"),colorAxis:ChartColorAxis,enableInteractivity:"boolean",explorer:ChartExplorer,fontSize:"number",fontName:"string",forceIFrame:"boolean",hAxis:ChartAxis,height:"number",legend:ChartLegend,selectionMode:"string",series:Any,sizeAxis:ChartSizeAxis,sortBubblesBySize:"boolean",theme:"string",title:"string",titlePosition:"string",titleTextStyle:ChartTextStyle,tooltip:ChartTooltip,vAxis:ChartAxis,width:"number"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.BubbleChartOptions",BubbleChartOptions);var TreeMapOptions=function(){function e(t,n,i,r,o,s,a,l,u,c,p,h,d,f,m,y,g,v,C,w,T,S,b,$){_classCallCheck(this,e),this.fontColor=t,this.fontFamily=n,this.fontSize=i,this.forceIFrame=r,this.headerColor=o,this.headerHeight=s,this.headerHighlightColor=a,this.hintOpacity=l,this.maxColor=u,this.maxDepth=c,this.maxHighlightColor=p,this.maxPostDepth=h,this.maxColorValue=d,this.midColor=f,this.midHighlightColor=m,this.minColor=y,this.minHighlightColor=g,this.minColorValue=v,this.showScale=C,this.showTooltips=w,this.textStyle=T,this.title=S,this.titleTextStyle=b,this.useWeightedAverageForAggregation=$}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.TreeMapOptions",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{fontColor:"string",fontFamily:"string",fontSize:"number",forceIFrame:"boolean",headerColor:"string",headerHeight:"number",headerHighlightColor:"string",hintOpacity:"number",maxColor:"string",maxDepth:"number",maxHighlightColor:"string",maxPostDepth:"number",maxColorValue:"number",midColor:"string",midHighlightColor:"string",minColor:"string",minHighlightColor:"string",minColorValue:"number",showScale:"boolean",showTooltips:"boolean",textStyle:ChartTextStyle,title:"string",titleTextStyle:ChartTextStyle,useWeightedAverageForAggregation:"boolean"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.TreeMapOptions",TreeMapOptions);var CssClassNames=function(){function e(t,n,i,r,o,s,a,l){_classCallCheck(this,e),this.headerRow=t,this.tableRow=n,this.oddTableRow=i,this.selectedTableRow=r,this.hoverTableRow=o,this.headerCell=s,this.tableCell=a,this.rowNumberCell=l}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.CssClassNames",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{headerRow:"string",tableRow:"string",oddTableRow:"string",selectedTableRow:"string",hoverTableRow:"string",headerCell:"string",tableCell:"string",rowNumberCell:"string"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.CssClassNames",CssClassNames);var TableOptions=function(){function e(t,n,i,r,o,s,a,l,u,c,p,h,d,f,m){_classCallCheck(this,e),this.allowHtml=t,this.alternatingRowStyle=n,this.cssClassName=i,this.firstRowNumber=r,this.height=o,this.page=s,this.pageSize=a,this.rtlTable=l,this.scrollLeftStartPosition=u,this.showRowNumber=c,this.sort=p,this.sortAscending=h,this.sortColumn=d,this.startPage=f,this.width=m}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.TableOptions",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{allowHtml:"boolean",alternatingRowStyle:"boolean",cssClassName:CssClassNames,firstRowNumber:"number",height:"string",page:"string",pageSize:"number",rtlTable:"boolean",scrollLeftStartPosition:"number",showRowNumber:"boolean",sort:"string",sortAscending:"boolean",sortColumn:"number",startPage:"number",width:"string"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.TableOptions",TableOptions);var LabelStyle=function(){function e(t,n,i){_classCallCheck(this,e),this.color=t,this.fontName=n,this.fontSize=i}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.LabelStyle",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{color:"string",fontName:"string",fontSize:"string"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.LabelStyle",LabelStyle);var TimelineTimeline=function(){function e(t,n,i,r,o,s){_classCallCheck(this,e),this.barLabelStyle=t,this.colorByRowLabel=n,this.groupByRowLabel=i,this.rowLabelStyle=r,this.showRowLabels=o,this.singleColor=s}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.TimelineTimeline",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{barLabelStyle:LabelStyle,colorByRowLabel:"boolean",groupByRowLabel:"boolean",rowLabelStyle:LabelStyle,showRowLabels:"boolean",singleColor:"string"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.TimelineTimeline",TimelineTimeline);var TimelineOptions=function(){function e(t,n,i,r,o,s,a,l){_classCallCheck(this,e),this.avoidOverlappingGridLines=t,this.backgroundColor=n,this.colors=i,this.enableInteractivity=r,this.forceIFrame=o,this.height=s,this.timeline=a,this.width=l}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.TimelineOptions",interfaces:["FSharpRecord","System.IEquatable"],properties:{avoidOverlappingGridLines:"boolean",backgroundColor:Any,colors:FableArray("string"),enableInteractivity:"boolean",forceIFrame:"boolean",height:"number",timeline:TimelineTimeline,width:"number"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.TimelineOptions",TimelineOptions);var CandlestickCandlestick=function(){function e(t,n,i){_classCallCheck(this,e),this.hollowIsRising=t,this.fallingColor=n,this.risingColor=i}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.CandlestickCandlestick",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{hollowIsRising:"boolean",fallingColor:ChartStroke,risingColor:ChartStroke}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.CandlestickCandlestick",CandlestickCandlestick);var CandlestickChartOptions=function(){function e(t,n,i,r,o,s,a,l,u,c,p,h,d,f,m,y,g,v,C,w,T,S,b,$,E,_,k){_classCallCheck(this,e),this.aggregationTarget=t,this.animation=n,this.axisTitlesPosition=i,this.backgroundColor=r,this.bar=o,this.candlestick=s,this.chartArea=a,this.colors=l,this.enableInteractivity=u,this.focusTarget=c,this.fontSize=p,this.fontName=h,this.hAxis=d,this.height=f,this.legend=m,this.orientation=y,this.reverseCategories=g,this.selectionMode=v,this.series=C,this.theme=w,this.title=T,this.titlePosition=S,this.titleTextStyle=b,this.tooltip=$,this.vAxes=E,this.vAxis=_,this.width=k}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Options.CandlestickChartOptions",interfaces:["FSharpRecord","System.IEquatable"],properties:{aggregationTarget:"string",animation:TransitionAnimation,axisTitlesPosition:"string",backgroundColor:Any,bar:GroupWidth,candlestick:CandlestickCandlestick,chartArea:ChartArea,colors:FableArray("string"),enableInteractivity:"boolean",focusTarget:"string",fontSize:"number",fontName:"string",hAxis:ChartAxis,height:"number",legend:ChartLegend,orientation:"string",reverseCategories:"boolean",selectionMode:"string",series:Any,theme:"string",title:"string",titlePosition:"string",titleTextStyle:ChartTextStyle,tooltip:ChartTooltip,vAxes:Any,vAxis:ChartAxis,width:"number"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}}]),e}();setType("TheGamma.GoogleCharts.Options.CandlestickChartOptions",CandlestickChartOptions);var Geo=function(){function e(t,n,i){_classCallCheck(this,e),this.data=t,this.typeName=n,this.options=i}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Extensions.Geo",interfaces:["FSharpRecord","TheGamma.GoogleCharts.Chart"],properties:{data:ChartData,typeName:"string",options:GeoChartOptions}}}},{key:"show",value:function(e){Helpers.showChart(this,e)}},{key:"set",value:function(t,n,i,r,o,s,a,l,u,c){var p=void 0,h=Helpers.right(this.options,"backgroundColor",t),d=Helpers.right(this.options,"datalessRegionColor",n),f=Helpers.right(this.options,"displayMode",i),m=Helpers.right(this.options,"enableRegionInteractivity",r),y=Helpers.right(this.options,"height",o),g=Helpers.right(this.options,"keepAspectRatio",s),v=Helpers.right(this.options,"region",a),C=Helpers.right(this.options,"markerOpacity",l),w=Helpers.right(this.options,"resolution",u),T=Helpers.right(this.options,"width",c);return p=new GeoChartOptions(h,this.options.colorAxis,d,f,m,y,g,this.options.legend,v,this.options.magnifyingGlass,C,w,this.options.sizeAxis,this.options.tooltip,T),new e(this.data,this.typeName,p)}},{key:"colorAxis",value:function(t,n,i,r){var o=this.options.colorAxis,s=new ChartColorAxis(Helpers.right(o,"minValue",t),Helpers.right(o,"maxValue",n),Helpers.right(o,"values",defaultArg(i,null,function(e){return Float64Array.from(e)})),Helpers.right(o,"colors",defaultArg(r,null,function(e){return _Array$from(e)})),Helpers.copy(o,"legend")),a=new GeoChartOptions(this.options.backgroundColor,s,this.options.datalessRegionColor,this.options.displayMode,this.options.enableRegionInteractivity,this.options.height,this.options.keepAspectRatio,this.options.legend,this.options.region,this.options.magnifyingGlass,this.options.markerOpacity,this.options.resolution,this.options.sizeAxis,this.options.tooltip,this.options.width);return new e(this.data,this.typeName,a)}},{key:"legend",value:function(t,n,i,r){var o=this.options.legend,s=void 0,a=Helpers.right(o,"alignment",t),l=Helpers.right(o,"maxLines",n),u=Helpers.right(o,"position",i),c=Helpers.right(o,"numberFormat",r);s=new ChartLegend(a,l,u,Helpers.copy(o,"textStyle"),c);var p=new GeoChartOptions(this.options.backgroundColor,this.options.colorAxis,this.options.datalessRegionColor,this.options.displayMode,this.options.enableRegionInteractivity,this.options.height,this.options.keepAspectRatio,s,this.options.region,this.options.magnifyingGlass,this.options.markerOpacity,this.options.resolution,this.options.sizeAxis,this.options.tooltip,this.options.width);return new e(this.data,this.typeName,p)}},{key:"magnifyingGlass",value:function(t,n){var i=this.options.magnifyingGlass,r=new GeoChartMagnifyingGlass(Helpers.right(i,"enable",t),Helpers.right(i,"zoomFactor",n)),o=new GeoChartOptions(this.options.backgroundColor,this.options.colorAxis,this.options.datalessRegionColor,this.options.displayMode,this.options.enableRegionInteractivity,this.options.height,this.options.keepAspectRatio,this.options.legend,this.options.region,r,this.options.markerOpacity,this.options.resolution,this.options.sizeAxis,this.options.tooltip,this.options.width);return new e(this.data,this.typeName,o)}},{key:"sizeAxis",value:function(t,n,i,r){var o=this.options.sizeAxis,s=new ChartSizeAxis(Helpers.right(o,"maxSize",t),Helpers.right(o,"maxValue",n),Helpers.right(o,"minSize",i),Helpers.right(o,"minValue",r)),a=new GeoChartOptions(this.options.backgroundColor,this.options.colorAxis,this.options.datalessRegionColor,this.options.displayMode,this.options.enableRegionInteractivity,this.options.height,this.options.keepAspectRatio,this.options.legend,this.options.region,this.options.magnifyingGlass,this.options.markerOpacity,this.options.resolution,s,this.options.tooltip,this.options.width);return new e(this.data,this.typeName,a)}},{key:"tooltip",value:function(t,n,i){var r=this.options.tooltip,o=void 0,s=Helpers.right(r,"isHtml",t),a=Helpers.right(r,"showColorCode",n),l=Helpers.right(r,"trigger",i);o=new ChartTooltip(s,a,Helpers.copy(r,"textStyle"),l);var u=new GeoChartOptions(this.options.backgroundColor,this.options.colorAxis,this.options.datalessRegionColor,this.options.displayMode,this.options.enableRegionInteractivity,this.options.height,this.options.keepAspectRatio,this.options.legend,this.options.region,this.options.magnifyingGlass,this.options.markerOpacity,this.options.resolution,this.options.sizeAxis,o,this.options.width);return new e(this.data,this.typeName,u)}}]),e}();setType("TheGamma.GoogleCharts.Extensions.Geo",Geo);var Scatter=function(){function e(t,n,i){_classCallCheck(this,e),this.data=t,this.typeName=n,this.options=i}return _createClass(e,[{
key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Extensions.Scatter",interfaces:["FSharpRecord","TheGamma.GoogleCharts.Chart"],properties:{data:ChartData,typeName:"string",options:ScatterChartOptions}}}},{key:"show",value:function(e){Helpers.showChart(this,e)}},{key:"set",value:function(t,n,i,r,o,s,a,l,u,c,p,h,d,f,m,y,g,v,C){var w=void 0,T=Helpers.right(this.options,"aggregationTarget",t),S=Helpers.right(this.options,"axisTitlesPosition",n),b=Helpers.right(this.options,"backgroundColor",i),$=Helpers.right(this.options,"colors",defaultArg(r,null,function(e){return _Array$from(e)})),E=Helpers.right(this.options,"curveType",o),_=Helpers.right(this.options,"dataOpacity",s),k=Helpers.right(this.options,"enableInteractivity",a),A=Helpers.right(this.options,"fontSize",l),x=Helpers.right(this.options,"fontName",u),F=Helpers.right(this.options,"forceIFrame",c),P=Helpers.right(this.options,"height",p),N=Helpers.right(this.options,"lineWidth",h),O=Helpers.right(this.options,"pointSize",d),H=Helpers.right(this.options,"selectionMode",f),G=Helpers.right(this.options,"series",m),L=Helpers.right(this.options,"theme",y),I=Helpers.right(this.options,"title",g),R=Helpers.right(this.options,"titlePosition",v),D=Helpers.right(this.options,"width",C);return w=new ScatterChartOptions(T,this.options.animation,this.options.annotations,S,b,this.options.chartArea,$,this.options.crosshair,E,_,k,this.options.explorer,A,x,F,this.options.hAxis,P,this.options.legend,N,O,H,G,L,I,R,this.options.titleTextStyle,this.options.tooltip,this.options.trendlines,this.options.vAxis,D),new e(this.data,this.typeName,w)}},{key:"trendlines",value:function(t){var n=void 0,i=Helpers.right(this.options,"trendlines",defaultArg(t,null,function(e){return _Array$from(e)}));return n=new ScatterChartOptions(this.options.aggregationTarget,this.options.animation,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.chartArea,this.options.colors,this.options.crosshair,this.options.curveType,this.options.dataOpacity,this.options.enableInteractivity,this.options.explorer,this.options.fontSize,this.options.fontName,this.options.forceIFrame,this.options.hAxis,this.options.height,this.options.legend,this.options.lineWidth,this.options.pointSize,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,i,this.options.vAxis,this.options.width),new e(this.data,this.typeName,n)}},{key:"animation",value:function(t,n){var i=this.options.animation,r=new TransitionAnimation(Helpers.right(i,"duration",t),Helpers.right(i,"easing",n)),o=new ScatterChartOptions(this.options.aggregationTarget,r,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.chartArea,this.options.colors,this.options.crosshair,this.options.curveType,this.options.dataOpacity,this.options.enableInteractivity,this.options.explorer,this.options.fontSize,this.options.fontName,this.options.forceIFrame,this.options.hAxis,this.options.height,this.options.legend,this.options.lineWidth,this.options.pointSize,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.trendlines,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,o)}},{key:"chartArea",value:function(t,n,i,r){var o=this.options.chartArea,s=new ChartArea(Helpers.right(o,"top",t),Helpers.right(o,"left",n),Helpers.right(o,"width",i),Helpers.right(o,"height",r)),a=new ScatterChartOptions(this.options.aggregationTarget,this.options.animation,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,s,this.options.colors,this.options.crosshair,this.options.curveType,this.options.dataOpacity,this.options.enableInteractivity,this.options.explorer,this.options.fontSize,this.options.fontName,this.options.forceIFrame,this.options.hAxis,this.options.height,this.options.legend,this.options.lineWidth,this.options.pointSize,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.trendlines,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,a)}},{key:"crosshair",value:function(t,n,i,r){var o=this.options.crosshair,s=void 0,a=Helpers.right(o,"color",t),l=Helpers.right(o,"opacity",n),u=Helpers.right(o,"orientation",i),c=Helpers.right(o,"trigger",r);s=new ChartCrosshair(a,Helpers.copy(o,"focused"),l,u,Helpers.copy(o,"selected"),c);var p=new ScatterChartOptions(this.options.aggregationTarget,this.options.animation,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.chartArea,this.options.colors,s,this.options.curveType,this.options.dataOpacity,this.options.enableInteractivity,this.options.explorer,this.options.fontSize,this.options.fontName,this.options.forceIFrame,this.options.hAxis,this.options.height,this.options.legend,this.options.lineWidth,this.options.pointSize,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.trendlines,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,p)}},{key:"explorer",value:function(t,n,i,r,o,s){var a=this.options.explorer,l=new ChartExplorer(Helpers.right(a,"actions",defaultArg(t,null,function(e){return _Array$from(e)})),Helpers.right(a,"axis",n),Helpers.right(a,"keepInBounds",i),Helpers.right(a,"maxZoomIn",r),Helpers.right(a,"maxZoomOut",o),Helpers.right(a,"zoomDelta",s)),u=new ScatterChartOptions(this.options.aggregationTarget,this.options.animation,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.chartArea,this.options.colors,this.options.crosshair,this.options.curveType,this.options.dataOpacity,this.options.enableInteractivity,l,this.options.fontSize,this.options.fontName,this.options.forceIFrame,this.options.hAxis,this.options.height,this.options.legend,this.options.lineWidth,this.options.pointSize,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.trendlines,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,u)}},{key:"hAxis",value:function(t,n,i,r,o,s,a,l,u,c,p,h,d,f,m,y,g,v){var C=this.options.hAxis,w=void 0,T=Helpers.right(C,"baseline",t),S=Helpers.right(C,"baselineColor",n),b=Helpers.right(C,"direction",i),$=Helpers.right(C,"format",r),E=Helpers.right(C,"logScale",o),_=Helpers.right(C,"textPosition",s),k=Helpers.right(C,"ticks",defaultArg(a,null,function(e){return _Array$from(e)})),A=Helpers.right(C,"title",l),x=Helpers.right(C,"allowContainerBoundaryTextCufoff",u),F=Helpers.right(C,"slantedText",c),P=Helpers.right(C,"slantedTextAngle",p),N=Helpers.right(C,"maxAlternation",h),O=Helpers.right(C,"maxTextLines",d),H=Helpers.right(C,"minTextSpacing",f),G=Helpers.right(C,"showTextEvery",m),L=Helpers.right(C,"maxValue",y),I=Helpers.right(C,"minValue",g),R=Helpers.right(C,"viewWindowMode",v);w=new ChartAxis(T,S,b,$,Helpers.copy(C,"gridlines"),Helpers.copy(C,"minorGridlines"),E,_,Helpers.copy(C,"textStyle"),k,A,Helpers.copy(C,"titleTextStyle"),x,F,P,N,O,H,G,L,I,R,Helpers.copy(C,"viewWindow"));var D=new ScatterChartOptions(this.options.aggregationTarget,this.options.animation,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.chartArea,this.options.colors,this.options.crosshair,this.options.curveType,this.options.dataOpacity,this.options.enableInteractivity,this.options.explorer,this.options.fontSize,this.options.fontName,this.options.forceIFrame,w,this.options.height,this.options.legend,this.options.lineWidth,this.options.pointSize,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.trendlines,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,D)}},{key:"legend",value:function(t,n,i,r){var o=this.options.legend,s=void 0,a=Helpers.right(o,"alignment",t),l=Helpers.right(o,"maxLines",n),u=Helpers.right(o,"position",i),c=Helpers.right(o,"numberFormat",r);s=new ChartLegend(a,l,u,Helpers.copy(o,"textStyle"),c);var p=new ScatterChartOptions(this.options.aggregationTarget,this.options.animation,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.chartArea,this.options.colors,this.options.crosshair,this.options.curveType,this.options.dataOpacity,this.options.enableInteractivity,this.options.explorer,this.options.fontSize,this.options.fontName,this.options.forceIFrame,this.options.hAxis,this.options.height,s,this.options.lineWidth,this.options.pointSize,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.trendlines,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,p)}},{key:"titleTextStyle",value:function(t,n,i,r,o,s,a){var l=this.options.titleTextStyle,u=new ChartTextStyle(Helpers.right(l,"fontName",t),Helpers.right(l,"fontSize",n),Helpers.right(l,"bold",i),Helpers.right(l,"italic",r),Helpers.right(l,"color",o),Helpers.right(l,"auraColor",s),Helpers.right(l,"opacity",a)),c=new ScatterChartOptions(this.options.aggregationTarget,this.options.animation,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.chartArea,this.options.colors,this.options.crosshair,this.options.curveType,this.options.dataOpacity,this.options.enableInteractivity,this.options.explorer,this.options.fontSize,this.options.fontName,this.options.forceIFrame,this.options.hAxis,this.options.height,this.options.legend,this.options.lineWidth,this.options.pointSize,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,u,this.options.tooltip,this.options.trendlines,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,c)}},{key:"tooltip",value:function(t,n,i){var r=this.options.tooltip,o=void 0,s=Helpers.right(r,"isHtml",t),a=Helpers.right(r,"showColorCode",n),l=Helpers.right(r,"trigger",i);o=new ChartTooltip(s,a,Helpers.copy(r,"textStyle"),l);var u=new ScatterChartOptions(this.options.aggregationTarget,this.options.animation,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.chartArea,this.options.colors,this.options.crosshair,this.options.curveType,this.options.dataOpacity,this.options.enableInteractivity,this.options.explorer,this.options.fontSize,this.options.fontName,this.options.forceIFrame,this.options.hAxis,this.options.height,this.options.legend,this.options.lineWidth,this.options.pointSize,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,o,this.options.trendlines,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,u)}},{key:"vAxis",value:function(t,n,i,r,o,s,a,l,u,c,p,h,d,f,m,y,g,v){var C=this.options.vAxis,w=void 0,T=Helpers.right(C,"baseline",t),S=Helpers.right(C,"baselineColor",n),b=Helpers.right(C,"direction",i),$=Helpers.right(C,"format",r),E=Helpers.right(C,"logScale",o),_=Helpers.right(C,"textPosition",s),k=Helpers.right(C,"ticks",defaultArg(a,null,function(e){return _Array$from(e)})),A=Helpers.right(C,"title",l),x=Helpers.right(C,"allowContainerBoundaryTextCufoff",u),F=Helpers.right(C,"slantedText",c),P=Helpers.right(C,"slantedTextAngle",p),N=Helpers.right(C,"maxAlternation",h),O=Helpers.right(C,"maxTextLines",d),H=Helpers.right(C,"minTextSpacing",f),G=Helpers.right(C,"showTextEvery",m),L=Helpers.right(C,"maxValue",y),I=Helpers.right(C,"minValue",g),R=Helpers.right(C,"viewWindowMode",v);w=new ChartAxis(T,S,b,$,Helpers.copy(C,"gridlines"),Helpers.copy(C,"minorGridlines"),E,_,Helpers.copy(C,"textStyle"),k,A,Helpers.copy(C,"titleTextStyle"),x,F,P,N,O,H,G,L,I,R,Helpers.copy(C,"viewWindow"));var D=new ScatterChartOptions(this.options.aggregationTarget,this.options.animation,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.chartArea,this.options.colors,this.options.crosshair,this.options.curveType,this.options.dataOpacity,this.options.enableInteractivity,this.options.explorer,this.options.fontSize,this.options.fontName,this.options.forceIFrame,this.options.hAxis,this.options.height,this.options.legend,this.options.lineWidth,this.options.pointSize,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.trendlines,w,this.options.width);return new e(this.data,this.typeName,D)}}]),e}();setType("TheGamma.GoogleCharts.Extensions.Scatter",Scatter);var Column=function(){function e(t,n,i){_classCallCheck(this,e),this.data=t,this.typeName=n,this.options=i}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Extensions.Column",interfaces:["FSharpRecord","TheGamma.GoogleCharts.Chart"],properties:{data:ChartData,typeName:"string",options:ColumnChartOptions}}}},{key:"show",value:function(e){Helpers.showChart(this,e)}},{key:"set",value:function(t,n,i,r,o,s,a,l,u,c,p,h,d,f,m,y,g,v){var C=void 0,w=Helpers.right(this.options,"aggregationTarget",t),T=Helpers.right(this.options,"axisTitlesPosition",n),S=Helpers.right(this.options,"backgroundColor",i),b=Helpers.right(this.options,"colors",defaultArg(r,null,function(e){return _Array$from(e)})),$=Helpers.right(this.options,"enableInteractivity",o),E=Helpers.right(this.options,"focusTarget",s),_=Helpers.right(this.options,"fontSize",a),k=Helpers.right(this.options,"fontName",l),A=Helpers.right(this.options,"height",u),x=Helpers.right(this.options,"isStacked",c),F=Helpers.right(this.options,"reverseCategories",p),P=Helpers.right(this.options,"selectionMode",h),N=Helpers.right(this.options,"series",d),O=Helpers.right(this.options,"theme",f),H=Helpers.right(this.options,"title",m),G=Helpers.right(this.options,"titlePosition",y),L=Helpers.right(this.options,"vAxes",g),I=Helpers.right(this.options,"width",v);return C=new ColumnChartOptions(w,this.options.animation,this.options.annotations,T,S,this.options.bar,this.options.chartArea,b,$,E,_,k,this.options.hAxis,A,x,this.options.legend,F,P,N,O,H,G,this.options.titleTextStyle,this.options.tooltip,L,this.options.vAxis,I),new e(this.data,this.typeName,C)}},{key:"animation",value:function(t,n){var i=this.options.animation,r=new TransitionAnimation(Helpers.right(i,"duration",t),Helpers.right(i,"easing",n)),o=new ColumnChartOptions(this.options.aggregationTarget,r,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bar,this.options.chartArea,this.options.colors,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.isStacked,this.options.legend,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,o)}},{key:"bar",value:function(t){var n=this.options.bar,i=new GroupWidth(Helpers.right(n,"groupWidth",t)),r=new ColumnChartOptions(this.options.aggregationTarget,this.options.animation,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,i,this.options.chartArea,this.options.colors,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.isStacked,this.options.legend,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,r)}},{key:"chartArea",value:function(t,n,i,r){var o=this.options.chartArea,s=new ChartArea(Helpers.right(o,"top",t),Helpers.right(o,"left",n),Helpers.right(o,"width",i),Helpers.right(o,"height",r)),a=new ColumnChartOptions(this.options.aggregationTarget,this.options.animation,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bar,s,this.options.colors,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.isStacked,this.options.legend,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,a)}},{key:"hAxis",value:function(t,n,i,r,o,s,a,l,u,c,p,h,d,f,m,y,g,v){var C=this.options.hAxis,w=void 0,T=Helpers.right(C,"baseline",t),S=Helpers.right(C,"baselineColor",n),b=Helpers.right(C,"direction",i),$=Helpers.right(C,"format",r),E=Helpers.right(C,"logScale",o),_=Helpers.right(C,"textPosition",s),k=Helpers.right(C,"ticks",defaultArg(a,null,function(e){return _Array$from(e)})),A=Helpers.right(C,"title",l),x=Helpers.right(C,"allowContainerBoundaryTextCufoff",u),F=Helpers.right(C,"slantedText",c),P=Helpers.right(C,"slantedTextAngle",p),N=Helpers.right(C,"maxAlternation",h),O=Helpers.right(C,"maxTextLines",d),H=Helpers.right(C,"minTextSpacing",f),G=Helpers.right(C,"showTextEvery",m),L=Helpers.right(C,"maxValue",y),I=Helpers.right(C,"minValue",g),R=Helpers.right(C,"viewWindowMode",v);w=new ChartAxis(T,S,b,$,Helpers.copy(C,"gridlines"),Helpers.copy(C,"minorGridlines"),E,_,Helpers.copy(C,"textStyle"),k,A,Helpers.copy(C,"titleTextStyle"),x,F,P,N,O,H,G,L,I,R,Helpers.copy(C,"viewWindow"));var D=new ColumnChartOptions(this.options.aggregationTarget,this.options.animation,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bar,this.options.chartArea,this.options.colors,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,w,this.options.height,this.options.isStacked,this.options.legend,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,D)}},{key:"legend",value:function(t,n,i,r){var o=this.options.legend,s=void 0,a=Helpers.right(o,"alignment",t),l=Helpers.right(o,"maxLines",n),u=Helpers.right(o,"position",i),c=Helpers.right(o,"numberFormat",r);s=new ChartLegend(a,l,u,Helpers.copy(o,"textStyle"),c);var p=new ColumnChartOptions(this.options.aggregationTarget,this.options.animation,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bar,this.options.chartArea,this.options.colors,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.isStacked,s,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,p)}},{key:"titleTextStyle",value:function(t,n,i,r,o,s,a){var l=this.options.titleTextStyle,u=new ChartTextStyle(Helpers.right(l,"fontName",t),Helpers.right(l,"fontSize",n),Helpers.right(l,"bold",i),Helpers.right(l,"italic",r),Helpers.right(l,"color",o),Helpers.right(l,"auraColor",s),Helpers.right(l,"opacity",a)),c=new ColumnChartOptions(this.options.aggregationTarget,this.options.animation,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bar,this.options.chartArea,this.options.colors,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.isStacked,this.options.legend,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,u,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,c)}},{key:"tooltip",value:function(t,n,i){var r=this.options.tooltip,o=void 0,s=Helpers.right(r,"isHtml",t),a=Helpers.right(r,"showColorCode",n),l=Helpers.right(r,"trigger",i);o=new ChartTooltip(s,a,Helpers.copy(r,"textStyle"),l);var u=new ColumnChartOptions(this.options.aggregationTarget,this.options.animation,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bar,this.options.chartArea,this.options.colors,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.isStacked,this.options.legend,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,o,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,u)}},{key:"vAxis",value:function(t,n,i,r,o,s,a,l,u,c,p,h,d,f,m,y,g,v){var C=this.options.vAxis,w=void 0,T=Helpers.right(C,"baseline",t),S=Helpers.right(C,"baselineColor",n),b=Helpers.right(C,"direction",i),$=Helpers.right(C,"format",r),E=Helpers.right(C,"logScale",o),_=Helpers.right(C,"textPosition",s),k=Helpers.right(C,"ticks",defaultArg(a,null,function(e){return _Array$from(e)})),A=Helpers.right(C,"title",l),x=Helpers.right(C,"allowContainerBoundaryTextCufoff",u),F=Helpers.right(C,"slantedText",c),P=Helpers.right(C,"slantedTextAngle",p),N=Helpers.right(C,"maxAlternation",h),O=Helpers.right(C,"maxTextLines",d),H=Helpers.right(C,"minTextSpacing",f),G=Helpers.right(C,"showTextEvery",m),L=Helpers.right(C,"maxValue",y),I=Helpers.right(C,"minValue",g),R=Helpers.right(C,"viewWindowMode",v);w=new ChartAxis(T,S,b,$,Helpers.copy(C,"gridlines"),Helpers.copy(C,"minorGridlines"),E,_,Helpers.copy(C,"textStyle"),k,A,Helpers.copy(C,"titleTextStyle"),x,F,P,N,O,H,G,L,I,R,Helpers.copy(C,"viewWindow"));var D=new ColumnChartOptions(this.options.aggregationTarget,this.options.animation,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bar,this.options.chartArea,this.options.colors,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.isStacked,this.options.legend,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,w,this.options.width);return new e(this.data,this.typeName,D)}}]),e}();setType("TheGamma.GoogleCharts.Extensions.Column",Column);var Line=function(){function e(t,n,i){_classCallCheck(this,e),this.data=t,this.typeName=n,this.options=i}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Extensions.Line",interfaces:["FSharpRecord","TheGamma.GoogleCharts.Chart"],properties:{data:ChartData,typeName:"string",options:LineChartOptions}}}},{key:"show",value:function(e){Helpers.showChart(this,e)}},{key:"set",value:function(t,n,i,r,o,s,a,l,u,c,p,h,d,f,m,y,g,v,C,w,T,S,b){var $=void 0,E=Helpers.right(this.options,"aggregationTarget",t),_=Helpers.right(this.options,"axisTitlesPosition",n),k=Helpers.right(this.options,"backgroundColor",i),A=Helpers.right(this.options,"colors",defaultArg(r,null,function(e){return _Array$from(e)})),x=Helpers.right(this.options,"curveType",o),F=Helpers.right(this.options,"dataOpacity",s),P=Helpers.right(this.options,"enableInteractivity",a),N=Helpers.right(this.options,"focusTarget",l),O=Helpers.right(this.options,"fontSize",u),H=Helpers.right(this.options,"fontName",c),G=Helpers.right(this.options,"height",p),L=Helpers.right(this.options,"interpolateNulls",h),I=Helpers.right(this.options,"lineWidth",d),R=Helpers.right(this.options,"orientation",f),D=Helpers.right(this.options,"pointSize",m),M=Helpers.right(this.options,"reverseCategories",y),B=Helpers.right(this.options,"selectionMode",g),q=Helpers.right(this.options,"series",v),V=Helpers.right(this.options,"theme",C),j=Helpers.right(this.options,"title",w),z=Helpers.right(this.options,"titlePosition",T),W=Helpers.right(this.options,"vAxes",S),U=Helpers.right(this.options,"width",b);return $=new LineChartOptions(E,this.options.animation,this.options.annotations,_,k,this.options.chartArea,A,this.options.crosshair,x,F,P,this.options.explorer,N,O,H,this.options.hAxis,G,L,this.options.legend,I,R,D,M,B,q,V,j,z,this.options.titleTextStyle,this.options.tooltip,W,this.options.vAxis,U),new e(this.data,this.typeName,$)}},{key:"animation",value:function(t,n){var i=this.options.animation,r=new TransitionAnimation(Helpers.right(i,"duration",t),Helpers.right(i,"easing",n)),o=new LineChartOptions(this.options.aggregationTarget,r,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.chartArea,this.options.colors,this.options.crosshair,this.options.curveType,this.options.dataOpacity,this.options.enableInteractivity,this.options.explorer,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.interpolateNulls,this.options.legend,this.options.lineWidth,this.options.orientation,this.options.pointSize,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,o)}},{key:"chartArea",value:function(t,n,i,r){var o=this.options.chartArea,s=new ChartArea(Helpers.right(o,"top",t),Helpers.right(o,"left",n),Helpers.right(o,"width",i),Helpers.right(o,"height",r)),a=new LineChartOptions(this.options.aggregationTarget,this.options.animation,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,s,this.options.colors,this.options.crosshair,this.options.curveType,this.options.dataOpacity,this.options.enableInteractivity,this.options.explorer,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.interpolateNulls,this.options.legend,this.options.lineWidth,this.options.orientation,this.options.pointSize,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,a)}},{key:"crosshair",value:function(t,n,i,r){var o=this.options.crosshair,s=void 0,a=Helpers.right(o,"color",t),l=Helpers.right(o,"opacity",n),u=Helpers.right(o,"orientation",i),c=Helpers.right(o,"trigger",r);s=new ChartCrosshair(a,Helpers.copy(o,"focused"),l,u,Helpers.copy(o,"selected"),c);var p=new LineChartOptions(this.options.aggregationTarget,this.options.animation,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.chartArea,this.options.colors,s,this.options.curveType,this.options.dataOpacity,this.options.enableInteractivity,this.options.explorer,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.interpolateNulls,this.options.legend,this.options.lineWidth,this.options.orientation,this.options.pointSize,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,p)}},{key:"explorer",value:function(t,n,i,r,o,s){var a=this.options.explorer,l=new ChartExplorer(Helpers.right(a,"actions",defaultArg(t,null,function(e){return _Array$from(e)})),Helpers.right(a,"axis",n),Helpers.right(a,"keepInBounds",i),Helpers.right(a,"maxZoomIn",r),Helpers.right(a,"maxZoomOut",o),Helpers.right(a,"zoomDelta",s)),u=new LineChartOptions(this.options.aggregationTarget,this.options.animation,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.chartArea,this.options.colors,this.options.crosshair,this.options.curveType,this.options.dataOpacity,this.options.enableInteractivity,l,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.interpolateNulls,this.options.legend,this.options.lineWidth,this.options.orientation,this.options.pointSize,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,u)}},{key:"hAxis",value:function(t,n,i,r,o,s,a,l,u,c,p,h,d,f,m,y,g,v){var C=this.options.hAxis,w=void 0,T=Helpers.right(C,"baseline",t),S=Helpers.right(C,"baselineColor",n),b=Helpers.right(C,"direction",i),$=Helpers.right(C,"format",r),E=Helpers.right(C,"logScale",o),_=Helpers.right(C,"textPosition",s),k=Helpers.right(C,"ticks",defaultArg(a,null,function(e){return _Array$from(e)})),A=Helpers.right(C,"title",l),x=Helpers.right(C,"allowContainerBoundaryTextCufoff",u),F=Helpers.right(C,"slantedText",c),P=Helpers.right(C,"slantedTextAngle",p),N=Helpers.right(C,"maxAlternation",h),O=Helpers.right(C,"maxTextLines",d),H=Helpers.right(C,"minTextSpacing",f),G=Helpers.right(C,"showTextEvery",m),L=Helpers.right(C,"maxValue",y),I=Helpers.right(C,"minValue",g),R=Helpers.right(C,"viewWindowMode",v);w=new ChartAxis(T,S,b,$,Helpers.copy(C,"gridlines"),Helpers.copy(C,"minorGridlines"),E,_,Helpers.copy(C,"textStyle"),k,A,Helpers.copy(C,"titleTextStyle"),x,F,P,N,O,H,G,L,I,R,Helpers.copy(C,"viewWindow"));var D=new LineChartOptions(this.options.aggregationTarget,this.options.animation,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.chartArea,this.options.colors,this.options.crosshair,this.options.curveType,this.options.dataOpacity,this.options.enableInteractivity,this.options.explorer,this.options.focusTarget,this.options.fontSize,this.options.fontName,w,this.options.height,this.options.interpolateNulls,this.options.legend,this.options.lineWidth,this.options.orientation,this.options.pointSize,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,D)}},{key:"legend",value:function(t,n,i,r){var o=this.options.legend,s=void 0,a=Helpers.right(o,"alignment",t),l=Helpers.right(o,"maxLines",n),u=Helpers.right(o,"position",i),c=Helpers.right(o,"numberFormat",r);s=new ChartLegend(a,l,u,Helpers.copy(o,"textStyle"),c);var p=new LineChartOptions(this.options.aggregationTarget,this.options.animation,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.chartArea,this.options.colors,this.options.crosshair,this.options.curveType,this.options.dataOpacity,this.options.enableInteractivity,this.options.explorer,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.interpolateNulls,s,this.options.lineWidth,this.options.orientation,this.options.pointSize,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);
return new e(this.data,this.typeName,p)}},{key:"titleTextStyle",value:function(t,n,i,r,o,s,a){var l=this.options.titleTextStyle,u=new ChartTextStyle(Helpers.right(l,"fontName",t),Helpers.right(l,"fontSize",n),Helpers.right(l,"bold",i),Helpers.right(l,"italic",r),Helpers.right(l,"color",o),Helpers.right(l,"auraColor",s),Helpers.right(l,"opacity",a)),c=new LineChartOptions(this.options.aggregationTarget,this.options.animation,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.chartArea,this.options.colors,this.options.crosshair,this.options.curveType,this.options.dataOpacity,this.options.enableInteractivity,this.options.explorer,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.interpolateNulls,this.options.legend,this.options.lineWidth,this.options.orientation,this.options.pointSize,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,u,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,c)}},{key:"tooltip",value:function(t,n,i){var r=this.options.tooltip,o=void 0,s=Helpers.right(r,"isHtml",t),a=Helpers.right(r,"showColorCode",n),l=Helpers.right(r,"trigger",i);o=new ChartTooltip(s,a,Helpers.copy(r,"textStyle"),l);var u=new LineChartOptions(this.options.aggregationTarget,this.options.animation,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.chartArea,this.options.colors,this.options.crosshair,this.options.curveType,this.options.dataOpacity,this.options.enableInteractivity,this.options.explorer,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.interpolateNulls,this.options.legend,this.options.lineWidth,this.options.orientation,this.options.pointSize,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,o,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,u)}},{key:"vAxis",value:function(t,n,i,r,o,s,a,l,u,c,p,h,d,f,m,y,g,v){var C=this.options.vAxis,w=void 0,T=Helpers.right(C,"baseline",t),S=Helpers.right(C,"baselineColor",n),b=Helpers.right(C,"direction",i),$=Helpers.right(C,"format",r),E=Helpers.right(C,"logScale",o),_=Helpers.right(C,"textPosition",s),k=Helpers.right(C,"ticks",defaultArg(a,null,function(e){return _Array$from(e)})),A=Helpers.right(C,"title",l),x=Helpers.right(C,"allowContainerBoundaryTextCufoff",u),F=Helpers.right(C,"slantedText",c),P=Helpers.right(C,"slantedTextAngle",p),N=Helpers.right(C,"maxAlternation",h),O=Helpers.right(C,"maxTextLines",d),H=Helpers.right(C,"minTextSpacing",f),G=Helpers.right(C,"showTextEvery",m),L=Helpers.right(C,"maxValue",y),I=Helpers.right(C,"minValue",g),R=Helpers.right(C,"viewWindowMode",v);w=new ChartAxis(T,S,b,$,Helpers.copy(C,"gridlines"),Helpers.copy(C,"minorGridlines"),E,_,Helpers.copy(C,"textStyle"),k,A,Helpers.copy(C,"titleTextStyle"),x,F,P,N,O,H,G,L,I,R,Helpers.copy(C,"viewWindow"));var D=new LineChartOptions(this.options.aggregationTarget,this.options.animation,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.chartArea,this.options.colors,this.options.crosshair,this.options.curveType,this.options.dataOpacity,this.options.enableInteractivity,this.options.explorer,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.interpolateNulls,this.options.legend,this.options.lineWidth,this.options.orientation,this.options.pointSize,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,w,this.options.width);return new e(this.data,this.typeName,D)}}]),e}();setType("TheGamma.GoogleCharts.Extensions.Line",Line);var Bar=function(){function e(t,n,i){_classCallCheck(this,e),this.data=t,this.typeName=n,this.options=i}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Extensions.Bar",interfaces:["FSharpRecord","TheGamma.GoogleCharts.Chart"],properties:{data:ChartData,typeName:"string",options:BarChartOptions}}}},{key:"show",value:function(e){Helpers.showChart(this,e)}},{key:"set",value:function(t,n,i,r,o,s,a,l,u,c,p,h,d,f,m,y,g,v,C){var w=void 0,T=Helpers.right(this.options,"aggregationTarget",t),S=Helpers.right(this.options,"axisTitlesPosition",n),b=Helpers.right(this.options,"backgroundColor",i),$=Helpers.right(this.options,"colors",defaultArg(r,null,function(e){return _Array$from(e)})),E=Helpers.right(this.options,"dataOpacity",o),_=Helpers.right(this.options,"enableInteractivity",s),k=Helpers.right(this.options,"focusTarget",a),A=Helpers.right(this.options,"fontSize",l),x=Helpers.right(this.options,"fontName",u),F=Helpers.right(this.options,"hAxes",c),P=Helpers.right(this.options,"height",p),N=Helpers.right(this.options,"isStacked",h),O=Helpers.right(this.options,"reverseCategories",d),H=Helpers.right(this.options,"series",f),G=Helpers.right(this.options,"theme",m),L=Helpers.right(this.options,"title",y),I=Helpers.right(this.options,"titlePosition",g),R=Helpers.right(this.options,"vAxes",v),D=Helpers.right(this.options,"width",C);return w=new BarChartOptions(T,this.options.animation,this.options.annotations,S,b,this.options.bar,this.options.chartArea,$,E,_,k,A,x,F,this.options.hAxis,P,N,this.options.legend,O,H,G,L,I,this.options.titleTextStyle,this.options.tooltip,R,this.options.vAxis,D),new e(this.data,this.typeName,w)}},{key:"animation",value:function(t,n){var i=this.options.animation,r=new TransitionAnimation(Helpers.right(i,"duration",t),Helpers.right(i,"easing",n)),o=new BarChartOptions(this.options.aggregationTarget,r,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bar,this.options.chartArea,this.options.colors,this.options.dataOpacity,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxes,this.options.hAxis,this.options.height,this.options.isStacked,this.options.legend,this.options.reverseCategories,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,o)}},{key:"bar",value:function(t){var n=this.options.bar,i=new GroupWidth(Helpers.right(n,"groupWidth",t)),r=new BarChartOptions(this.options.aggregationTarget,this.options.animation,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,i,this.options.chartArea,this.options.colors,this.options.dataOpacity,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxes,this.options.hAxis,this.options.height,this.options.isStacked,this.options.legend,this.options.reverseCategories,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,r)}},{key:"chartArea",value:function(t,n,i,r){var o=this.options.chartArea,s=new ChartArea(Helpers.right(o,"top",t),Helpers.right(o,"left",n),Helpers.right(o,"width",i),Helpers.right(o,"height",r)),a=new BarChartOptions(this.options.aggregationTarget,this.options.animation,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bar,s,this.options.colors,this.options.dataOpacity,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxes,this.options.hAxis,this.options.height,this.options.isStacked,this.options.legend,this.options.reverseCategories,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,a)}},{key:"hAxis",value:function(t,n,i,r,o,s,a,l,u,c,p,h,d,f,m,y,g,v){var C=this.options.hAxis,w=void 0,T=Helpers.right(C,"baseline",t),S=Helpers.right(C,"baselineColor",n),b=Helpers.right(C,"direction",i),$=Helpers.right(C,"format",r),E=Helpers.right(C,"logScale",o),_=Helpers.right(C,"textPosition",s),k=Helpers.right(C,"ticks",defaultArg(a,null,function(e){return _Array$from(e)})),A=Helpers.right(C,"title",l),x=Helpers.right(C,"allowContainerBoundaryTextCufoff",u),F=Helpers.right(C,"slantedText",c),P=Helpers.right(C,"slantedTextAngle",p),N=Helpers.right(C,"maxAlternation",h),O=Helpers.right(C,"maxTextLines",d),H=Helpers.right(C,"minTextSpacing",f),G=Helpers.right(C,"showTextEvery",m),L=Helpers.right(C,"maxValue",y),I=Helpers.right(C,"minValue",g),R=Helpers.right(C,"viewWindowMode",v);w=new ChartAxis(T,S,b,$,Helpers.copy(C,"gridlines"),Helpers.copy(C,"minorGridlines"),E,_,Helpers.copy(C,"textStyle"),k,A,Helpers.copy(C,"titleTextStyle"),x,F,P,N,O,H,G,L,I,R,Helpers.copy(C,"viewWindow"));var D=new BarChartOptions(this.options.aggregationTarget,this.options.animation,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bar,this.options.chartArea,this.options.colors,this.options.dataOpacity,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxes,w,this.options.height,this.options.isStacked,this.options.legend,this.options.reverseCategories,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,D)}},{key:"legend",value:function(t,n,i,r){var o=this.options.legend,s=void 0,a=Helpers.right(o,"alignment",t),l=Helpers.right(o,"maxLines",n),u=Helpers.right(o,"position",i),c=Helpers.right(o,"numberFormat",r);s=new ChartLegend(a,l,u,Helpers.copy(o,"textStyle"),c);var p=new BarChartOptions(this.options.aggregationTarget,this.options.animation,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bar,this.options.chartArea,this.options.colors,this.options.dataOpacity,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxes,this.options.hAxis,this.options.height,this.options.isStacked,s,this.options.reverseCategories,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,p)}},{key:"titleTextStyle",value:function(t,n,i,r,o,s,a){var l=this.options.titleTextStyle,u=new ChartTextStyle(Helpers.right(l,"fontName",t),Helpers.right(l,"fontSize",n),Helpers.right(l,"bold",i),Helpers.right(l,"italic",r),Helpers.right(l,"color",o),Helpers.right(l,"auraColor",s),Helpers.right(l,"opacity",a)),c=new BarChartOptions(this.options.aggregationTarget,this.options.animation,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bar,this.options.chartArea,this.options.colors,this.options.dataOpacity,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxes,this.options.hAxis,this.options.height,this.options.isStacked,this.options.legend,this.options.reverseCategories,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,u,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,c)}},{key:"tooltip",value:function(t,n,i){var r=this.options.tooltip,o=void 0,s=Helpers.right(r,"isHtml",t),a=Helpers.right(r,"showColorCode",n),l=Helpers.right(r,"trigger",i);o=new ChartTooltip(s,a,Helpers.copy(r,"textStyle"),l);var u=new BarChartOptions(this.options.aggregationTarget,this.options.animation,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bar,this.options.chartArea,this.options.colors,this.options.dataOpacity,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxes,this.options.hAxis,this.options.height,this.options.isStacked,this.options.legend,this.options.reverseCategories,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,o,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,u)}},{key:"vAxis",value:function(t,n,i,r,o,s,a,l,u,c,p,h,d,f,m,y,g,v){var C=this.options.vAxis,w=void 0,T=Helpers.right(C,"baseline",t),S=Helpers.right(C,"baselineColor",n),b=Helpers.right(C,"direction",i),$=Helpers.right(C,"format",r),E=Helpers.right(C,"logScale",o),_=Helpers.right(C,"textPosition",s),k=Helpers.right(C,"ticks",defaultArg(a,null,function(e){return _Array$from(e)})),A=Helpers.right(C,"title",l),x=Helpers.right(C,"allowContainerBoundaryTextCufoff",u),F=Helpers.right(C,"slantedText",c),P=Helpers.right(C,"slantedTextAngle",p),N=Helpers.right(C,"maxAlternation",h),O=Helpers.right(C,"maxTextLines",d),H=Helpers.right(C,"minTextSpacing",f),G=Helpers.right(C,"showTextEvery",m),L=Helpers.right(C,"maxValue",y),I=Helpers.right(C,"minValue",g),R=Helpers.right(C,"viewWindowMode",v);w=new ChartAxis(T,S,b,$,Helpers.copy(C,"gridlines"),Helpers.copy(C,"minorGridlines"),E,_,Helpers.copy(C,"textStyle"),k,A,Helpers.copy(C,"titleTextStyle"),x,F,P,N,O,H,G,L,I,R,Helpers.copy(C,"viewWindow"));var D=new BarChartOptions(this.options.aggregationTarget,this.options.animation,this.options.annotations,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bar,this.options.chartArea,this.options.colors,this.options.dataOpacity,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxes,this.options.hAxis,this.options.height,this.options.isStacked,this.options.legend,this.options.reverseCategories,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,w,this.options.width);return new e(this.data,this.typeName,D)}}]),e}();setType("TheGamma.GoogleCharts.Extensions.Bar",Bar);var Histogram=function(){function e(t,n,i){_classCallCheck(this,e),this.data=t,this.typeName=n,this.options=i}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Extensions.Histogram",interfaces:["FSharpRecord","TheGamma.GoogleCharts.Chart"],properties:{data:ChartData,typeName:"string",options:HistogramOptions}}}},{key:"show",value:function(e){Helpers.showChart(this,e)}},{key:"set",value:function(t,n,i,r,o,s,a,l,u,c,p,h,d,f,m,y,g,v,C){var w=void 0,T=Helpers.right(this.options,"axisTitlesPosition",t),S=Helpers.right(this.options,"backgroundColor",n),b=Helpers.right(this.options,"colors",defaultArg(i,null,function(e){return _Array$from(e)})),$=Helpers.right(this.options,"dataOpacity",r),E=Helpers.right(this.options,"enableInteractivity",o),_=Helpers.right(this.options,"focusTarget",s),k=Helpers.right(this.options,"fontSize",a),A=Helpers.right(this.options,"fontName",l),x=Helpers.right(this.options,"height",u),F=Helpers.right(this.options,"interpolateNulls",c),P=Helpers.right(this.options,"isStacked",p),N=Helpers.right(this.options,"orientation",h),O=Helpers.right(this.options,"reverseCategories",d),H=Helpers.right(this.options,"series",f),G=Helpers.right(this.options,"theme",m),L=Helpers.right(this.options,"title",y),I=Helpers.right(this.options,"titlePosition",g),R=Helpers.right(this.options,"vAxes",v),D=Helpers.right(this.options,"width",C);return w=new HistogramOptions(this.options.animation,T,S,this.options.bar,this.options.chartArea,b,$,E,_,k,A,this.options.hAxis,this.options.histogram,x,F,P,this.options.legend,N,O,H,G,L,I,this.options.titleTextStyle,this.options.tooltip,R,this.options.vAxis,D),new e(this.data,this.typeName,w)}},{key:"animation",value:function(t,n){var i=this.options.animation,r=new TransitionAnimation(Helpers.right(i,"duration",t),Helpers.right(i,"easing",n)),o=new HistogramOptions(r,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bar,this.options.chartArea,this.options.colors,this.options.dataOpacity,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.histogram,this.options.height,this.options.interpolateNulls,this.options.isStacked,this.options.legend,this.options.orientation,this.options.reverseCategories,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,o)}},{key:"bar",value:function(t){var n=this.options.bar,i=new GroupWidth(Helpers.right(n,"groupWidth",t)),r=new HistogramOptions(this.options.animation,this.options.axisTitlesPosition,this.options.backgroundColor,i,this.options.chartArea,this.options.colors,this.options.dataOpacity,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.histogram,this.options.height,this.options.interpolateNulls,this.options.isStacked,this.options.legend,this.options.orientation,this.options.reverseCategories,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,r)}},{key:"chartArea",value:function(t,n,i,r){var o=this.options.chartArea,s=new ChartArea(Helpers.right(o,"top",t),Helpers.right(o,"left",n),Helpers.right(o,"width",i),Helpers.right(o,"height",r)),a=new HistogramOptions(this.options.animation,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bar,s,this.options.colors,this.options.dataOpacity,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.histogram,this.options.height,this.options.interpolateNulls,this.options.isStacked,this.options.legend,this.options.orientation,this.options.reverseCategories,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,a)}},{key:"hAxis",value:function(t,n,i,r,o,s,a,l,u,c,p,h,d,f,m,y,g,v){var C=this.options.hAxis,w=void 0,T=Helpers.right(C,"baseline",t),S=Helpers.right(C,"baselineColor",n),b=Helpers.right(C,"direction",i),$=Helpers.right(C,"format",r),E=Helpers.right(C,"logScale",o),_=Helpers.right(C,"textPosition",s),k=Helpers.right(C,"ticks",defaultArg(a,null,function(e){return _Array$from(e)})),A=Helpers.right(C,"title",l),x=Helpers.right(C,"allowContainerBoundaryTextCufoff",u),F=Helpers.right(C,"slantedText",c),P=Helpers.right(C,"slantedTextAngle",p),N=Helpers.right(C,"maxAlternation",h),O=Helpers.right(C,"maxTextLines",d),H=Helpers.right(C,"minTextSpacing",f),G=Helpers.right(C,"showTextEvery",m),L=Helpers.right(C,"maxValue",y),I=Helpers.right(C,"minValue",g),R=Helpers.right(C,"viewWindowMode",v);w=new ChartAxis(T,S,b,$,Helpers.copy(C,"gridlines"),Helpers.copy(C,"minorGridlines"),E,_,Helpers.copy(C,"textStyle"),k,A,Helpers.copy(C,"titleTextStyle"),x,F,P,N,O,H,G,L,I,R,Helpers.copy(C,"viewWindow"));var D=new HistogramOptions(this.options.animation,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bar,this.options.chartArea,this.options.colors,this.options.dataOpacity,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,w,this.options.histogram,this.options.height,this.options.interpolateNulls,this.options.isStacked,this.options.legend,this.options.orientation,this.options.reverseCategories,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,D)}},{key:"histogram",value:function(t,n,i){var r=this.options.histogram,o=new HistogramHistogram(Helpers.right(r,"bucketSize",t),Helpers.right(r,"hideBucketItems",n),Helpers.right(r,"lastBucketPercentile",i)),s=new HistogramOptions(this.options.animation,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bar,this.options.chartArea,this.options.colors,this.options.dataOpacity,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,o,this.options.height,this.options.interpolateNulls,this.options.isStacked,this.options.legend,this.options.orientation,this.options.reverseCategories,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,s)}},{key:"legend",value:function(t,n,i,r){var o=this.options.legend,s=void 0,a=Helpers.right(o,"alignment",t),l=Helpers.right(o,"maxLines",n),u=Helpers.right(o,"position",i),c=Helpers.right(o,"numberFormat",r);s=new ChartLegend(a,l,u,Helpers.copy(o,"textStyle"),c);var p=new HistogramOptions(this.options.animation,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bar,this.options.chartArea,this.options.colors,this.options.dataOpacity,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.histogram,this.options.height,this.options.interpolateNulls,this.options.isStacked,s,this.options.orientation,this.options.reverseCategories,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,p)}},{key:"titleTextStyle",value:function(t,n,i,r,o,s,a){var l=this.options.titleTextStyle,u=new ChartTextStyle(Helpers.right(l,"fontName",t),Helpers.right(l,"fontSize",n),Helpers.right(l,"bold",i),Helpers.right(l,"italic",r),Helpers.right(l,"color",o),Helpers.right(l,"auraColor",s),Helpers.right(l,"opacity",a)),c=new HistogramOptions(this.options.animation,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bar,this.options.chartArea,this.options.colors,this.options.dataOpacity,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.histogram,this.options.height,this.options.interpolateNulls,this.options.isStacked,this.options.legend,this.options.orientation,this.options.reverseCategories,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,u,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,c)}},{key:"tooltip",value:function(t,n,i){var r=this.options.tooltip,o=void 0,s=Helpers.right(r,"isHtml",t),a=Helpers.right(r,"showColorCode",n),l=Helpers.right(r,"trigger",i);o=new ChartTooltip(s,a,Helpers.copy(r,"textStyle"),l);var u=new HistogramOptions(this.options.animation,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bar,this.options.chartArea,this.options.colors,this.options.dataOpacity,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.histogram,this.options.height,this.options.interpolateNulls,this.options.isStacked,this.options.legend,this.options.orientation,this.options.reverseCategories,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,o,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,u)}},{key:"vAxis",value:function(t,n,i,r,o,s,a,l,u,c,p,h,d,f,m,y,g,v){var C=this.options.vAxis,w=void 0,T=Helpers.right(C,"baseline",t),S=Helpers.right(C,"baselineColor",n),b=Helpers.right(C,"direction",i),$=Helpers.right(C,"format",r),E=Helpers.right(C,"logScale",o),_=Helpers.right(C,"textPosition",s),k=Helpers.right(C,"ticks",defaultArg(a,null,function(e){return _Array$from(e)})),A=Helpers.right(C,"title",l),x=Helpers.right(C,"allowContainerBoundaryTextCufoff",u),F=Helpers.right(C,"slantedText",c),P=Helpers.right(C,"slantedTextAngle",p),N=Helpers.right(C,"maxAlternation",h),O=Helpers.right(C,"maxTextLines",d),H=Helpers.right(C,"minTextSpacing",f),G=Helpers.right(C,"showTextEvery",m),L=Helpers.right(C,"maxValue",y),I=Helpers.right(C,"minValue",g),R=Helpers.right(C,"viewWindowMode",v);w=new ChartAxis(T,S,b,$,Helpers.copy(C,"gridlines"),Helpers.copy(C,"minorGridlines"),E,_,Helpers.copy(C,"textStyle"),k,A,Helpers.copy(C,"titleTextStyle"),x,F,P,N,O,H,G,L,I,R,Helpers.copy(C,"viewWindow"));var D=new HistogramOptions(this.options.animation,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bar,this.options.chartArea,this.options.colors,this.options.dataOpacity,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.histogram,this.options.height,this.options.interpolateNulls,this.options.isStacked,this.options.legend,this.options.orientation,this.options.reverseCategories,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,w,this.options.width);return new e(this.data,this.typeName,D)}}]),e}();setType("TheGamma.GoogleCharts.Extensions.Histogram",Histogram);var Area=function(){function e(t,n,i){_classCallCheck(this,e),this.data=t,this.typeName=n,this.options=i}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Extensions.Area",interfaces:["FSharpRecord","TheGamma.GoogleCharts.Chart"],properties:{data:ChartData,typeName:"string",options:AreaChartOptions}}}},{key:"show",value:function(e){Helpers.showChart(this,e)}},{key:"set",value:function(t,n,i,r,o,s,a,l,u,c,p,h,d,f,m,y,g,v,C,w,T,S,b,$){var E=void 0,_=Helpers.right(this.options,"aggregationTarget",t),k=Helpers.right(this.options,"areaOpacity",n),A=Helpers.right(this.options,"axisTitlesPosition",i),x=Helpers.right(this.options,"backgroundColor",r),F=Helpers.right(this.options,"colors",defaultArg(o,null,function(e){return _Array$from(e)})),P=Helpers.right(this.options,"dataOpacity",s),N=Helpers.right(this.options,"enableInteractivity",a),O=Helpers.right(this.options,"focusTarget",l),H=Helpers.right(this.options,"fontSize",u),G=Helpers.right(this.options,"fontName",c),L=Helpers.right(this.options,"height",p),I=Helpers.right(this.options,"interpolateNulls",h),R=Helpers.right(this.options,"isStacked",d),D=Helpers.right(this.options,"lineWidth",f),M=Helpers.right(this.options,"orientation",m),B=Helpers.right(this.options,"pointSize",y),q=Helpers.right(this.options,"reverseCategories",g),V=Helpers.right(this.options,"selectionMode",v),j=Helpers.right(this.options,"series",C),z=Helpers.right(this.options,"theme",w),W=Helpers.right(this.options,"title",T),U=Helpers.right(this.options,"titlePosition",S),K=Helpers.right(this.options,"vAxes",b),Z=Helpers.right(this.options,"width",$);return E=new AreaChartOptions(_,this.options.animation,k,A,x,this.options.chartArea,F,this.options.crosshair,P,N,this.options.explorer,O,H,G,this.options.hAxis,L,I,R,this.options.legend,D,M,B,q,V,j,z,W,U,this.options.titleTextStyle,this.options.tooltip,K,this.options.vAxis,Z),new e(this.data,this.typeName,E)}},{key:"animation",value:function(t,n){var i=this.options.animation,r=new TransitionAnimation(Helpers.right(i,"duration",t),Helpers.right(i,"easing",n)),o=new AreaChartOptions(this.options.aggregationTarget,r,this.options.areaOpacity,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.chartArea,this.options.colors,this.options.crosshair,this.options.dataOpacity,this.options.enableInteractivity,this.options.explorer,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.interpolateNulls,this.options.isStacked,this.options.legend,this.options.lineWidth,this.options.orientation,this.options.pointSize,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,o)}},{key:"chartArea",value:function(t,n,i,r){var o=this.options.chartArea,s=new ChartArea(Helpers.right(o,"top",t),Helpers.right(o,"left",n),Helpers.right(o,"width",i),Helpers.right(o,"height",r)),a=new AreaChartOptions(this.options.aggregationTarget,this.options.animation,this.options.areaOpacity,this.options.axisTitlesPosition,this.options.backgroundColor,s,this.options.colors,this.options.crosshair,this.options.dataOpacity,this.options.enableInteractivity,this.options.explorer,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.interpolateNulls,this.options.isStacked,this.options.legend,this.options.lineWidth,this.options.orientation,this.options.pointSize,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,a)}},{key:"crosshair",value:function(t,n,i,r){var o=this.options.crosshair,s=void 0,a=Helpers.right(o,"color",t),l=Helpers.right(o,"opacity",n),u=Helpers.right(o,"orientation",i),c=Helpers.right(o,"trigger",r);s=new ChartCrosshair(a,Helpers.copy(o,"focused"),l,u,Helpers.copy(o,"selected"),c);var p=new AreaChartOptions(this.options.aggregationTarget,this.options.animation,this.options.areaOpacity,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.chartArea,this.options.colors,s,this.options.dataOpacity,this.options.enableInteractivity,this.options.explorer,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.interpolateNulls,this.options.isStacked,this.options.legend,this.options.lineWidth,this.options.orientation,this.options.pointSize,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,p)}},{key:"explorer",value:function(t,n,i,r,o,s){var a=this.options.explorer,l=new ChartExplorer(Helpers.right(a,"actions",defaultArg(t,null,function(e){return _Array$from(e)})),Helpers.right(a,"axis",n),Helpers.right(a,"keepInBounds",i),Helpers.right(a,"maxZoomIn",r),Helpers.right(a,"maxZoomOut",o),Helpers.right(a,"zoomDelta",s)),u=new AreaChartOptions(this.options.aggregationTarget,this.options.animation,this.options.areaOpacity,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.chartArea,this.options.colors,this.options.crosshair,this.options.dataOpacity,this.options.enableInteractivity,l,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.interpolateNulls,this.options.isStacked,this.options.legend,this.options.lineWidth,this.options.orientation,this.options.pointSize,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);
return new e(this.data,this.typeName,u)}},{key:"hAxis",value:function(t,n,i,r,o,s,a,l,u,c,p,h,d,f,m,y,g,v){var C=this.options.hAxis,w=void 0,T=Helpers.right(C,"baseline",t),S=Helpers.right(C,"baselineColor",n),b=Helpers.right(C,"direction",i),$=Helpers.right(C,"format",r),E=Helpers.right(C,"logScale",o),_=Helpers.right(C,"textPosition",s),k=Helpers.right(C,"ticks",defaultArg(a,null,function(e){return _Array$from(e)})),A=Helpers.right(C,"title",l),x=Helpers.right(C,"allowContainerBoundaryTextCufoff",u),F=Helpers.right(C,"slantedText",c),P=Helpers.right(C,"slantedTextAngle",p),N=Helpers.right(C,"maxAlternation",h),O=Helpers.right(C,"maxTextLines",d),H=Helpers.right(C,"minTextSpacing",f),G=Helpers.right(C,"showTextEvery",m),L=Helpers.right(C,"maxValue",y),I=Helpers.right(C,"minValue",g),R=Helpers.right(C,"viewWindowMode",v);w=new ChartAxis(T,S,b,$,Helpers.copy(C,"gridlines"),Helpers.copy(C,"minorGridlines"),E,_,Helpers.copy(C,"textStyle"),k,A,Helpers.copy(C,"titleTextStyle"),x,F,P,N,O,H,G,L,I,R,Helpers.copy(C,"viewWindow"));var D=new AreaChartOptions(this.options.aggregationTarget,this.options.animation,this.options.areaOpacity,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.chartArea,this.options.colors,this.options.crosshair,this.options.dataOpacity,this.options.enableInteractivity,this.options.explorer,this.options.focusTarget,this.options.fontSize,this.options.fontName,w,this.options.height,this.options.interpolateNulls,this.options.isStacked,this.options.legend,this.options.lineWidth,this.options.orientation,this.options.pointSize,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,D)}},{key:"legend",value:function(t,n,i,r){var o=this.options.legend,s=void 0,a=Helpers.right(o,"alignment",t),l=Helpers.right(o,"maxLines",n),u=Helpers.right(o,"position",i),c=Helpers.right(o,"numberFormat",r);s=new ChartLegend(a,l,u,Helpers.copy(o,"textStyle"),c);var p=new AreaChartOptions(this.options.aggregationTarget,this.options.animation,this.options.areaOpacity,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.chartArea,this.options.colors,this.options.crosshair,this.options.dataOpacity,this.options.enableInteractivity,this.options.explorer,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.interpolateNulls,this.options.isStacked,s,this.options.lineWidth,this.options.orientation,this.options.pointSize,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,p)}},{key:"titleTextStyle",value:function(t,n,i,r,o,s,a){var l=this.options.titleTextStyle,u=new ChartTextStyle(Helpers.right(l,"fontName",t),Helpers.right(l,"fontSize",n),Helpers.right(l,"bold",i),Helpers.right(l,"italic",r),Helpers.right(l,"color",o),Helpers.right(l,"auraColor",s),Helpers.right(l,"opacity",a)),c=new AreaChartOptions(this.options.aggregationTarget,this.options.animation,this.options.areaOpacity,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.chartArea,this.options.colors,this.options.crosshair,this.options.dataOpacity,this.options.enableInteractivity,this.options.explorer,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.interpolateNulls,this.options.isStacked,this.options.legend,this.options.lineWidth,this.options.orientation,this.options.pointSize,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,u,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,c)}},{key:"tooltip",value:function(t,n,i){var r=this.options.tooltip,o=void 0,s=Helpers.right(r,"isHtml",t),a=Helpers.right(r,"showColorCode",n),l=Helpers.right(r,"trigger",i);o=new ChartTooltip(s,a,Helpers.copy(r,"textStyle"),l);var u=new AreaChartOptions(this.options.aggregationTarget,this.options.animation,this.options.areaOpacity,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.chartArea,this.options.colors,this.options.crosshair,this.options.dataOpacity,this.options.enableInteractivity,this.options.explorer,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.interpolateNulls,this.options.isStacked,this.options.legend,this.options.lineWidth,this.options.orientation,this.options.pointSize,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,o,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,u)}},{key:"vAxis",value:function(t,n,i,r,o,s,a,l,u,c,p,h,d,f,m,y,g,v){var C=this.options.vAxis,w=void 0,T=Helpers.right(C,"baseline",t),S=Helpers.right(C,"baselineColor",n),b=Helpers.right(C,"direction",i),$=Helpers.right(C,"format",r),E=Helpers.right(C,"logScale",o),_=Helpers.right(C,"textPosition",s),k=Helpers.right(C,"ticks",defaultArg(a,null,function(e){return _Array$from(e)})),A=Helpers.right(C,"title",l),x=Helpers.right(C,"allowContainerBoundaryTextCufoff",u),F=Helpers.right(C,"slantedText",c),P=Helpers.right(C,"slantedTextAngle",p),N=Helpers.right(C,"maxAlternation",h),O=Helpers.right(C,"maxTextLines",d),H=Helpers.right(C,"minTextSpacing",f),G=Helpers.right(C,"showTextEvery",m),L=Helpers.right(C,"maxValue",y),I=Helpers.right(C,"minValue",g),R=Helpers.right(C,"viewWindowMode",v);w=new ChartAxis(T,S,b,$,Helpers.copy(C,"gridlines"),Helpers.copy(C,"minorGridlines"),E,_,Helpers.copy(C,"textStyle"),k,A,Helpers.copy(C,"titleTextStyle"),x,F,P,N,O,H,G,L,I,R,Helpers.copy(C,"viewWindow"));var D=new AreaChartOptions(this.options.aggregationTarget,this.options.animation,this.options.areaOpacity,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.chartArea,this.options.colors,this.options.crosshair,this.options.dataOpacity,this.options.enableInteractivity,this.options.explorer,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.interpolateNulls,this.options.isStacked,this.options.legend,this.options.lineWidth,this.options.orientation,this.options.pointSize,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,w,this.options.width);return new e(this.data,this.typeName,D)}}]),e}();setType("TheGamma.GoogleCharts.Extensions.Area",Area);var Annotation=function(){function e(t,n,i){_classCallCheck(this,e),this.data=t,this.typeName=n,this.options=i}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Extensions.Annotation",interfaces:["FSharpRecord","TheGamma.GoogleCharts.Chart"],properties:{data:ChartData,typeName:"string",options:AnnotationChartOptions}}}},{key:"show",value:function(e){Helpers.showChart(this,e)}},{key:"set",value:function(t,n,i,r,o,s,a,l,u,c,p,h,d,f,m,y,g,v,C,w,T,S,b,$){var E=new AnnotationChartOptions(Helpers.right(this.options,"allowHtml",t),Helpers.right(this.options,"allValuesSuffix",n),Helpers.right(this.options,"annotationsWidth",i),Helpers.right(this.options,"colors",defaultArg(r,null,function(e){return _Array$from(e)})),Helpers.right(this.options,"dateFormat",o),Helpers.right(this.options,"displayAnnotations",s),Helpers.right(this.options,"displayAnnotationsFilter",a),Helpers.right(this.options,"displayDateTimeBarSeparator",l),Helpers.right(this.options,"displayExactValues",u),Helpers.right(this.options,"displayLegendDots",c),Helpers.right(this.options,"displayLegendValues",p),Helpers.right(this.options,"displayRangeSelector",h),Helpers.right(this.options,"displayZoomButtons",d),Helpers.right(this.options,"fill",f),Helpers.right(this.options,"legendPosition",m),Helpers.right(this.options,"max",y),Helpers.right(this.options,"min",g),Helpers.right(this.options,"numberFormats",v),Helpers.right(this.options,"scaleColumns",defaultArg(C,null,function(e){return Float64Array.from(e)})),Helpers.right(this.options,"scaleFormat",w),Helpers.right(this.options,"scaleType",T),Helpers.right(this.options,"thickness",S),Helpers.right(this.options,"zoomEndTime",b),Helpers.right(this.options,"zoomStartTime",$));return new e(this.data,this.typeName,E)}}]),e}();setType("TheGamma.GoogleCharts.Extensions.Annotation",Annotation);var SteppedArea=function(){function e(t,n,i){_classCallCheck(this,e),this.data=t,this.typeName=n,this.options=i}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Extensions.SteppedArea",interfaces:["FSharpRecord","TheGamma.GoogleCharts.Chart"],properties:{data:ChartData,typeName:"string",options:SteppedAreaChartOptions}}}},{key:"show",value:function(e){Helpers.showChart(this,e)}},{key:"set",value:function(t,n,i,r,o,s,a,l,u,c,p,h,d,f,m,y,g,v,C,w,T){var S=void 0,b=Helpers.right(this.options,"aggregationTarget",t),$=Helpers.right(this.options,"areaOpacity",n),E=Helpers.right(this.options,"axisTitlesPosition",i),_=Helpers.right(this.options,"backgroundColor",r),k=Helpers.right(this.options,"colors",defaultArg(o,null,function(e){return _Array$from(e)})),A=Helpers.right(this.options,"connectSteps",s),x=Helpers.right(this.options,"enableInteractivity",a),F=Helpers.right(this.options,"focusTarget",l),P=Helpers.right(this.options,"fontSize",u),N=Helpers.right(this.options,"fontName",c),O=Helpers.right(this.options,"height",p),H=Helpers.right(this.options,"interpolateNulls",h),G=Helpers.right(this.options,"isStacked",d),L=Helpers.right(this.options,"reverseCategories",f),I=Helpers.right(this.options,"selectionMode",m),R=Helpers.right(this.options,"series",y),D=Helpers.right(this.options,"theme",g),M=Helpers.right(this.options,"title",v),B=Helpers.right(this.options,"titlePosition",C),q=Helpers.right(this.options,"vAxes",w),V=Helpers.right(this.options,"width",T);return S=new SteppedAreaChartOptions(b,this.options.animation,$,E,_,this.options.chartArea,k,A,x,F,P,N,this.options.hAxis,O,H,G,this.options.legend,L,I,R,D,M,B,this.options.titleTextStyle,this.options.tooltip,q,this.options.vAxis,V),new e(this.data,this.typeName,S)}},{key:"animation",value:function(t,n){var i=this.options.animation,r=new TransitionAnimation(Helpers.right(i,"duration",t),Helpers.right(i,"easing",n)),o=new SteppedAreaChartOptions(this.options.aggregationTarget,r,this.options.areaOpacity,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.chartArea,this.options.colors,this.options.connectSteps,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.interpolateNulls,this.options.isStacked,this.options.legend,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,o)}},{key:"chartArea",value:function(t,n,i,r){var o=this.options.chartArea,s=new ChartArea(Helpers.right(o,"top",t),Helpers.right(o,"left",n),Helpers.right(o,"width",i),Helpers.right(o,"height",r)),a=new SteppedAreaChartOptions(this.options.aggregationTarget,this.options.animation,this.options.areaOpacity,this.options.axisTitlesPosition,this.options.backgroundColor,s,this.options.colors,this.options.connectSteps,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.interpolateNulls,this.options.isStacked,this.options.legend,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,a)}},{key:"hAxis",value:function(t,n,i,r,o,s,a,l,u,c,p,h,d,f,m,y,g,v){var C=this.options.hAxis,w=void 0,T=Helpers.right(C,"baseline",t),S=Helpers.right(C,"baselineColor",n),b=Helpers.right(C,"direction",i),$=Helpers.right(C,"format",r),E=Helpers.right(C,"logScale",o),_=Helpers.right(C,"textPosition",s),k=Helpers.right(C,"ticks",defaultArg(a,null,function(e){return _Array$from(e)})),A=Helpers.right(C,"title",l),x=Helpers.right(C,"allowContainerBoundaryTextCufoff",u),F=Helpers.right(C,"slantedText",c),P=Helpers.right(C,"slantedTextAngle",p),N=Helpers.right(C,"maxAlternation",h),O=Helpers.right(C,"maxTextLines",d),H=Helpers.right(C,"minTextSpacing",f),G=Helpers.right(C,"showTextEvery",m),L=Helpers.right(C,"maxValue",y),I=Helpers.right(C,"minValue",g),R=Helpers.right(C,"viewWindowMode",v);w=new ChartAxis(T,S,b,$,Helpers.copy(C,"gridlines"),Helpers.copy(C,"minorGridlines"),E,_,Helpers.copy(C,"textStyle"),k,A,Helpers.copy(C,"titleTextStyle"),x,F,P,N,O,H,G,L,I,R,Helpers.copy(C,"viewWindow"));var D=new SteppedAreaChartOptions(this.options.aggregationTarget,this.options.animation,this.options.areaOpacity,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.chartArea,this.options.colors,this.options.connectSteps,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,w,this.options.height,this.options.interpolateNulls,this.options.isStacked,this.options.legend,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,D)}},{key:"legend",value:function(t,n,i,r){var o=this.options.legend,s=void 0,a=Helpers.right(o,"alignment",t),l=Helpers.right(o,"maxLines",n),u=Helpers.right(o,"position",i),c=Helpers.right(o,"numberFormat",r);s=new ChartLegend(a,l,u,Helpers.copy(o,"textStyle"),c);var p=new SteppedAreaChartOptions(this.options.aggregationTarget,this.options.animation,this.options.areaOpacity,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.chartArea,this.options.colors,this.options.connectSteps,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.interpolateNulls,this.options.isStacked,s,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,p)}},{key:"titleTextStyle",value:function(t,n,i,r,o,s,a){var l=this.options.titleTextStyle,u=new ChartTextStyle(Helpers.right(l,"fontName",t),Helpers.right(l,"fontSize",n),Helpers.right(l,"bold",i),Helpers.right(l,"italic",r),Helpers.right(l,"color",o),Helpers.right(l,"auraColor",s),Helpers.right(l,"opacity",a)),c=new SteppedAreaChartOptions(this.options.aggregationTarget,this.options.animation,this.options.areaOpacity,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.chartArea,this.options.colors,this.options.connectSteps,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.interpolateNulls,this.options.isStacked,this.options.legend,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,u,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,c)}},{key:"tooltip",value:function(t,n,i){var r=this.options.tooltip,o=void 0,s=Helpers.right(r,"isHtml",t),a=Helpers.right(r,"showColorCode",n),l=Helpers.right(r,"trigger",i);o=new ChartTooltip(s,a,Helpers.copy(r,"textStyle"),l);var u=new SteppedAreaChartOptions(this.options.aggregationTarget,this.options.animation,this.options.areaOpacity,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.chartArea,this.options.colors,this.options.connectSteps,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.interpolateNulls,this.options.isStacked,this.options.legend,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,o,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,u)}},{key:"vAxis",value:function(t,n,i,r,o,s,a,l,u,c,p,h,d,f,m,y,g,v){var C=this.options.vAxis,w=void 0,T=Helpers.right(C,"baseline",t),S=Helpers.right(C,"baselineColor",n),b=Helpers.right(C,"direction",i),$=Helpers.right(C,"format",r),E=Helpers.right(C,"logScale",o),_=Helpers.right(C,"textPosition",s),k=Helpers.right(C,"ticks",defaultArg(a,null,function(e){return _Array$from(e)})),A=Helpers.right(C,"title",l),x=Helpers.right(C,"allowContainerBoundaryTextCufoff",u),F=Helpers.right(C,"slantedText",c),P=Helpers.right(C,"slantedTextAngle",p),N=Helpers.right(C,"maxAlternation",h),O=Helpers.right(C,"maxTextLines",d),H=Helpers.right(C,"minTextSpacing",f),G=Helpers.right(C,"showTextEvery",m),L=Helpers.right(C,"maxValue",y),I=Helpers.right(C,"minValue",g),R=Helpers.right(C,"viewWindowMode",v);w=new ChartAxis(T,S,b,$,Helpers.copy(C,"gridlines"),Helpers.copy(C,"minorGridlines"),E,_,Helpers.copy(C,"textStyle"),k,A,Helpers.copy(C,"titleTextStyle"),x,F,P,N,O,H,G,L,I,R,Helpers.copy(C,"viewWindow"));var D=new SteppedAreaChartOptions(this.options.aggregationTarget,this.options.animation,this.options.areaOpacity,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.chartArea,this.options.colors,this.options.connectSteps,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.interpolateNulls,this.options.isStacked,this.options.legend,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,w,this.options.width);return new e(this.data,this.typeName,D)}}]),e}();setType("TheGamma.GoogleCharts.Extensions.SteppedArea",SteppedArea);var Pie=function(){function e(t,n,i){_classCallCheck(this,e),this.data=t,this.typeName=n,this.options=i}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Extensions.Pie",interfaces:["FSharpRecord","TheGamma.GoogleCharts.Chart"],properties:{data:ChartData,typeName:"string",options:PieChartOptions}}}},{key:"show",value:function(e){Helpers.showChart(this,e)}},{key:"set",value:function(t,n,i,r,o,s,a,l,u,c,p,h,d,f,m,y,g,v){var C=void 0,w=Helpers.right(this.options,"backgroundColor",t),T=Helpers.right(this.options,"colors",defaultArg(n,null,function(e){return _Array$from(e)})),S=Helpers.right(this.options,"enableInteractivity",i),b=Helpers.right(this.options,"fontSize",r),$=Helpers.right(this.options,"fontName",o),E=Helpers.right(this.options,"height",s),_=Helpers.right(this.options,"is3D",a),k=Helpers.right(this.options,"pieHole",l),A=Helpers.right(this.options,"pieSliceBorderColor",u),x=Helpers.right(this.options,"pieSliceText",c),F=Helpers.right(this.options,"pieStartAngle",p),P=Helpers.right(this.options,"reverseCategories",h),N=Helpers.right(this.options,"pieResidueSliceColor",d),O=Helpers.right(this.options,"pieResidueSliceLabel",f),H=Helpers.right(this.options,"slices",m),G=Helpers.right(this.options,"sliceVisibilityThreshold",y),L=Helpers.right(this.options,"title",g),I=Helpers.right(this.options,"width",v);return C=new PieChartOptions(w,this.options.chartArea,T,S,b,$,E,_,this.options.legend,k,A,x,this.options.pieSliceTextStyle,F,P,N,O,H,G,L,this.options.titleTextStyle,this.options.tooltip,I),new e(this.data,this.typeName,C)}},{key:"chartArea",value:function(t,n,i,r){var o=this.options.chartArea,s=new ChartArea(Helpers.right(o,"top",t),Helpers.right(o,"left",n),Helpers.right(o,"width",i),Helpers.right(o,"height",r)),a=new PieChartOptions(this.options.backgroundColor,s,this.options.colors,this.options.enableInteractivity,this.options.fontSize,this.options.fontName,this.options.height,this.options.is3D,this.options.legend,this.options.pieHole,this.options.pieSliceBorderColor,this.options.pieSliceText,this.options.pieSliceTextStyle,this.options.pieStartAngle,this.options.reverseCategories,this.options.pieResidueSliceColor,this.options.pieResidueSliceLabel,this.options.slices,this.options.sliceVisibilityThreshold,this.options.title,this.options.titleTextStyle,this.options.tooltip,this.options.width);return new e(this.data,this.typeName,a)}},{key:"legend",value:function(t,n,i,r){var o=this.options.legend,s=void 0,a=Helpers.right(o,"alignment",t),l=Helpers.right(o,"maxLines",n),u=Helpers.right(o,"position",i),c=Helpers.right(o,"numberFormat",r);s=new ChartLegend(a,l,u,Helpers.copy(o,"textStyle"),c);var p=new PieChartOptions(this.options.backgroundColor,this.options.chartArea,this.options.colors,this.options.enableInteractivity,this.options.fontSize,this.options.fontName,this.options.height,this.options.is3D,s,this.options.pieHole,this.options.pieSliceBorderColor,this.options.pieSliceText,this.options.pieSliceTextStyle,this.options.pieStartAngle,this.options.reverseCategories,this.options.pieResidueSliceColor,this.options.pieResidueSliceLabel,this.options.slices,this.options.sliceVisibilityThreshold,this.options.title,this.options.titleTextStyle,this.options.tooltip,this.options.width);return new e(this.data,this.typeName,p)}},{key:"pieSliceTextStyle",value:function(t,n,i,r,o,s,a){var l=this.options.pieSliceTextStyle,u=new ChartTextStyle(Helpers.right(l,"fontName",t),Helpers.right(l,"fontSize",n),Helpers.right(l,"bold",i),Helpers.right(l,"italic",r),Helpers.right(l,"color",o),Helpers.right(l,"auraColor",s),Helpers.right(l,"opacity",a)),c=new PieChartOptions(this.options.backgroundColor,this.options.chartArea,this.options.colors,this.options.enableInteractivity,this.options.fontSize,this.options.fontName,this.options.height,this.options.is3D,this.options.legend,this.options.pieHole,this.options.pieSliceBorderColor,this.options.pieSliceText,u,this.options.pieStartAngle,this.options.reverseCategories,this.options.pieResidueSliceColor,this.options.pieResidueSliceLabel,this.options.slices,this.options.sliceVisibilityThreshold,this.options.title,this.options.titleTextStyle,this.options.tooltip,this.options.width);return new e(this.data,this.typeName,c)}},{key:"titleTextStyle",value:function(t,n,i,r,o,s,a){var l=this.options.titleTextStyle,u=new ChartTextStyle(Helpers.right(l,"fontName",t),Helpers.right(l,"fontSize",n),Helpers.right(l,"bold",i),Helpers.right(l,"italic",r),Helpers.right(l,"color",o),Helpers.right(l,"auraColor",s),Helpers.right(l,"opacity",a)),c=new PieChartOptions(this.options.backgroundColor,this.options.chartArea,this.options.colors,this.options.enableInteractivity,this.options.fontSize,this.options.fontName,this.options.height,this.options.is3D,this.options.legend,this.options.pieHole,this.options.pieSliceBorderColor,this.options.pieSliceText,this.options.pieSliceTextStyle,this.options.pieStartAngle,this.options.reverseCategories,this.options.pieResidueSliceColor,this.options.pieResidueSliceLabel,this.options.slices,this.options.sliceVisibilityThreshold,this.options.title,u,this.options.tooltip,this.options.width);return new e(this.data,this.typeName,c)}},{key:"tooltip",value:function(t,n,i){var r=this.options.tooltip,o=void 0,s=Helpers.right(r,"isHtml",t),a=Helpers.right(r,"showColorCode",n),l=Helpers.right(r,"trigger",i);o=new ChartTooltip(s,a,Helpers.copy(r,"textStyle"),l);var u=new PieChartOptions(this.options.backgroundColor,this.options.chartArea,this.options.colors,this.options.enableInteractivity,this.options.fontSize,this.options.fontName,this.options.height,this.options.is3D,this.options.legend,this.options.pieHole,this.options.pieSliceBorderColor,this.options.pieSliceText,this.options.pieSliceTextStyle,this.options.pieStartAngle,this.options.reverseCategories,this.options.pieResidueSliceColor,this.options.pieResidueSliceLabel,this.options.slices,this.options.sliceVisibilityThreshold,this.options.title,this.options.titleTextStyle,o,this.options.width);return new e(this.data,this.typeName,u)}}]),e}();setType("TheGamma.GoogleCharts.Extensions.Pie",Pie);var Bubble=function(){function e(t,n,i){_classCallCheck(this,e),this.data=t,this.typeName=n,this.options=i}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Extensions.Bubble",interfaces:["FSharpRecord","TheGamma.GoogleCharts.Chart"],properties:{data:ChartData,typeName:"string",options:BubbleChartOptions}}}},{key:"show",value:function(e){Helpers.showChart(this,e)}},{key:"set",value:function(t,n,i,r,o,s,a,l,u,c,p,h,d,f,m){var y=void 0,g=Helpers.right(this.options,"axisTitlesPosition",t),v=Helpers.right(this.options,"backgroundColor",n),C=Helpers.right(this.options,"colors",defaultArg(i,null,function(e){return _Array$from(e)})),w=Helpers.right(this.options,"enableInteractivity",r),T=Helpers.right(this.options,"fontSize",o),S=Helpers.right(this.options,"fontName",s),b=Helpers.right(this.options,"forceIFrame",a),$=Helpers.right(this.options,"height",l),E=Helpers.right(this.options,"selectionMode",u),_=Helpers.right(this.options,"series",c),k=Helpers.right(this.options,"sortBubblesBySize",p),A=Helpers.right(this.options,"theme",h),x=Helpers.right(this.options,"title",d),F=Helpers.right(this.options,"titlePosition",f),P=Helpers.right(this.options,"width",m);return y=new BubbleChartOptions(this.options.animation,g,v,this.options.bubble,this.options.chartArea,C,this.options.colorAxis,w,this.options.explorer,T,S,b,this.options.hAxis,$,this.options.legend,E,_,this.options.sizeAxis,k,A,x,F,this.options.titleTextStyle,this.options.tooltip,this.options.vAxis,P),new e(this.data,this.typeName,y)}},{key:"animation",value:function(t,n){var i=this.options.animation,r=new TransitionAnimation(Helpers.right(i,"duration",t),Helpers.right(i,"easing",n)),o=new BubbleChartOptions(r,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bubble,this.options.chartArea,this.options.colors,this.options.colorAxis,this.options.enableInteractivity,this.options.explorer,this.options.fontSize,this.options.fontName,this.options.forceIFrame,this.options.hAxis,this.options.height,this.options.legend,this.options.selectionMode,this.options.series,this.options.sizeAxis,this.options.sortBubblesBySize,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,o)}},{key:"bubble",value:function(t,n){var i=this.options.bubble,r=new ChartBubble(Helpers.right(i,"opacity",t),Helpers.right(i,"stroke",n),Helpers.copy(i,"textStyle")),o=new BubbleChartOptions(this.options.animation,this.options.axisTitlesPosition,this.options.backgroundColor,r,this.options.chartArea,this.options.colors,this.options.colorAxis,this.options.enableInteractivity,this.options.explorer,this.options.fontSize,this.options.fontName,this.options.forceIFrame,this.options.hAxis,this.options.height,this.options.legend,this.options.selectionMode,this.options.series,this.options.sizeAxis,this.options.sortBubblesBySize,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,o)}},{key:"chartArea",value:function(t,n,i,r){var o=this.options.chartArea,s=new ChartArea(Helpers.right(o,"top",t),Helpers.right(o,"left",n),Helpers.right(o,"width",i),Helpers.right(o,"height",r)),a=new BubbleChartOptions(this.options.animation,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bubble,s,this.options.colors,this.options.colorAxis,this.options.enableInteractivity,this.options.explorer,this.options.fontSize,this.options.fontName,this.options.forceIFrame,this.options.hAxis,this.options.height,this.options.legend,this.options.selectionMode,this.options.series,this.options.sizeAxis,this.options.sortBubblesBySize,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,a)}},{key:"colorAxis",value:function(t,n,i,r){var o=this.options.colorAxis,s=new ChartColorAxis(Helpers.right(o,"minValue",t),Helpers.right(o,"maxValue",n),Helpers.right(o,"values",defaultArg(i,null,function(e){return Float64Array.from(e)})),Helpers.right(o,"colors",defaultArg(r,null,function(e){return _Array$from(e)})),Helpers.copy(o,"legend")),a=new BubbleChartOptions(this.options.animation,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bubble,this.options.chartArea,this.options.colors,s,this.options.enableInteractivity,this.options.explorer,this.options.fontSize,this.options.fontName,this.options.forceIFrame,this.options.hAxis,this.options.height,this.options.legend,this.options.selectionMode,this.options.series,this.options.sizeAxis,this.options.sortBubblesBySize,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,a)}},{key:"explorer",value:function(t,n,i,r,o,s){var a=this.options.explorer,l=new ChartExplorer(Helpers.right(a,"actions",defaultArg(t,null,function(e){return _Array$from(e)})),Helpers.right(a,"axis",n),Helpers.right(a,"keepInBounds",i),Helpers.right(a,"maxZoomIn",r),Helpers.right(a,"maxZoomOut",o),Helpers.right(a,"zoomDelta",s)),u=new BubbleChartOptions(this.options.animation,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bubble,this.options.chartArea,this.options.colors,this.options.colorAxis,this.options.enableInteractivity,l,this.options.fontSize,this.options.fontName,this.options.forceIFrame,this.options.hAxis,this.options.height,this.options.legend,this.options.selectionMode,this.options.series,this.options.sizeAxis,this.options.sortBubblesBySize,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,u)}},{key:"hAxis",value:function(t,n,i,r,o,s,a,l,u,c,p,h,d,f,m,y,g,v){var C=this.options.hAxis,w=void 0,T=Helpers.right(C,"baseline",t),S=Helpers.right(C,"baselineColor",n),b=Helpers.right(C,"direction",i),$=Helpers.right(C,"format",r),E=Helpers.right(C,"logScale",o),_=Helpers.right(C,"textPosition",s),k=Helpers.right(C,"ticks",defaultArg(a,null,function(e){return _Array$from(e)})),A=Helpers.right(C,"title",l),x=Helpers.right(C,"allowContainerBoundaryTextCufoff",u),F=Helpers.right(C,"slantedText",c),P=Helpers.right(C,"slantedTextAngle",p),N=Helpers.right(C,"maxAlternation",h),O=Helpers.right(C,"maxTextLines",d),H=Helpers.right(C,"minTextSpacing",f),G=Helpers.right(C,"showTextEvery",m),L=Helpers.right(C,"maxValue",y),I=Helpers.right(C,"minValue",g),R=Helpers.right(C,"viewWindowMode",v);w=new ChartAxis(T,S,b,$,Helpers.copy(C,"gridlines"),Helpers.copy(C,"minorGridlines"),E,_,Helpers.copy(C,"textStyle"),k,A,Helpers.copy(C,"titleTextStyle"),x,F,P,N,O,H,G,L,I,R,Helpers.copy(C,"viewWindow"));
var D=new BubbleChartOptions(this.options.animation,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bubble,this.options.chartArea,this.options.colors,this.options.colorAxis,this.options.enableInteractivity,this.options.explorer,this.options.fontSize,this.options.fontName,this.options.forceIFrame,w,this.options.height,this.options.legend,this.options.selectionMode,this.options.series,this.options.sizeAxis,this.options.sortBubblesBySize,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,D)}},{key:"legend",value:function(t,n,i,r){var o=this.options.legend,s=void 0,a=Helpers.right(o,"alignment",t),l=Helpers.right(o,"maxLines",n),u=Helpers.right(o,"position",i),c=Helpers.right(o,"numberFormat",r);s=new ChartLegend(a,l,u,Helpers.copy(o,"textStyle"),c);var p=new BubbleChartOptions(this.options.animation,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bubble,this.options.chartArea,this.options.colors,this.options.colorAxis,this.options.enableInteractivity,this.options.explorer,this.options.fontSize,this.options.fontName,this.options.forceIFrame,this.options.hAxis,this.options.height,s,this.options.selectionMode,this.options.series,this.options.sizeAxis,this.options.sortBubblesBySize,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,p)}},{key:"sizeAxis",value:function(t,n,i,r){var o=this.options.sizeAxis,s=new ChartSizeAxis(Helpers.right(o,"maxSize",t),Helpers.right(o,"maxValue",n),Helpers.right(o,"minSize",i),Helpers.right(o,"minValue",r)),a=new BubbleChartOptions(this.options.animation,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bubble,this.options.chartArea,this.options.colors,this.options.colorAxis,this.options.enableInteractivity,this.options.explorer,this.options.fontSize,this.options.fontName,this.options.forceIFrame,this.options.hAxis,this.options.height,this.options.legend,this.options.selectionMode,this.options.series,s,this.options.sortBubblesBySize,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,a)}},{key:"titleTextStyle",value:function(t,n,i,r,o,s,a){var l=this.options.titleTextStyle,u=new ChartTextStyle(Helpers.right(l,"fontName",t),Helpers.right(l,"fontSize",n),Helpers.right(l,"bold",i),Helpers.right(l,"italic",r),Helpers.right(l,"color",o),Helpers.right(l,"auraColor",s),Helpers.right(l,"opacity",a)),c=new BubbleChartOptions(this.options.animation,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bubble,this.options.chartArea,this.options.colors,this.options.colorAxis,this.options.enableInteractivity,this.options.explorer,this.options.fontSize,this.options.fontName,this.options.forceIFrame,this.options.hAxis,this.options.height,this.options.legend,this.options.selectionMode,this.options.series,this.options.sizeAxis,this.options.sortBubblesBySize,this.options.theme,this.options.title,this.options.titlePosition,u,this.options.tooltip,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,c)}},{key:"tooltip",value:function(t,n,i){var r=this.options.tooltip,o=void 0,s=Helpers.right(r,"isHtml",t),a=Helpers.right(r,"showColorCode",n),l=Helpers.right(r,"trigger",i);o=new ChartTooltip(s,a,Helpers.copy(r,"textStyle"),l);var u=new BubbleChartOptions(this.options.animation,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bubble,this.options.chartArea,this.options.colors,this.options.colorAxis,this.options.enableInteractivity,this.options.explorer,this.options.fontSize,this.options.fontName,this.options.forceIFrame,this.options.hAxis,this.options.height,this.options.legend,this.options.selectionMode,this.options.series,this.options.sizeAxis,this.options.sortBubblesBySize,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,o,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,u)}},{key:"vAxis",value:function(t,n,i,r,o,s,a,l,u,c,p,h,d,f,m,y,g,v){var C=this.options.vAxis,w=void 0,T=Helpers.right(C,"baseline",t),S=Helpers.right(C,"baselineColor",n),b=Helpers.right(C,"direction",i),$=Helpers.right(C,"format",r),E=Helpers.right(C,"logScale",o),_=Helpers.right(C,"textPosition",s),k=Helpers.right(C,"ticks",defaultArg(a,null,function(e){return _Array$from(e)})),A=Helpers.right(C,"title",l),x=Helpers.right(C,"allowContainerBoundaryTextCufoff",u),F=Helpers.right(C,"slantedText",c),P=Helpers.right(C,"slantedTextAngle",p),N=Helpers.right(C,"maxAlternation",h),O=Helpers.right(C,"maxTextLines",d),H=Helpers.right(C,"minTextSpacing",f),G=Helpers.right(C,"showTextEvery",m),L=Helpers.right(C,"maxValue",y),I=Helpers.right(C,"minValue",g),R=Helpers.right(C,"viewWindowMode",v);w=new ChartAxis(T,S,b,$,Helpers.copy(C,"gridlines"),Helpers.copy(C,"minorGridlines"),E,_,Helpers.copy(C,"textStyle"),k,A,Helpers.copy(C,"titleTextStyle"),x,F,P,N,O,H,G,L,I,R,Helpers.copy(C,"viewWindow"));var D=new BubbleChartOptions(this.options.animation,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bubble,this.options.chartArea,this.options.colors,this.options.colorAxis,this.options.enableInteractivity,this.options.explorer,this.options.fontSize,this.options.fontName,this.options.forceIFrame,this.options.hAxis,this.options.height,this.options.legend,this.options.selectionMode,this.options.series,this.options.sizeAxis,this.options.sortBubblesBySize,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,w,this.options.width);return new e(this.data,this.typeName,D)}}]),e}();setType("TheGamma.GoogleCharts.Extensions.Bubble",Bubble);var TreeMap=function(){function e(t,n,i){_classCallCheck(this,e),this.data=t,this.typeName=n,this.options=i}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Extensions.TreeMap",interfaces:["FSharpRecord","TheGamma.GoogleCharts.Chart"],properties:{data:ChartData,typeName:"string",options:TreeMapOptions}}}},{key:"show",value:function(e){Helpers.showChart(this,e)}},{key:"set",value:function(t,n,i,r,o,s,a,l,u,c,p,h,d,f,m,y,g,v,C,w,T,S){var b=void 0,$=Helpers.right(this.options,"fontColor",t),E=Helpers.right(this.options,"fontFamily",n),_=Helpers.right(this.options,"fontSize",i),k=Helpers.right(this.options,"forceIFrame",r),A=Helpers.right(this.options,"headerColor",o),x=Helpers.right(this.options,"headerHeight",s),F=Helpers.right(this.options,"headerHighlightColor",a),P=Helpers.right(this.options,"hintOpacity",l),N=Helpers.right(this.options,"maxColor",u),O=Helpers.right(this.options,"maxDepth",c),H=Helpers.right(this.options,"maxHighlightColor",p),G=Helpers.right(this.options,"maxPostDepth",h),L=Helpers.right(this.options,"maxColorValue",d),I=Helpers.right(this.options,"midColor",f),R=Helpers.right(this.options,"midHighlightColor",m),D=Helpers.right(this.options,"minColor",y),M=Helpers.right(this.options,"minHighlightColor",g),B=Helpers.right(this.options,"minColorValue",v),q=Helpers.right(this.options,"showScale",C),V=Helpers.right(this.options,"showTooltips",w),j=Helpers.right(this.options,"title",T),z=Helpers.right(this.options,"useWeightedAverageForAggregation",S);return b=new TreeMapOptions($,E,_,k,A,x,F,P,N,O,H,G,L,I,R,D,M,B,q,V,this.options.textStyle,j,this.options.titleTextStyle,z),new e(this.data,this.typeName,b)}},{key:"textStyle",value:function(t,n,i,r,o,s,a){var l=this.options.textStyle,u=new ChartTextStyle(Helpers.right(l,"fontName",t),Helpers.right(l,"fontSize",n),Helpers.right(l,"bold",i),Helpers.right(l,"italic",r),Helpers.right(l,"color",o),Helpers.right(l,"auraColor",s),Helpers.right(l,"opacity",a)),c=new TreeMapOptions(this.options.fontColor,this.options.fontFamily,this.options.fontSize,this.options.forceIFrame,this.options.headerColor,this.options.headerHeight,this.options.headerHighlightColor,this.options.hintOpacity,this.options.maxColor,this.options.maxDepth,this.options.maxHighlightColor,this.options.maxPostDepth,this.options.maxColorValue,this.options.midColor,this.options.midHighlightColor,this.options.minColor,this.options.minHighlightColor,this.options.minColorValue,this.options.showScale,this.options.showTooltips,u,this.options.title,this.options.titleTextStyle,this.options.useWeightedAverageForAggregation);return new e(this.data,this.typeName,c)}},{key:"titleTextStyle",value:function(t,n,i,r,o,s,a){var l=this.options.titleTextStyle,u=new ChartTextStyle(Helpers.right(l,"fontName",t),Helpers.right(l,"fontSize",n),Helpers.right(l,"bold",i),Helpers.right(l,"italic",r),Helpers.right(l,"color",o),Helpers.right(l,"auraColor",s),Helpers.right(l,"opacity",a)),c=new TreeMapOptions(this.options.fontColor,this.options.fontFamily,this.options.fontSize,this.options.forceIFrame,this.options.headerColor,this.options.headerHeight,this.options.headerHighlightColor,this.options.hintOpacity,this.options.maxColor,this.options.maxDepth,this.options.maxHighlightColor,this.options.maxPostDepth,this.options.maxColorValue,this.options.midColor,this.options.midHighlightColor,this.options.minColor,this.options.minHighlightColor,this.options.minColorValue,this.options.showScale,this.options.showTooltips,this.options.textStyle,this.options.title,u,this.options.useWeightedAverageForAggregation);return new e(this.data,this.typeName,c)}}]),e}();setType("TheGamma.GoogleCharts.Extensions.TreeMap",TreeMap);var Table=function(){function e(t,n,i){_classCallCheck(this,e),this.data=t,this.typeName=n,this.options=i}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Extensions.Table",interfaces:["FSharpRecord","TheGamma.GoogleCharts.Chart"],properties:{data:ChartData,typeName:"string",options:TableOptions}}}},{key:"show",value:function(e){Helpers.showChart(this,e)}},{key:"set",value:function(t,n,i,r,o,s,a,l,u,c,p,h,d,f){var m=void 0,y=Helpers.right(this.options,"allowHtml",t),g=Helpers.right(this.options,"alternatingRowStyle",n),v=Helpers.right(this.options,"firstRowNumber",i),C=Helpers.right(this.options,"height",r),w=Helpers.right(this.options,"page",o),T=Helpers.right(this.options,"pageSize",s),S=Helpers.right(this.options,"rtlTable",a),b=Helpers.right(this.options,"scrollLeftStartPosition",l),$=Helpers.right(this.options,"showRowNumber",u),E=Helpers.right(this.options,"sort",c),_=Helpers.right(this.options,"sortAscending",p),k=Helpers.right(this.options,"sortColumn",h),A=Helpers.right(this.options,"startPage",d),x=Helpers.right(this.options,"width",f);return m=new TableOptions(y,g,this.options.cssClassName,v,C,w,T,S,b,$,E,_,k,A,x),new e(this.data,this.typeName,m)}},{key:"cssClassName",value:function(t,n,i,r,o,s,a,l){var u=this.options.cssClassName,c=new CssClassNames(Helpers.right(u,"headerRow",t),Helpers.right(u,"tableRow",n),Helpers.right(u,"oddTableRow",i),Helpers.right(u,"selectedTableRow",r),Helpers.right(u,"hoverTableRow",o),Helpers.right(u,"headerCell",s),Helpers.right(u,"tableCell",a),Helpers.right(u,"rowNumberCell",l)),p=new TableOptions(this.options.allowHtml,this.options.alternatingRowStyle,c,this.options.firstRowNumber,this.options.height,this.options.page,this.options.pageSize,this.options.rtlTable,this.options.scrollLeftStartPosition,this.options.showRowNumber,this.options.sort,this.options.sortAscending,this.options.sortColumn,this.options.startPage,this.options.width);return new e(this.data,this.typeName,p)}}]),e}();setType("TheGamma.GoogleCharts.Extensions.Table",Table);var Timeline=function(){function e(t,n,i){_classCallCheck(this,e),this.data=t,this.typeName=n,this.options=i}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Extensions.Timeline",interfaces:["FSharpRecord","TheGamma.GoogleCharts.Chart"],properties:{data:ChartData,typeName:"string",options:TimelineOptions}}}},{key:"show",value:function(e){Helpers.showChart(this,e)}},{key:"set",value:function(t,n,i,r,o,s,a){var l=void 0,u=Helpers.right(this.options,"avoidOverlappingGridLines",t),c=Helpers.right(this.options,"backgroundColor",n),p=Helpers.right(this.options,"colors",defaultArg(i,null,function(e){return _Array$from(e)})),h=Helpers.right(this.options,"enableInteractivity",r),d=Helpers.right(this.options,"forceIFrame",o),f=Helpers.right(this.options,"height",s),m=Helpers.right(this.options,"width",a);return l=new TimelineOptions(u,c,p,h,d,f,this.options.timeline,m),new e(this.data,this.typeName,l)}},{key:"timeline",value:function(t,n,i,r){var o=this.options.timeline,s=void 0,a=Helpers.right(o,"colorByRowLabel",t),l=Helpers.right(o,"groupByRowLabel",n),u=Helpers.right(o,"showRowLabels",i),c=Helpers.right(o,"singleColor",r);s=new TimelineTimeline(Helpers.copy(o,"barLabelStyle"),a,l,Helpers.copy(o,"rowLabelStyle"),u,c);var p=new TimelineOptions(this.options.avoidOverlappingGridLines,this.options.backgroundColor,this.options.colors,this.options.enableInteractivity,this.options.forceIFrame,this.options.height,s,this.options.width);return new e(this.data,this.typeName,p)}}]),e}();setType("TheGamma.GoogleCharts.Extensions.Timeline",Timeline);var Candlestick=function(){function e(t,n,i){_classCallCheck(this,e),this.data=t,this.typeName=n,this.options=i}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Extensions.Candlestick",interfaces:["FSharpRecord","TheGamma.GoogleCharts.Chart"],properties:{data:ChartData,typeName:"string",options:CandlestickChartOptions}}}},{key:"show",value:function(e){Helpers.showChart(this,e)}},{key:"set",value:function(t,n,i,r,o,s,a,l,u,c,p,h,d,f,m,y,g,v){var C=void 0,w=Helpers.right(this.options,"aggregationTarget",t),T=Helpers.right(this.options,"axisTitlesPosition",n),S=Helpers.right(this.options,"backgroundColor",i),b=Helpers.right(this.options,"colors",defaultArg(r,null,function(e){return _Array$from(e)})),$=Helpers.right(this.options,"enableInteractivity",o),E=Helpers.right(this.options,"focusTarget",s),_=Helpers.right(this.options,"fontSize",a),k=Helpers.right(this.options,"fontName",l),A=Helpers.right(this.options,"height",u),x=Helpers.right(this.options,"orientation",c),F=Helpers.right(this.options,"reverseCategories",p),P=Helpers.right(this.options,"selectionMode",h),N=Helpers.right(this.options,"series",d),O=Helpers.right(this.options,"theme",f),H=Helpers.right(this.options,"title",m),G=Helpers.right(this.options,"titlePosition",y),L=Helpers.right(this.options,"vAxes",g),I=Helpers.right(this.options,"width",v);return C=new CandlestickChartOptions(w,this.options.animation,T,S,this.options.bar,this.options.candlestick,this.options.chartArea,b,$,E,_,k,this.options.hAxis,A,this.options.legend,x,F,P,N,O,H,G,this.options.titleTextStyle,this.options.tooltip,L,this.options.vAxis,I),new e(this.data,this.typeName,C)}},{key:"animation",value:function(t,n){var i=this.options.animation,r=new TransitionAnimation(Helpers.right(i,"duration",t),Helpers.right(i,"easing",n)),o=new CandlestickChartOptions(this.options.aggregationTarget,r,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bar,this.options.candlestick,this.options.chartArea,this.options.colors,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.legend,this.options.orientation,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,o)}},{key:"bar",value:function(t){var n=this.options.bar,i=new GroupWidth(Helpers.right(n,"groupWidth",t)),r=new CandlestickChartOptions(this.options.aggregationTarget,this.options.animation,this.options.axisTitlesPosition,this.options.backgroundColor,i,this.options.candlestick,this.options.chartArea,this.options.colors,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.legend,this.options.orientation,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,r)}},{key:"candlestick",value:function(t){var n=this.options.candlestick,i=new CandlestickCandlestick(Helpers.right(n,"hollowIsRising",t),Helpers.copy(n,"fallingColor"),Helpers.copy(n,"risingColor")),r=new CandlestickChartOptions(this.options.aggregationTarget,this.options.animation,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bar,i,this.options.chartArea,this.options.colors,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.legend,this.options.orientation,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,r)}},{key:"chartArea",value:function(t,n,i,r){var o=this.options.chartArea,s=new ChartArea(Helpers.right(o,"top",t),Helpers.right(o,"left",n),Helpers.right(o,"width",i),Helpers.right(o,"height",r)),a=new CandlestickChartOptions(this.options.aggregationTarget,this.options.animation,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bar,this.options.candlestick,s,this.options.colors,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.legend,this.options.orientation,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,a)}},{key:"hAxis",value:function(t,n,i,r,o,s,a,l,u,c,p,h,d,f,m,y,g,v){var C=this.options.hAxis,w=void 0,T=Helpers.right(C,"baseline",t),S=Helpers.right(C,"baselineColor",n),b=Helpers.right(C,"direction",i),$=Helpers.right(C,"format",r),E=Helpers.right(C,"logScale",o),_=Helpers.right(C,"textPosition",s),k=Helpers.right(C,"ticks",defaultArg(a,null,function(e){return _Array$from(e)})),A=Helpers.right(C,"title",l),x=Helpers.right(C,"allowContainerBoundaryTextCufoff",u),F=Helpers.right(C,"slantedText",c),P=Helpers.right(C,"slantedTextAngle",p),N=Helpers.right(C,"maxAlternation",h),O=Helpers.right(C,"maxTextLines",d),H=Helpers.right(C,"minTextSpacing",f),G=Helpers.right(C,"showTextEvery",m),L=Helpers.right(C,"maxValue",y),I=Helpers.right(C,"minValue",g),R=Helpers.right(C,"viewWindowMode",v);w=new ChartAxis(T,S,b,$,Helpers.copy(C,"gridlines"),Helpers.copy(C,"minorGridlines"),E,_,Helpers.copy(C,"textStyle"),k,A,Helpers.copy(C,"titleTextStyle"),x,F,P,N,O,H,G,L,I,R,Helpers.copy(C,"viewWindow"));var D=new CandlestickChartOptions(this.options.aggregationTarget,this.options.animation,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bar,this.options.candlestick,this.options.chartArea,this.options.colors,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,w,this.options.height,this.options.legend,this.options.orientation,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,D)}},{key:"legend",value:function(t,n,i,r){var o=this.options.legend,s=void 0,a=Helpers.right(o,"alignment",t),l=Helpers.right(o,"maxLines",n),u=Helpers.right(o,"position",i),c=Helpers.right(o,"numberFormat",r);s=new ChartLegend(a,l,u,Helpers.copy(o,"textStyle"),c);var p=new CandlestickChartOptions(this.options.aggregationTarget,this.options.animation,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bar,this.options.candlestick,this.options.chartArea,this.options.colors,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,s,this.options.orientation,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,p)}},{key:"titleTextStyle",value:function(t,n,i,r,o,s,a){var l=this.options.titleTextStyle,u=new ChartTextStyle(Helpers.right(l,"fontName",t),Helpers.right(l,"fontSize",n),Helpers.right(l,"bold",i),Helpers.right(l,"italic",r),Helpers.right(l,"color",o),Helpers.right(l,"auraColor",s),Helpers.right(l,"opacity",a)),c=new CandlestickChartOptions(this.options.aggregationTarget,this.options.animation,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bar,this.options.candlestick,this.options.chartArea,this.options.colors,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.legend,this.options.orientation,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,u,this.options.tooltip,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,c)}},{key:"tooltip",value:function(t,n,i){var r=this.options.tooltip,o=void 0,s=Helpers.right(r,"isHtml",t),a=Helpers.right(r,"showColorCode",n),l=Helpers.right(r,"trigger",i);o=new ChartTooltip(s,a,Helpers.copy(r,"textStyle"),l);var u=new CandlestickChartOptions(this.options.aggregationTarget,this.options.animation,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bar,this.options.candlestick,this.options.chartArea,this.options.colors,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.legend,this.options.orientation,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,o,this.options.vAxes,this.options.vAxis,this.options.width);return new e(this.data,this.typeName,u)}},{key:"vAxis",value:function(t,n,i,r,o,s,a,l,u,c,p,h,d,f,m,y,g,v){var C=this.options.vAxis,w=void 0,T=Helpers.right(C,"baseline",t),S=Helpers.right(C,"baselineColor",n),b=Helpers.right(C,"direction",i),$=Helpers.right(C,"format",r),E=Helpers.right(C,"logScale",o),_=Helpers.right(C,"textPosition",s),k=Helpers.right(C,"ticks",defaultArg(a,null,function(e){return _Array$from(e)})),A=Helpers.right(C,"title",l),x=Helpers.right(C,"allowContainerBoundaryTextCufoff",u),F=Helpers.right(C,"slantedText",c),P=Helpers.right(C,"slantedTextAngle",p),N=Helpers.right(C,"maxAlternation",h),O=Helpers.right(C,"maxTextLines",d),H=Helpers.right(C,"minTextSpacing",f),G=Helpers.right(C,"showTextEvery",m),L=Helpers.right(C,"maxValue",y),I=Helpers.right(C,"minValue",g),R=Helpers.right(C,"viewWindowMode",v);w=new ChartAxis(T,S,b,$,Helpers.copy(C,"gridlines"),Helpers.copy(C,"minorGridlines"),E,_,Helpers.copy(C,"textStyle"),k,A,Helpers.copy(C,"titleTextStyle"),x,F,P,N,O,H,G,L,I,R,Helpers.copy(C,"viewWindow"));var D=new CandlestickChartOptions(this.options.aggregationTarget,this.options.animation,this.options.axisTitlesPosition,this.options.backgroundColor,this.options.bar,this.options.candlestick,this.options.chartArea,this.options.colors,this.options.enableInteractivity,this.options.focusTarget,this.options.fontSize,this.options.fontName,this.options.hAxis,this.options.height,this.options.legend,this.options.orientation,this.options.reverseCategories,this.options.selectionMode,this.options.series,this.options.theme,this.options.title,this.options.titlePosition,this.options.titleTextStyle,this.options.tooltip,this.options.vAxes,w,this.options.width);return new e(this.data,this.typeName,D)}}]),e}();setType("TheGamma.GoogleCharts.Extensions.Candlestick",Candlestick);var options$1=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.Extensions.options",properties:{}}}}],[{key:"chartSizeAxis",value:function(e,t,n,i){return new ChartSizeAxis(Helpers.orDefault(e),Helpers.orDefault(t),Helpers.orDefault(n),Helpers.orDefault(i))}},{key:"chartTextStyle",value:function(e,t,n,i,r,o,s){return new ChartTextStyle(Helpers.orDefault(e),Helpers.orDefault(t),Helpers.orDefault(n),Helpers.orDefault(i),Helpers.orDefault(r),Helpers.orDefault(o),Helpers.orDefault(s))}},{key:"chartTooltip",value:function(e,t,n,i){return new ChartTooltip(Helpers.orDefault(e),Helpers.orDefault(t),Helpers.orDefault(n),Helpers.orDefault(i))}},{key:"chartLegend",value:function(e,t,n,i,r){return new ChartLegend(Helpers.orDefault(e),Helpers.orDefault(t),Helpers.orDefault(n),Helpers.orDefault(i),Helpers.orDefault(r))}},{key:"chartColorAxis",value:function(e,t,n,i,r){return new ChartColorAxis(Helpers.orDefault(e),Helpers.orDefault(t),Helpers.orDefault(defaultArg(n,null,function(e){return Float64Array.from(e)})),Helpers.orDefault(defaultArg(i,null,function(e){return _Array$from(e)})),Helpers.orDefault(r))}},{key:"geoChartMagnifyingGlass",value:function(e,t){return new GeoChartMagnifyingGlass(Helpers.orDefault(e),Helpers.orDefault(t))}},{key:"chartBoxStyleGradient",value:function(e,t,n,i,r,o,s){return new ChartBoxStyleGradient(Helpers.orDefault(e),Helpers.orDefault(t),Helpers.orDefault(n),Helpers.orDefault(i),Helpers.orDefault(r),Helpers.orDefault(o),Helpers.orDefault(s))}},{key:"chartBoxStyle",value:function(e,t,n,i,r){return new ChartBoxStyle(Helpers.orDefault(e),Helpers.orDefault(t),Helpers.orDefault(n),Helpers.orDefault(i),Helpers.orDefault(r))}},{key:"chartAnnotations",value:function(e,t){return new ChartAnnotations(Helpers.orDefault(e),Helpers.orDefault(t))}},{key:"chartCrosshairFocused",value:function(e,t){return new ChartCrosshairFocused(Helpers.orDefault(e),Helpers.orDefault(t))}},{key:"chartCrosshairSelected",value:function(e,t){return new ChartCrosshairSelected(Helpers.orDefault(e),Helpers.orDefault(t))}},{key:"chartCrosshair",value:function(e,t,n,i,r,o){return new ChartCrosshair(Helpers.orDefault(e),Helpers.orDefault(t),Helpers.orDefault(n),Helpers.orDefault(i),Helpers.orDefault(r),Helpers.orDefault(o))}},{key:"chartExplorer",value:function(e,t,n,i,r,o){return new ChartExplorer(Helpers.orDefault(defaultArg(e,null,function(e){return _Array$from(e)})),Helpers.orDefault(t),Helpers.orDefault(n),Helpers.orDefault(i),Helpers.orDefault(r),Helpers.orDefault(o))}},{key:"chartStroke",value:function(e,t,n){return new ChartStroke(Helpers.orDefault(e),Helpers.orDefault(t),Helpers.orDefault(n))}},{key:"chartArea",value:function(e,t,n,i){return new ChartArea(Helpers.orDefault(e),Helpers.orDefault(t),Helpers.orDefault(n),Helpers.orDefault(i))}},{key:"transitionAnimation",value:function(e,t){return new TransitionAnimation(Helpers.orDefault(e),Helpers.orDefault(t))}},{key:"chartGridlines",value:function(e,t){return new ChartGridlines(Helpers.orDefault(e),Helpers.orDefault(t))}},{key:"chartViewWindow",value:function(e,t){return new ChartViewWindow(Helpers.orDefault(e),Helpers.orDefault(t))}},{key:"chartAxis",value:function(e,t,n,i,r,o,s,a,l,u,c,p,h,d,f,m,y,g,v,C,w,T,S){return new ChartAxis(Helpers.orDefault(e),Helpers.orDefault(t),Helpers.orDefault(n),Helpers.orDefault(i),Helpers.orDefault(r),Helpers.orDefault(o),Helpers.orDefault(s),Helpers.orDefault(a),Helpers.orDefault(l),Helpers.orDefault(defaultArg(u,null,function(e){return _Array$from(e)})),Helpers.orDefault(c),Helpers.orDefault(p),Helpers.orDefault(h),Helpers.orDefault(d),Helpers.orDefault(f),Helpers.orDefault(m),Helpers.orDefault(y),Helpers.orDefault(g),Helpers.orDefault(v),Helpers.orDefault(C),Helpers.orDefault(w),Helpers.orDefault(T),Helpers.orDefault(S))}},{key:"chartBoundingBox",value:function(e,t,n,i){return new ChartBoundingBox(Helpers.orDefault(e),Helpers.orDefault(t),Helpers.orDefault(n),Helpers.orDefault(i))}},{key:"groupWidth",value:function(e){return new GroupWidth(Helpers.orDefault(e))}},{key:"trendline",value:function(e,t,n,i,r,o,s,a,l){return new Trendline(Helpers.orDefault(e),Helpers.orDefault(t),Helpers.orDefault(n),Helpers.orDefault(i),Helpers.orDefault(r),Helpers.orDefault(o),Helpers.orDefault(s),Helpers.orDefault(a),Helpers.orDefault(l))}},{key:"histogramHistogram",value:function(e,t,n){return new HistogramHistogram(Helpers.orDefault(e),Helpers.orDefault(t),Helpers.orDefault(n))}},{key:"chartBubble",value:function(e,t,n){return new ChartBubble(Helpers.orDefault(e),Helpers.orDefault(t),Helpers.orDefault(n))}},{key:"cssClassNames",value:function(e,t,n,i,r,o,s,a){return new CssClassNames(Helpers.orDefault(e),Helpers.orDefault(t),Helpers.orDefault(n),Helpers.orDefault(i),Helpers.orDefault(r),Helpers.orDefault(o),Helpers.orDefault(s),Helpers.orDefault(a))}},{key:"labelStyle",value:function(e,t,n){return new LabelStyle(Helpers.orDefault(e),Helpers.orDefault(t),Helpers.orDefault(n))}},{key:"timelineTimeline",value:function(e,t,n,i,r,o){return new TimelineTimeline(Helpers.orDefault(e),Helpers.orDefault(t),Helpers.orDefault(n),Helpers.orDefault(i),Helpers.orDefault(r),Helpers.orDefault(o))}},{key:"candlestickCandlestick",value:function(e,t,n){return new CandlestickCandlestick(Helpers.orDefault(e),Helpers.orDefault(t),Helpers.orDefault(n))}}]),e}();setType("TheGamma.GoogleCharts.Extensions.options",options$1);var chart=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.GoogleCharts.chart",properties:{}}}}],[{key:"scatter",value:function(e,t){return new Scatter(ChartDataOperations.twoValues(e,t),"ScatterChart",ScatterChartOptions_get_empty_Static())}},{key:"geo",value:function(e){return new Geo(ChartDataOperations.oneKeyValue("string",e),"GeoChart",GeoChartOptions_get_empty_Static())}},{key:"pie",value:function(e){return new Pie(ChartDataOperations.oneKeyValue("string",e),"PieChart",PieChartOptions_get_empty_Static())}},{key:"bar",value:function(e){return new Bar(ChartDataOperations.oneKeyValue("string",e),"BarChart",BarChartOptions_get_empty_Static())}},{key:"column",value:function(e){return new Column(ChartDataOperations.oneKeyValue("string",e),"ColumnChart",ColumnChartOptions_get_empty_Static())}},{key:"columns",value:function(e,t){return new Line(ChartDataOperations.oneKeyAppendValues("string",e,t),"ColumnChart",LineChartOptions_get_empty_Static())}},{key:"line",value:function(e){return new Line(ChartDataOperations.oneKeyValue("number",e),"LineChart",LineChartOptions_get_empty_Static())}},{key:"lines",value:function(e){return new Line(ChartDataOperations.oneKeyNValues("number",e),"LineChart",LineChartOptions_get_empty_Static())}},{key:"area",value:function(e){return new Area(ChartDataOperations.oneKeyValue("number",e),"AreaChart",AreaChartOptions_get_empty_Static())}},{key:"areas",value:function(e,t){var n={contents:0},i=null==t?e:e.map(function(e){return void n.contents++,e.setProperties(null,null,t[n.contents-1])});return new Area(ChartDataOperations.oneKeyNValues("number",i),"AreaChart",AreaChartOptions_get_empty_Static())}},{key:"show",value:function(e){return function(t){
Helpers.showChart(e,t)}}}]),e}();setType("TheGamma.GoogleCharts.chart",chart);var nativeIsArray=Array.isArray,toString$3=Object.prototype.toString,index$4=nativeIsArray||isArray$4,version$2="2",version$1=version$2;VirtualPatch.NONE=0,VirtualPatch.VTEXT=1,VirtualPatch.VNODE=2,VirtualPatch.WIDGET=3,VirtualPatch.PROPS=4,VirtualPatch.ORDER=5,VirtualPatch.INSERT=6,VirtualPatch.REMOVE=7,VirtualPatch.THUNK=8;var vpatch=VirtualPatch;VirtualPatch.prototype.version=version$1,VirtualPatch.prototype.type="VirtualPatch";var version$4=version$2,isVnode=isVirtualNode,version$5=version$2,isVtext=isVirtualText,isWidget_1=isWidget$1,isThunk_1=isThunk$1,isVNode$1=isVnode,isVText$1=isVtext,isWidget$2=isWidget_1,isThunk$2=isThunk_1,handleThunk_1=handleThunk$1,index$6=function(e){return"object"==typeof e&&null!==e},isVhook=isHook$1,isObject$5=index$6,isHook=isVhook,diffProps_1=diffProps$1,isArray$3=index$4,VPatch=vpatch,isVNode=isVnode,isVText=isVtext,isWidget=isWidget_1,isThunk=isThunk_1,handleThunk=handleThunk_1,diffProps=diffProps_1,diff_1$2=diff$2,diff$1=diff_1$2,diff_1=diff$1,slice$1=Array.prototype.slice,index$10=iterativelyWalk,domComment=Comment$1;Comment$1.prototype.nodeType=8,Comment$1.prototype.nodeName="#comment",Comment$1.prototype.toString=function(){return"[object Comment]"};var domText=DOMText$1;DOMText$1.prototype.type="DOMTextNode",DOMText$1.prototype.nodeType=3,DOMText$1.prototype.nodeName="#text",DOMText$1.prototype.toString=function(){return this.data},DOMText$1.prototype.replaceData=function(e,t,n){var i=this.data,r=i.substring(0,e),o=i.substring(e+t,i.length);this.data=r+n+o,this.length=this.data.length};var dispatchEvent_1=dispatchEvent$2,addEventListener_1=addEventListener$2,removeEventListener_1=removeEventListener$2,serialize=serializeNode$1,voidElements=["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"],domWalk$1=index$10,dispatchEvent$1=dispatchEvent_1,addEventListener$1=addEventListener_1,removeEventListener$1=removeEventListener_1,serializeNode=serialize,htmlns="http://www.w3.org/1999/xhtml",domElement=DOMElement$1;DOMElement$1.prototype.type="DOMElement",DOMElement$1.prototype.nodeType=1,DOMElement$1.prototype.appendChild=function(e){return e.parentNode&&e.parentNode.removeChild(e),this.childNodes.push(e),e.parentNode=this,e},DOMElement$1.prototype.replaceChild=function(e,t){e.parentNode&&e.parentNode.removeChild(e);var n=this.childNodes.indexOf(t);return t.parentNode=null,this.childNodes[n]=e,e.parentNode=this,t},DOMElement$1.prototype.removeChild=function(e){var t=this.childNodes.indexOf(e);return this.childNodes.splice(t,1),e.parentNode=null,e},DOMElement$1.prototype.insertBefore=function(e,t){e.parentNode&&e.parentNode.removeChild(e);var n=null===t||void 0===t?-1:this.childNodes.indexOf(t);return n>-1?this.childNodes.splice(n,0,e):this.childNodes.push(e),e.parentNode=this,e},DOMElement$1.prototype.setAttributeNS=function(e,t,n){var i=null,r=t,o=t.indexOf(":");if(o>-1&&(i=t.substr(0,o),r=t.substr(o+1)),"INPUT"===this.tagName&&"type"===t)this.type=n;else{var s=this._attributes[e]||(this._attributes[e]={});s[r]={value:n,prefix:i}}},DOMElement$1.prototype.getAttributeNS=function(e,t){var n=this._attributes[e],i=n&&n[t]&&n[t].value;return"INPUT"===this.tagName&&"type"===t?this.type:"string"!=typeof i?null:i},DOMElement$1.prototype.removeAttributeNS=function(e,t){var n=this._attributes[e];n&&delete n[t]},DOMElement$1.prototype.hasAttributeNS=function(e,t){var n=this._attributes[e];return!!n&&t in n},DOMElement$1.prototype.setAttribute=function(e,t){return this.setAttributeNS(null,e,t)},DOMElement$1.prototype.getAttribute=function(e){return this.getAttributeNS(null,e)},DOMElement$1.prototype.removeAttribute=function(e){return this.removeAttributeNS(null,e)},DOMElement$1.prototype.hasAttribute=function(e){return this.hasAttributeNS(null,e)},DOMElement$1.prototype.removeEventListener=removeEventListener$1,DOMElement$1.prototype.addEventListener=addEventListener$1,DOMElement$1.prototype.dispatchEvent=dispatchEvent$1,DOMElement$1.prototype.focus=function(){},DOMElement$1.prototype.toString=function(){return serializeNode(this)},DOMElement$1.prototype.getElementsByClassName=function(e){var t=e.split(" "),n=[];return domWalk$1(this,function(e){if(1===e.nodeType){var i=e.className||"",r=i.split(" ");t.every(function(e){return r.indexOf(e)!==-1})&&n.push(e)}}),n},DOMElement$1.prototype.getElementsByTagName=function(e){e=e.toLowerCase();var t=[];return domWalk$1(this.childNodes,function(n){1!==n.nodeType||"*"!==e&&n.tagName.toLowerCase()!==e||t.push(n)}),t},DOMElement$1.prototype.contains=function(e){return domWalk$1(this,function(t){return e===t})||!1};var DOMElement$2=domElement,domFragment=DocumentFragment$1;DocumentFragment$1.prototype.type="DocumentFragment",DocumentFragment$1.prototype.nodeType=11,DocumentFragment$1.prototype.nodeName="#document-fragment",DocumentFragment$1.prototype.appendChild=DOMElement$2.prototype.appendChild,DocumentFragment$1.prototype.replaceChild=DOMElement$2.prototype.replaceChild,DocumentFragment$1.prototype.removeChild=DOMElement$2.prototype.removeChild,DocumentFragment$1.prototype.toString=function(){return this.childNodes.map(function(e){return String(e)}).join("")};var event$1=Event$1;Event$1.prototype.initEvent=function(e,t,n){this.type=e,this.bubbles=t,this.cancelable=n},Event$1.prototype.preventDefault=function(){};var domWalk=index$10,Comment=domComment,DOMText=domText,DOMElement=domElement,DocumentFragment=domFragment,Event=event$1,dispatchEvent=dispatchEvent_1,addEventListener=addEventListener_1,removeEventListener=removeEventListener_1,document$3=Document$1,proto$1=Document$1.prototype;proto$1.createTextNode=function(e){return new DOMText(e,this)},proto$1.createElementNS=function(e,t){var n=null===e?null:String(e);return new DOMElement(t,this,n)},proto$1.createElement=function(e){return new DOMElement(e,this)},proto$1.createDocumentFragment=function(){return new DocumentFragment(this)},proto$1.createEvent=function(e){return new Event(e)},proto$1.createComment=function(e){return new Comment(e,this)},proto$1.getElementById=function(e){e=String(e);var t=domWalk(this.childNodes,function(t){if(String(t.id)===e)return t});return t||null},proto$1.getElementsByClassName=DOMElement.prototype.getElementsByClassName,proto$1.getElementsByTagName=DOMElement.prototype.getElementsByTagName,proto$1.contains=DOMElement.prototype.contains,proto$1.removeEventListener=removeEventListener,proto$1.addEventListener=addEventListener,proto$1.dispatchEvent=dispatchEvent;var Document=document$3,index$8=new Document,document_1=createCommonjsModule(function(e){var t="undefined"!=typeof commonjsGlobal?commonjsGlobal:"undefined"!=typeof window?window:{},n=index$8;if("undefined"!=typeof document)e.exports=document;else{var i=t["__GLOBAL_DOCUMENT_CACHE@4"];i||(i=t["__GLOBAL_DOCUMENT_CACHE@4"]=n),e.exports=i}}),isObject$6=index$6,isHook$2=isVhook,applyProperties_1=applyProperties$1,document$5=document_1,applyProperties=applyProperties_1,isVNode$2=isVnode,isVText$2=isVtext,isWidget$3=isWidget_1,handleThunk$2=handleThunk_1,createElement_1=createElement,noChild={},domIndex_1=domIndex$1,isWidget$5=isWidget_1,updateWidget_1=updateWidget$1,applyProperties$2=applyProperties_1,isWidget$4=isWidget_1,VPatch$1=vpatch,updateWidget=updateWidget_1,patchOp$1=applyPatch$1,document$2=document_1,isArray$5=index$4,render$1=createElement_1,domIndex=domIndex_1,patchOp=patchOp$1,patch_1$2=patch$2,patch$1=patch_1$2,patch_1=patch$1,version$6=version$2,isVNode$4=isVnode,isWidget$7=isWidget_1,isThunk$3=isThunk_1,isVHook=isVhook,vnode=VirtualNode,noProperties={},noChildren=[];VirtualNode.prototype.version=version$6,VirtualNode.prototype.type="VirtualNode";var version$7=version$2,vtext=VirtualText;VirtualText.prototype.version=version$7,VirtualText.prototype.type="VirtualText";var index$14=function(e){var t,n=String.prototype.split,i=/()??/.exec("")[1]===e;return t=function(t,r,o){if("[object RegExp]"!==Object.prototype.toString.call(r))return n.call(t,r,o);var s,a,l,u,c=[],p=(r.ignoreCase?"i":"")+(r.multiline?"m":"")+(r.extended?"x":"")+(r.sticky?"y":""),h=0,r=new RegExp(r.source,p+"g");for(t+="",i||(s=new RegExp("^"+r.source+"$(?!\\s)",p)),o=o===e?-1>>>0:o>>>0;(a=r.exec(t))&&(l=a.index+a[0].length,!(l>h&&(c.push(t.slice(h,a.index)),!i&&a.length>1&&a[0].replace(s,function(){for(var t=1;t<arguments.length-2;t++)arguments[t]===e&&(a[t]=e)}),a.length>1&&a.index<t.length&&Array.prototype.push.apply(c,a.slice(1)),u=a[0].length,h=l,c.length>=o)));)r.lastIndex===a.index&&r.lastIndex++;return h===t.length?!u&&r.test("")||c.push(""):c.push(t.slice(h)),c.length>o?c.slice(0,o):c}}(),split$2=index$14,classIdSplit=/([\.#]?[a-zA-Z0-9\u007F-\uFFFF_:-]+)/,notClassId=/^\.|#/,parseTag_1=parseTag$1,softSetHook$1=SoftSetHook;SoftSetHook.prototype.hook=function(e,t){e[t]!==this.value&&(e[t]=this.value)};var root="undefined"!=typeof window?window:"undefined"!=typeof commonjsGlobal?commonjsGlobal:{},index$18=Individual$1,Individual=index$18,oneVersion=OneVersion,OneVersionConstraint=oneVersion,MY_VERSION="7";OneVersionConstraint("ev-store",MY_VERSION);var hashKey="__EV_STORE_KEY@"+MY_VERSION,index$16=EvStore$1,EvStore=index$16,evHook$1=EvHook;EvHook.prototype.hook=function(e,t){var n=EvStore(e),i=t.substr(3);n[i]=this.value},EvHook.prototype.unhook=function(e,t){var n=EvStore(e),i=t.substr(3);n[i]=void 0};var isArray$6=index$4,VNode$1=vnode,VText$1=vtext,isVNode$3=isVnode,isVText$3=isVtext,isWidget$6=isWidget_1,isHook$3=isVhook,isVThunk=isThunk_1,parseTag=parseTag_1,softSetHook=softSetHook$1,evHook=evHook$1,index$12=h$3,h$2=index$12,h_1=h$2,createElement$1=createElement_1,createElement_1$2=createElement$1,diff=diff_1,patch=patch_1,h$1=h_1,create$7=createElement_1$2,VNode=vnode,VText=vtext,index$2={diff:diff,patch:patch,h:h$1,create:create$7,VNode:VNode,VText:VText},h$1=index$2.h,create$7=index$2.create,diff=index$2.diff,patch=index$2.patch,Observer=function(){function e(e,t,n){this.OnNext=e,this.OnError=t||function(e){},this.OnCompleted=n||function(){}}return e.prototype[_Symbol.reflection]=function(){return{interfaces:["System.IObserver"]}},e}(),Event$2=function(){function e(e,t){this._subscriber=e,this.delegates=t||new Array}return e.prototype.Add=function(e){this._addHandler(e)},Object.defineProperty(e.prototype,"Publish",{get:function(){return this},enumerable:!0,configurable:!0}),e.prototype.Trigger=function(e){iterate$1(function(t){return t(e)},this.delegates)},e.prototype._addHandler=function(e){this.delegates.push(e)},e.prototype._removeHandler=function(e){var t=this.delegates.indexOf(e);t>-1&&this.delegates.splice(t,1)},e.prototype.AddHandler=function(e){null==this._dotnetDelegates&&(this._dotnetDelegates=new Map);var t=function(t){e(null,t)};this._dotnetDelegates.set(e,t),this._addHandler(t)},e.prototype.RemoveHandler=function(e){if(null!=this._dotnetDelegates){var t=this._dotnetDelegates.get(e);null!=t&&(this._dotnetDelegates.delete(e),this._removeHandler(t))}},e.prototype._subscribeFromObserver=function(e){var t=this;if(this._subscriber)return this._subscriber(e);var n=e.OnNext;return this._addHandler(n),createDisposable(function(){return t._removeHandler(n)})},e.prototype._subscribeFromCallback=function(e){var t=this;return this._addHandler(e),createDisposable(function(){return t._removeHandler(e)})},e.prototype.Subscribe=function(e){return"function"==typeof e?this._subscribeFromCallback(e):this._subscribeFromObserver(e)},e}(),DomAttribute=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Html.DomAttribute",interfaces:["FSharpUnion"],cases:{Attribute:["string"],Event:["function"],Property:[Any]}}}}]),e}();setType("TheGamma.Html.DomAttribute",DomAttribute);var DomNode=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Html.DomNode",interfaces:["FSharpUnion"],cases:{Delayed:["string",e,"function"],Element:["string","string",FableArray(Tuple(["string",DomAttribute])),FableArray(e),Option("function")],Part:["function"],Text:["string"]}}}}]),e}();setType("TheGamma.Html.DomNode",DomNode);var counter=0,El=function(){function e(t){_classCallCheck(this,e),this.ns=t}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Html.El",properties:{Namespace:"string"}}}}]),_createClass(e,[{key:"delayed",value:function(e,t,n){return new DomNode("Delayed",[e,t,n])}},{key:"part",value:function(e,t){var n=new Event$2,i=e,r=null,o=null,s=function(){var e=[r,o],t=null!=e[0]&&null!=e[1]?[0,e[0],e[1]]:[1];switch(t[0]){case 0:!function(e){renderTo(t[1],e)}(t[2](i));break;case 1:}};return add$5(function(e){i=t(i)(e),s(null)},n.Publish),[function(e){n.Trigger(e)},function(e){return o=e,new DomNode("Part",[function(e){r=e,s(null)}])}]}},{key:"Namespace",get:function(){return this.ns}}],[{key:"op_Dynamic",value:function(e,t){return function(n){return function(i){var r="chosen"!==t?[t,null]:["select",function(e){jQuery(e).chosen();var t=!0,i=!1,r=void 0;try{for(var o,s=_getIterator(n);!(t=(o=s.next()).done);t=!0){var a=o.value;"Event"===a[1].Case&&jQuery(e).on(a[0],function(){a[1].Fields[0](e)(event)})}}catch(e){i=!0,r=e}finally{try{!t&&s.return&&s.return()}finally{if(i)throw r}}}];return new DomNode("Element",[e.Namespace,r[0],_Array$from(n),_Array$from(i),r[1]])}}}}]),e}();setType("TheGamma.Html.El",El);var h$$1=new El(null),s=new El("http://www.w3.org/2000/svg"),html=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.html",properties:{}}}}],[{key:"img",value:function(e){return function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("img")(ofArray([op_EqualsGreater("src",e)]))(new List$2)}}]),e}();setType("TheGamma.html",html);var table=function(){function e(t,n,i,r){_classCallCheck(this,e),this.data=t,this.showKey=n,this.hiddenColumns=i,this.addedColumns=r}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.table",interfaces:["FSharpRecord"],properties:{data:makeGeneric(series,{k:GenericParam("k"),v:GenericParam("v")}),showKey:Option("boolean"),hiddenColumns:makeGeneric(FableSet,{T:"string"}),addedColumns:makeGeneric(List$2,{T:Tuple(["string","function"])})}}}},{key:"set",value:function(t,n){var i=this.data.set(this.data.data,null,null,null!=t?t:this.data.seriesName);return new e(i,null==n?this.showKey:n,this.hiddenColumns,this.addedColumns)}},{key:"hideColumns",value:function(t){var n=create$2(t,new GenericComparer(compare));return new e(this.data,this.showKey,n,this.addedColumns)}},{key:"addColumn",value:function(t,n){var i=new List$2([t,n],this.addedColumns);return new e(this.data,this.showKey,this.hiddenColumns,i)}},{key:"render",value:function(){var e=this,t=function(e){return function(t){return function(n){return function(i){return function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("tr")(new List$2)(toList(delay(function(){return append$1(e?singleton$1(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)(t)(new List$2)(ofArray([text(n)]))):empty(),delay(function(){return map$5(function(e){return function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)(t)(new List$2)(ofArray([e]))},i)}))})))}}}},n=function(n){return function(i){return function(r){return function(o){return function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("table")(ofArray([op_EqualsGreater("class","thegamma-table")]))(toList(delay(function(){return append$1(isNullOrWhiteSpace(e.data.seriesName)?empty():singleton$1(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("caption")(new List$2)(ofArray([text(e.data.seriesName)]))),delay(function(){return append$1(singleton$1(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("thead")(new List$2)(ofArray([t(n)("th")(i)(r)]))),delay(function(){return singleton$1(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("tbody")(new List$2)(o))}))}))})))}}}},i=function(e){var t=toList(delay(function(){return map$5(function(e){return e.key},function(e){return _Object$keys(e).map(function(t){return{key:t,value:e[t]}})}(e))})).Equals(ofArray(["data","keyName","valueName","seriesName"]));if(t){var n=null;return e.data.Then(function(e){n=e}),function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("span")(new List$2)(ofArray(n.map(function(e){return e[1]})))}return text(toString$2(e))};return function(r){return r.Delay(function(){return r.TryWith(r.Delay(function(){return r.Bind(Async_AwaitFuture_Static(e.data.data),function(o){var s=function(t){return function(e){return _Object$keys(e).map(function(t){return{key:t,value:e[t]}})}(t).filter(function(t){return!e.hiddenColumns.has(t.key)})},a=head(o),l=toList(delay(function(){return append$1("object"==_typeof(a[1])?map$5(function(e){return text(e.key)},s(a[1])):singleton$1(text(e.data.valueName)),delay(function(){return collect$1(function(e){return singleton$1(text(e[0]))},e.addedColumns)}))})),u=null!=e.showKey?e.showKey:!("object"==_typeof(a[1]));return r.Return(function(e){var t=n(e);return function(e){var n=t(e);return function(e){var t=n(e);return function(e){return t(e)}}}}(u)(e.data.keyName)(l)(toList(delay(function(){return collect$1(function(n){return singleton$1(function(){var r=toList(delay(function(){return append$1("object"==_typeof(n[1])?map$5(function(e){return text(e.value)},s(n[1])):singleton$1("number"!=typeof n[1]?text(toString$2(n[1])):isNaN(n[1])?text(""):text(n[1])),delay(function(){return collect$1(function(e){return singleton$1(i(e[1](n[1])))},e.addedColumns)}))}));return function(e){var n=t(e);return function(e){var t=n(e);return function(e){var n=t(e);return function(e){return n(e)}}}}(u)("td")(n[0])(r)}())},o)}))))})}),function(e){return Log.exn("live","Getting data for table failed: %O",e),r.Return(function(){throw e}())})})}(singleton$2)}},{key:"show",value:function(e){var t=this;!function(e){startImmediate(e)}(function(n){return n.Delay(function(){return n.Bind(t.render(),function(t){return renderTo(document.getElementById(e),t),n.Zero()})})}(singleton$2))}}],[{key:"create",value:function(t){var n=create$2(null,new GenericComparer(compare)),i=new List$2;return new e(t,null,n,i)}}]),e}();setType("TheGamma.table",table);var placeholder=function(){function e(t){_classCallCheck(this,e),this.message=t}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.placeholder",properties:{}}}}]),_createClass(e,[{key:"show",value:function(e){renderTo(document.getElementById(e),function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("div")(ofArray([op_EqualsGreater("class","placeholder")]))(ofArray([function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("p")(new List$2)(ofArray([text(this.message)]))])))}}],[{key:"create",value:function(t){return new e(t)}}]),e}();setType("TheGamma.placeholder",placeholder);var core$4=_core,$JSON$1=core$4.JSON||(core$4.JSON={stringify:JSON.stringify}),stringify$2=function(e){return $JSON$1.stringify.apply($JSON$1,arguments)},stringify$1=createCommonjsModule(function(e){e.exports={default:stringify$2,__esModule:!0}}),_JSON$stringify=unwrapExports(stringify$1),_stringWs="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff",$export$9=_export,defined$4=_defined,fails$2=_fails,spaces=_stringWs,space="["+spaces+"]",non="​",ltrim=RegExp("^"+space+space+"*"),rtrim=RegExp(space+space+"*$"),exporter=function(e,t,n){var i={},r=fails$2(function(){return!!spaces[e]()||non[e]()!=non}),o=i[e]=r?t(trim$1):spaces[e];n&&(i[n]=o),$export$9($export$9.P+$export$9.F*r,"String",i)},trim$1=exporter.trim=function(e,t){return e=String(defined$4(e)),1&t&&(e=e.replace(ltrim,"")),2&t&&(e=e.replace(rtrim,"")),e},_stringTrim=exporter,$parseInt$1=_global.parseInt,$trim=_stringTrim.trim,ws=_stringWs,hex=/^[\-+]?0[xX]/,_parseInt$3=8!==$parseInt$1(ws+"08")||22!==$parseInt$1(ws+"0x16")?function(e,t){var n=$trim(String(e),3);return $parseInt$1(n,t>>>0||(hex.test(n)?16:10))}:$parseInt$1,$export$8=_export,$parseInt=_parseInt$3;$export$8($export$8.S+$export$8.F*(Number.parseInt!=$parseInt),"Number",{parseInt:$parseInt});var _parseInt$1=parseInt,_parseInt=createCommonjsModule(function(e){e.exports={default:_parseInt$1,__esModule:!0}}),_Number$parseInt=unwrapExports(_parseInt),GeographyConfig=function(){function e(t,n){_classCallCheck(this,e),this.popupOnHover=t,this.highlightOnHover=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Maps.GeographyConfig",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{popupOnHover:"boolean",highlightOnHover:"boolean"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.Maps.GeographyConfig",GeographyConfig);var DatamapConfig=function(){function e(t,n,i,r,o){_classCallCheck(this,e),this.element=t,this.scope=n,this.geographyConfig=i,this.fills=r,this.data=o}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Maps.DatamapConfig",interfaces:["FSharpRecord","System.IEquatable"],properties:{element:Interface("Fable.Import.Browser.HTMLElement"),scope:"string",geographyConfig:GeographyConfig,fills:Any,data:Any}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}}]),e}();setType("TheGamma.Maps.DatamapConfig",DatamapConfig);var BubblesConfig=function(){function e(t,n){_classCallCheck(this,e),this.popupTemplate=t,this.key=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Maps.BubblesConfig",interfaces:["FSharpRecord","System.IEquatable"],properties:{popupTemplate:"function",key:"function"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}}]),e}();setType("TheGamma.Maps.BubblesConfig",BubblesConfig);var GeoGlobals=function(e){var t=e.Locations=function(){function e(t,n){_classCallCheck(this,e),this.country=t,this.coordinates=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Maps.GeoGlobals.Locations",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{country:"string",coordinates:FableArray(Float64Array,!0)}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.Maps.GeoGlobals.Locations",t);e.locations=function(e){return function(t){return Async_CreateNamedFuture_Static(e,t)}}("locations")(function(e){return e.Delay(function(){return e.Bind(Http.Request("GET","/data/locations.json"),function(t){var n=create$3(JSON.parse(t).map(function(e){return[e.country,e.coordinates]}),new GenericComparer(compare));return e.Return(n)})})}(singleton$2));return e}({}),geo=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Maps.geo",properties:{}}}}],[{key:"lookup",value:function(e){return function(t){return t.Delay(function(){return t.Bind(Async_AwaitFuture_Static(GeoGlobals.locations),function(n){return t.Return(defaultArg(tryFind$1(e,n),new Float64Array([0,0])))})})}(singleton$2)}}]),e}();setType("TheGamma.Maps.geo",geo);var math=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Maps.math",properties:{}}}}],[{key:"sqrt",value:function(e){return Math.sqrt(e)}},{key:"pow",value:function(e,t){return Math.pow(e,t)}},{key:"log",value:function(e,t){return null!=t?Math.log(e,t):Math.log(e)}},{key:"min",value:function(e,t){return e<t?e:t}},{key:"max",value:function(e,t){return e>t?e:t}},{key:"add",value:function(e,t){return e+t}},{key:"times",value:function(e,t){return e*t}},{key:"sub",value:function(e,t){return e-t}},{key:"div",value:function(e,t){return e/t}}]),e}();setType("TheGamma.Maps.math",math);var timeline=function(){function e(t,n,i,r,o,s,a,l,u,c,p){_classCallCheck(this,e),this.data=t,this.colors=n,this.titleTemplate=i,this.defaultFill=r,this.delay=o,this.overflowDelay=s,this.infoSelector=a,this.locSelector=l,this.sizeSelector=u,this.detailsSelector=c,this.timeSelector=p}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Maps.timeline",interfaces:["FSharpRecord"],properties:{data:makeGeneric(series,{k:GenericParam("k"),v:GenericParam("v")}),colors:FableArray("string"),titleTemplate:"string",defaultFill:"string",delay:"number",overflowDelay:"number",infoSelector:"function",locSelector:"function",sizeSelector:"function",detailsSelector:Option("function"),timeSelector:"function"}}}},{key:"set",value:function(t,n,i,r,o,s){var a=null!=n?n:this.colors,l=null!=t?t:this.defaultFill,u=null!=i?i:this.titleTemplate,c=null!=r?r:this.delay,p=null!=s?s:this.detailsSelector,h=null!=o?o:this.overflowDelay;return new e(this.data,a,u,l,c,h,this.infoSelector,this.locSelector,this.sizeSelector,p,this.timeSelector)}},{key:"using",value:function(t,n,i,r){return new e(this.data,this.colors,this.titleTemplate,this.defaultFill,this.delay,this.overflowDelay,r,t,i,this.detailsSelector,n)}},{key:"show",value:function(e){var t=this,n="map"+function(){var e=void 0,t=now();return e=ticks$$1(t),toString$2(e)}();renderTo(document.getElementById(e),function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("div")(ofArray([op_EqualsGreater("class","map")]))(ofArray([function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("div")(ofArray([op_EqualsGreater("id",n+"_title")]))(ofArray([text("")])),function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("div")(ofArray([op_EqualsGreater("id",n),op_EqualsGreater("class","mapcontainer")]))(new List$2),function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("div")(new List$2)(ofArray([function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("div")(ofArray([op_EqualsGreater("class","buttons")]))(ofArray([function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("a")(ofArray([op_EqualsGreater("id",n+"_btn")]))(ofArray([function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("i")(ofArray([op_EqualsGreater("class","fa fa-pause")]))(new List$2)]))])),function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("input")(ofArray([op_EqualsGreater("id",n+"_player"),op_EqualsGreater("type","range")]))(new List$2)]))])));var i=_Array$from(mapIndexed$1(function(e,t){return[fsFormat("item%d")(function(e){return e})(e),t]},this.colors)),r=new Datamap(new DatamapConfig(document.getElementById(n),"world",new GeographyConfig(!1,!1),createObj(new List$2(["defaultFill",this.defaultFill],ofArray(i))),{})),o=function(e){return function(n){return function(r){for(var o=[],s=0;s<=e.length-1;s++){var a=e[s];equals(a[3],r)&&!function(e){o.push(e)}(createObj(append$$1(null!=t.detailsSelector?ofArray([["details",join("",map$5(function(e){return toString$2(e)},t.detailsSelector(a[2])))]]):new List$2,ofArray([["radius",t.sizeSelector(a[2])],["borderWidth","1px"],["fillKey",fsFormat("item%d")(function(e){return e})(a[0]%i.length)],["info",defaultArg(tryFind$1(fsFormat("%O, %O")(function(e){return e})(a[1][0])(a[1][1]),n),"")],["latitude",a[1][0]],["longitude",a[1][1]]]))))}return _Array$from(o)}}};!function(e){startImmediate(e)}(function(e){return e.Delay(function(){return e.Bind(Async_AwaitFuture_Static(t.data.data),function(i){var s=new Array(i.length).fill(null);return e.Combine(e.For(range(0,i.length-1),function(n){return e.Bind(t.locSelector(i[n][1]),function(t){return s[n]=t,e.Zero()})}),e.Delay(function(){var a=create$3(mapIndexed$1(function(e,t){return[ofArray(t),e]},distinct(s)),new GenericComparer(function(e,t){return e.CompareTo(t)})),l=_Array$from(map2(function(e,n){return[a.get(ofArray(n)),n,e[1],t.timeSelector(e[1])]},i,s)),u=create$3(map$5(function(e){return[e[0],join("<br />",distinct(map$5(function(e){return t.infoSelector(e[2])},e[1])))]},groupBy$1(function(e){return fsFormat("%O, %O")(function(e){return e})(e[1][0])(e[1][1])},l)),new GenericComparer(compare)),c=Int32Array.from(sortWith(function(e,t){return compare(e,t)},distinct(Int32Array.from(map$5(function(e){return e[3]},l))))),p=([reduce(function(e,t){return Math.min(e,t)},c),reduce(function(e,t){return Math.max(e,t)},c)],document.getElementById(n+"_player")),h=document.getElementById(n+"_btn");return e.Combine(1===c.length?function(){return p.style.display="none",h.style.display="none",e.Zero()}():e.Zero(),e.Delay(function(){p.min=String(0),p.value=String(0),p.max=String(c.length-1);var i=function(){var e=c[_Number$parseInt(p.value)],i=o(l)(u)(e);renderTo(document.getElementById(n+"_title"),function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("h2")(new List$2)(ofArray([text(replace$$1(t.titleTemplate,"%title",String(e)))])));var s=void 0,a=function(e){return _JSON$stringify([e.latitude,e.longitude])};s=new BubblesConfig(function(e,n){return null!=t.detailsSelector?fsFormat("<div style='pointer-events:none' class='hoverinfo'><strong>%s</strong><br /> %s </div>")(function(e){return e})(n.info)(n.details):fsFormat("<div style='pointer-events:none' class='hoverinfo'>%s</div>")(function(e){return e})(n.info)},a),r.bubbles(i,s)},s=!0,a=function(){!function(e){startImmediate(e)}(function(e){return e.Delay(function(){return e.While(function(){return s},e.Delay(function(){var n=_Number$parseInt(p.value);return i(null),p.value=String(n+1===c.length?0:n+1),e.Bind(sleep(n+1===c.length?t.overflowDelay:t.delay),function(){return e.Return(null)})}))})}(singleton$2))};return p.onchange=function(e){return s=!1,function(e){renderTo(h,e)}(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("i")(ofArray([op_EqualsGreater("class","fa fa-play")]))(new List$2)),i(null)},p.oninput=p.onchange,h.onclick=function(e){return s=!s,function(e){renderTo(h,e)}(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("i")(ofArray([op_EqualsGreater("class",s?"fa fa-pause":"fa fa-play")]))(new List$2)),s&&a(null),null},a(null),e.Zero()}))}))})})}(singleton$2))}}],[{key:"create",value:function(t){var n=["red"],i="blue",r=750,o=null,s=2e3,a="%title",l=function(e){return""},u=function(e){return 0},c=function(e){return 10};return new e(t,n,a,i,r,s,l,function(e){throw new Error("!")},c,o,u)}}]),e}();setType("TheGamma.Maps.timeline",timeline);var $export$10=_export;$export$10($export$10.S,"Math",{log10:function(e){return Math.log(e)/Math.LN10}});var log10$1=_core.Math.log10,log10=createCommonjsModule(function(e){e.exports={default:log10$1,__esModule:!0}}),_Math$log=unwrapExports(log10),Color=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Interactive.Compost.Color",interfaces:["FSharpUnion","System.IEquatable","System.IComparable"],cases:{HTML:["string"],RGB:["number","number","number"]}}}},{key:"Equals",value:function(e){return equalsUnions(this,e)}},{key:"CompareTo",value:function(e){return compareUnions(this,e)}}]),e}();setType("TheGamma.Interactive.Compost.Color",Color);var Width=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Interactive.Compost.Width",interfaces:["FSharpUnion","System.IEquatable","System.IComparable"],cases:{Pixels:["number"]}}}},{key:"Equals",value:function(e){return equalsUnions(this,e)}},{key:"CompareTo",value:function(e){return compareUnions(this,e)}}]),e}();setType("TheGamma.Interactive.Compost.Width",Width);var FillStyle=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Interactive.Compost.FillStyle",interfaces:["FSharpUnion","System.IEquatable"],cases:{LinearGradient:[Interface("System.Collections.Generic.IEnumerable")],
Solid:[Tuple(["number",Color])]}}}},{key:"Equals",value:function(e){return equalsUnions(this,e)}}]),e}();setType("TheGamma.Interactive.Compost.FillStyle",FillStyle);var _Number=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Interactive.Compost.Number",interfaces:["FSharpUnion","System.IEquatable","System.IComparable"],cases:{Integer:["number"],Percentage:["number"]}}}},{key:"Equals",value:function(e){return equalsUnions(this,e)}},{key:"CompareTo",value:function(e){return compareUnions(this,e)}}]),e}();setType("TheGamma.Interactive.Compost.Number",_Number);var Style=function(){function e(t,n,i,r,o,s,a){_classCallCheck(this,e),this.StrokeColor=t,this.StrokeWidth=n,this.StrokeDashArray=i,this.Fill=r,this.Animation=o,this.Font=s,this.Cursor=a}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Interactive.Compost.Style",interfaces:["FSharpRecord"],properties:{StrokeColor:Tuple(["number",Color]),StrokeWidth:Width,StrokeDashArray:Interface("System.Collections.Generic.IEnumerable"),Fill:FillStyle,Animation:Option(Tuple(["number","string","function"])),Font:"string",Cursor:"string"}}}}]),e}();setType("TheGamma.Interactive.Compost.Style",Style);var HorizontalAlign=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Interactive.Compost.HorizontalAlign",interfaces:["FSharpUnion","System.IEquatable","System.IComparable"],cases:{Center:[],End:[],Start:[]}}}},{key:"Equals",value:function(e){return equalsUnions(this,e)}},{key:"CompareTo",value:function(e){return compareUnions(this,e)}}]),e}();setType("TheGamma.Interactive.Compost.HorizontalAlign",HorizontalAlign);var VerticalAlign=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Interactive.Compost.VerticalAlign",interfaces:["FSharpUnion","System.IEquatable","System.IComparable"],cases:{Baseline:[],Hanging:[],Middle:[]}}}},{key:"Equals",value:function(e){return equalsUnions(this,e)}},{key:"CompareTo",value:function(e){return compareUnions(this,e)}}]),e}();setType("TheGamma.Interactive.Compost.VerticalAlign",VerticalAlign);var continuous=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Interactive.Compost.continuous",interfaces:["FSharpUnion","System.IEquatable","System.IComparable"],cases:{CO:["number"]}}}},{key:"Equals",value:function(e){return equalsUnions(this,e)}},{key:"CompareTo",value:function(e){return compareUnions(this,e)}}]),e}();setType("TheGamma.Interactive.Compost.continuous",continuous);var categorical=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Interactive.Compost.categorical",interfaces:["FSharpUnion","System.IEquatable","System.IComparable"],cases:{CA:["string"]}}}},{key:"Equals",value:function(e){return equalsUnions(this,e)}},{key:"CompareTo",value:function(e){return compareUnions(this,e)}}]),e}();setType("TheGamma.Interactive.Compost.categorical",categorical);var Value=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Interactive.Compost.Value",interfaces:["FSharpUnion","System.IEquatable","System.IComparable"],cases:{CAR:[makeGeneric(categorical,{u:GenericParam("u")}),"number"],COV:[makeGeneric(continuous,{u:GenericParam("u")})]}}}},{key:"Equals",value:function(e){return equalsUnions(this,e)}},{key:"CompareTo",value:function(e){return compareUnions(this,e)}}]),e}();setType("TheGamma.Interactive.Compost.Value",Value);var EventHandler=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Interactive.Compost.EventHandler",interfaces:["FSharpUnion"],cases:{Click:["function"],MouseDown:["function"],MouseLeave:["function"],MouseMove:["function"],MouseUp:["function"],TouchEnd:["function"],TouchMove:["function"],TouchStart:["function"]}}}}]),e}();setType("TheGamma.Interactive.Compost.EventHandler",EventHandler);var Orientation=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Interactive.Compost.Orientation",interfaces:["FSharpUnion","System.IEquatable","System.IComparable"],cases:{Horizontal:[],Vertical:[]}}}},{key:"Equals",value:function(e){return equalsUnions(this,e)}},{key:"CompareTo",value:function(e){return compareUnions(this,e)}}]),e}();setType("TheGamma.Interactive.Compost.Orientation",Orientation);var Shape=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Interactive.Compost.Shape",interfaces:["FSharpUnion"],cases:{Area:[Interface("System.Collections.Generic.IEnumerable")],Axes:[makeGeneric(e,{vx:GenericParam("vx"),vy:GenericParam("vy")})],Bar:[makeGeneric(continuous,{u:GenericParam("vx")}),makeGeneric(categorical,{u:GenericParam("vy")})],Column:[makeGeneric(categorical,{u:GenericParam("vx")}),makeGeneric(continuous,{u:GenericParam("vy")})],Interactive:[Interface("System.Collections.Generic.IEnumerable"),makeGeneric(e,{vx:GenericParam("vx"),vy:GenericParam("vy")})],Layered:[Interface("System.Collections.Generic.IEnumerable")],Line:[Interface("System.Collections.Generic.IEnumerable")],Padding:[Tuple(["number","number","number","number"]),makeGeneric(e,{vx:GenericParam("vx"),vy:GenericParam("vy")})],Scale:[Option(Tuple([makeGeneric(continuous,{u:GenericParam("vx")}),makeGeneric(continuous,{u:GenericParam("vx")})])),Option(Tuple([makeGeneric(continuous,{u:GenericParam("vy")}),makeGeneric(continuous,{u:GenericParam("vy")})])),makeGeneric(e,{vx:GenericParam("vx"),vy:GenericParam("vy")})],Stack:[Orientation,Interface("System.Collections.Generic.IEnumerable")],Style:["function",makeGeneric(e,{vx:GenericParam("vx"),vy:GenericParam("vy")})],Text:[makeGeneric(Value,{u:GenericParam("vx")}),makeGeneric(Value,{u:GenericParam("vy")}),VerticalAlign,HorizontalAlign,"string"]}}}}]),e}();setType("TheGamma.Interactive.Compost.Shape",Shape);var Svg=function(e){var t=e.StringBuilder=function(){function e(){_classCallCheck(this,e),this.strs=new List$2}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Interactive.Compost.Svg.StringBuilder",properties:{}}}}]),_createClass(e,[{key:"Append",value:function(e){this.strs=new List$2(e,this.strs)}},{key:"ToString",value:function(){return join("",reverse$$1(this.strs))}}]),e}();setType("TheGamma.Interactive.Compost.Svg.StringBuilder",t);var n=e.PathSegment=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Interactive.Compost.Svg.PathSegment",interfaces:["FSharpUnion","System.IEquatable","System.IComparable"],cases:{LineTo:[Tuple(["number","number"])],MoveTo:[Tuple(["number","number"])]}}}},{key:"Equals",value:function(e){return equalsUnions(this,e)}},{key:"CompareTo",value:function(e){return compareUnions(this,e)}}]),e}();setType("TheGamma.Interactive.Compost.Svg.PathSegment",n);var i=e.Svg=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Interactive.Compost.Svg.Svg",interfaces:["FSharpUnion","System.IEquatable","System.IComparable"],cases:{Combine:[FableArray(e)],Empty:[],Path:[FableArray(n),"string"],Text:[Tuple(["number","number"]),"string","string"]}}}},{key:"Equals",value:function(e){return equalsUnions(this,e)}},{key:"CompareTo",value:function(e){return compareUnions(this,e)}}]),e}();setType("TheGamma.Interactive.Compost.Svg.Svg",i);var r=e.formatPath=function(e){var n=new t,i=!0,r=!1,o=void 0;try{for(var s,a=_getIterator(e);!(i=(s=a.next()).done);i=!0){var l=s.value;if("LineTo"===l.Case){var u=l.Fields[0][1],c=l.Fields[0][0];n.Append("L"+String(c)+" "+String(u)+" ")}else{var p=l.Fields[0][1],h=l.Fields[0][0];n.Append("M"+String(h)+" "+String(p)+" ")}}}catch(e){r=!0,o=e}finally{try{!i&&a.return&&a.return()}finally{if(r)throw o}}return toString$2(n)},o=e.renderSvg=function(e){return delay(function(){if("Text"===e.Case){var t=e.Fields[0][1],n=e.Fields[0][0];return singleton$1(function(e){return function(t){return El.op_Dynamic(e,t)}}(s)("text")(ofArray([op_EqualsGreater("x",String(n)),op_EqualsGreater("y",String(t)),op_EqualsGreater("style",e.Fields[2])]))(ofArray([text(e.Fields[1])])))}return"Combine"===e.Case?collect$1(function(e){return o(e)},e.Fields[0]):"Path"===e.Case?singleton$1(function(e){return function(t){return El.op_Dynamic(e,t)}}(s)("path")(ofArray([op_EqualsGreater("d",r(e.Fields[0])),op_EqualsGreater("style",e.Fields[1])]))(new List$2)):empty()})},a=e.formatColor=function(e){return"HTML"===e.Case?e.Fields[0]:fsFormat("rgb(%d, %d, %d)")(function(e){return e})(e.Fields[0])(e.Fields[1])(e.Fields[2])},l=e.formatNumber=function(e){return"Percentage"===e.Case?String(e.Fields[0])+"%":String(e.Fields[0])},u=e.formatStyle=function(e,t){var n=void 0;return null==t.Animation?n=[t,""]:!function(){var i=t.Animation[0],r=t.Animation[1],o=t.Animation[2],s="anim_"+replace$$1(function(){var e=newGuid();return e}(),"-",""),a=u(e,function(){var e=null;return new Style(t.StrokeColor,t.StrokeWidth,t.StrokeDashArray,t.Fill,e,t.Font,t.Cursor)}()),l=u(e,function(){var e=o(t),n=null;return new Style(e.StrokeColor,e.StrokeWidth,e.StrokeDashArray,e.Fill,n,e.Font,e.Cursor)}());!function(t){e.push(t)}(function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("style")(new List$2)(ofArray([text(fsFormat("@keyframes %s { from { %s } to { %s } }")(function(e){return e})(s)(a)(l))]))),n=[o(t),fsFormat("animation: %s %dms %s; ")(function(e){return e})(s)(i)(r)]}(),n[1]+("cursor:"+n[0].Cursor+";")+("font:"+n[0].Font+";")+fsFormat("stroke-opacity:%f; stroke-width:%dpx; stroke:%s; ")(function(e){return e})(n[0].StrokeColor[0])(n[0].StrokeWidth.Fields[0])(a(n[0].StrokeColor[1]))+(isEmpty$1(n[0].StrokeDashArray)?"":"stroke-dasharray:"+join(",",map$5(function(e){return l(e)},n[0].StrokeDashArray))+";")+("Solid"===n[0].Fill.Case?function(){var e=n[0].Fill.Fields[0][0],t=n[0].Fill.Fields[0][1];return fsFormat("fill-opacity:%f; fill:%s; ")(function(e){return e})(e)(a(t))}():function(){var t="gradient_"+replace$$1(function(){var e=newGuid();return e}(),"-","");return function(t){e.push(t)}(function(e){return function(t){return El.op_Dynamic(e,t)}}(s)("linearGradient")(ofArray([op_EqualsGreater("id",t)]))(toList(delay(function(){return collect$1(function(e){var t=e[1][0],n=e[1][1];return singleton$1(function(e){return function(t){return El.op_Dynamic(e,t)}}(s)("stop")(ofArray([op_EqualsGreater("offset",String(e[0])+"%"),op_EqualsGreater("stop-color",a(n)),op_EqualsGreater("stop-opacity",String(t))]))(new List$2))},n[0].Fill.Fields[0])})))),fsFormat("fill:url(#%s)")(function(e){return e})(t)}())};return e}({}),Scales=function(e){var t=e.Scale=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Interactive.Compost.Scales.Scale",interfaces:["FSharpUnion","System.IEquatable","System.IComparable"],cases:{Categorical:[FableArray(makeGeneric(categorical,{u:GenericParam("v")}))],Continuous:[makeGeneric(continuous,{u:GenericParam("v")}),makeGeneric(continuous,{u:GenericParam("v")})]}}}},{key:"Equals",value:function(e){return equalsUnions(this,e)}},{key:"CompareTo",value:function(e){return compareUnions(this,e)}}]),e}();setType("TheGamma.Interactive.Compost.Scales.Scale",t);var n=e.ScaledShapeInner=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Interactive.Compost.Scales.ScaledShapeInner",interfaces:["FSharpUnion"],cases:{ScaledArea:[FableArray(Tuple([makeGeneric(Value,{u:GenericParam("vx")}),makeGeneric(Value,{u:GenericParam("vy")})]))],ScaledAxes:[Tuple([FableArray(makeGeneric(Value,{u:GenericParam("vx")})),FableArray(makeGeneric(Value,{u:GenericParam("vy")}))]),Tuple([FableArray(Tuple([makeGeneric(Value,{u:GenericParam("vx")}),"string"])),FableArray(Tuple([makeGeneric(Value,{u:GenericParam("vy")}),"string"]))]),makeGeneric(i,{vx:GenericParam("vx"),vy:GenericParam("vy")})],ScaledBar:[makeGeneric(continuous,{u:GenericParam("vx")}),makeGeneric(categorical,{u:GenericParam("vy")})],ScaledColumn:[makeGeneric(categorical,{u:GenericParam("vx")}),makeGeneric(continuous,{u:GenericParam("vy")})],ScaledInteractive:[Interface("System.Collections.Generic.IEnumerable"),makeGeneric(i,{vx:GenericParam("vx"),vy:GenericParam("vy")})],ScaledLayered:[FableArray(makeGeneric(i,{vx:GenericParam("vx"),vy:GenericParam("vy")}))],ScaledLine:[FableArray(Tuple([makeGeneric(Value,{u:GenericParam("vx")}),makeGeneric(Value,{u:GenericParam("vy")})]))],ScaledPadding:[Tuple(["number","number","number","number"]),makeGeneric(i,{vx:GenericParam("vx"),vy:GenericParam("vy")})],ScaledStack:[Orientation,FableArray(makeGeneric(i,{vx:GenericParam("vx"),vy:GenericParam("vy")}))],ScaledStyle:["function",makeGeneric(i,{vx:GenericParam("vx"),vy:GenericParam("vy")})],ScaledText:[makeGeneric(Value,{u:GenericParam("vx")}),makeGeneric(Value,{u:GenericParam("vy")}),VerticalAlign,HorizontalAlign,"string"]}}}}]),e}();setType("TheGamma.Interactive.Compost.Scales.ScaledShapeInner",n);var i=e.ScaledShape=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Interactive.Compost.Scales.ScaledShape",interfaces:["FSharpUnion"],cases:{Scaled:[Tuple([makeGeneric(t,{v:GenericParam("vx")}),makeGeneric(t,{v:GenericParam("vy")})]),Tuple([makeGeneric(t,{v:GenericParam("vx")}),makeGeneric(t,{v:GenericParam("vy")})]),makeGeneric(n,{vx:GenericParam("vx"),vy:GenericParam("vy")})]}}}}]),e}();setType("TheGamma.Interactive.Compost.Scales.ScaledShape",i);var r=e.generateContinuousRange=function(e,n){var i=[e.Fields[0],n.Fields[0]],r=Math.pow(10,round(_Math$log(i[1]-i[0]))),o=0>-_Math$log(r)?0:-_Math$log(r),s=[Math.floor(i[0]/r)*r,Math.ceil(i[1]/r)*r],a=(s[1]-s[0])/r,l=a>=10?[r,a]:[r/10,10*a],u=l[0]*Math.floor(l[1]/5),c=l[0]*Math.floor(l[1]/10);return[new t("Continuous",[new continuous("CO",[s[0]]),new continuous("CO",[s[1]])]),_Array$from(delay(function(){return map$5(function(e){return new Value("COV",[new continuous("CO",[e])])},rangeStep(s[0],c,s[1]))})),_Array$from(delay(function(){return map$5(function(e){return[new Value("COV",[new continuous("CO",[e])]),e.toFixed(o)]},rangeStep(s[0],u,s[1]))}))]},o=e.unionScales=function(e,n){var i=[e,n],r="Categorical"===i[0].Case?"Categorical"===i[1].Case?[1,i[0].Fields[0],i[1].Fields[0]]:[2]:"Continuous"===i[1].Case?[0,i[0].Fields[1],i[1].Fields[1],i[0].Fields[0],i[1].Fields[0]]:[2];switch(r[0]){case 0:return new t("Continuous",[r[3].CompareTo(r[4])<0?r[3]:r[4],r[1].CompareTo(r[2])>0?r[1]:r[2]]);case 1:return new t("Categorical",[_Array$from(distinct(r[1].concat(r[2])))]);case 2:throw console.log(e,n),new Error("Cannot union continuous with categorical")}},s=e.replaceScales=function(e,t,r){var o=[e,t],a="ScaledText"===r.Fields[2].Case?[0]:"ScaledColumn"===r.Fields[2].Case?[0]:"ScaledBar"===r.Fields[2].Case?[0]:"ScaledArea"===r.Fields[2].Case?[0]:"ScaledStyle"===r.Fields[2].Case?[1]:"ScaledPadding"===r.Fields[2].Case?[2]:"ScaledInteractive"===r.Fields[2].Case?[3]:"ScaledLayered"===r.Fields[2].Case?[4]:"ScaledStack"===r.Fields[2].Case?[5]:"ScaledAxes"===r.Fields[2].Case?[6]:[0];switch(a[0]){case 0:return new i("Scaled",[o,r.Fields[1],r.Fields[2]]);case 1:return new i("Scaled",[o,r.Fields[1],new n("ScaledStyle",[r.Fields[2].Fields[0],s(o[0],o[1],r.Fields[2].Fields[1])])]);case 2:return new i("Scaled",[o,r.Fields[1],new n("ScaledPadding",[r.Fields[2].Fields[0],s(o[0],o[1],r.Fields[2].Fields[1])])]);case 3:return new i("Scaled",[o,r.Fields[1],new n("ScaledInteractive",[r.Fields[2].Fields[0],s(o[0],o[1],r.Fields[2].Fields[1])])]);case 4:return new i("Scaled",[o,r.Fields[1],new n("ScaledLayered",[r.Fields[2].Fields[0].map(function(e){return s(o[0],o[1],e)})])]);case 5:return new i("Scaled",[o,r.Fields[1],new n("ScaledStack",[r.Fields[2].Fields[0],r.Fields[2].Fields[1].map(function(e){return s(o[0],o[1],e)})])]);case 6:return r}},a=e.calculateLineOrAreaScale=function(e){var n=fold$1(function(e,t){var n=[e,t],i="Choice2Of3"===n[0].Case?"COV"===n[1].Case?[1,n[1].Fields[0].Fields[0],n[0].Fields[0]]:[4]:"Choice3Of3"===n[0].Case?"CAR"===n[1].Case?[3,n[1].Fields[0].Fields[0],n[0].Fields[0]]:[4]:"CAR"===n[1].Case?[2,n[1].Fields[0].Fields[0]]:[0,n[1].Fields[0].Fields[0]];switch(i[0]){case 0:return new Choice("Choice2Of3",[ofArray([i[1]])]);case 1:return new Choice("Choice2Of3",[new List$2(i[1],i[2])]);case 2:return new Choice("Choice3Of3",[ofArray([i[1]])]);case 3:return new Choice("Choice3Of3",[new List$2(i[1],i[2])]);case 4:throw new Error("Values with mismatching scales")}},new Choice("Choice1Of3",[null]),e);if("Choice2Of3"===n.Case)return new t("Continuous",[new continuous("CO",[reduce(function(e,t){return Math.min(e,t)},n.Fields[0])]),new continuous("CO",[reduce(function(e,t){return Math.max(e,t)},n.Fields[0])])]);if("Choice3Of3"===n.Case)return new t("Categorical",[_Array$from(delay(function(){return map$5(function(e){return new categorical("CA",[e])},reverse$$1(n.Fields[0]))}))]);throw new Error("No values for calculating a scale")},l=e.calculateLineOrAreaScales=function(e){var t=e.map(function(e){return e[0]}),n=e.map(function(e){return e[1]});return[a(t),a(n)]},u=e.calculateScales=function(e){if("Style"===e.Case){var a=u(e.Fields[1]);return new i("Scaled",[a.Fields[0],a.Fields[0],new n("ScaledStyle",[e.Fields[0],new i("Scaled",[a.Fields[0],a.Fields[0],a.Fields[2]])])])}if("Padding"===e.Case){var c=u(e.Fields[1]);return new i("Scaled",[c.Fields[0],c.Fields[0],new n("ScaledPadding",[e.Fields[0],new i("Scaled",[c.Fields[0],c.Fields[0],c.Fields[2]])])])}if("Column"===e.Case){var p=[new t("Categorical",[[e.Fields[0]]]),new t("Continuous",[new continuous("CO",[0]),e.Fields[1]])];return new i("Scaled",[p,p,new n("ScaledColumn",[e.Fields[0],e.Fields[1]])])}if("Bar"===e.Case){var h=[new t("Continuous",[new continuous("CO",[0]),e.Fields[0]]),new t("Categorical",[[e.Fields[1]]])];return new i("Scaled",[h,h,new n("ScaledBar",[e.Fields[0],e.Fields[1]])])}if("Text"===e.Case){var d=function(e){return"CAR"===e.Case?new t("Categorical",[[e.Fields[0]]]):new t("Continuous",[e.Fields[0],e.Fields[0]])},f=[d(e.Fields[0]),d(e.Fields[1])];return new i("Scaled",[f,f,new n("ScaledText",[e.Fields[0],e.Fields[1],e.Fields[2],e.Fields[3],e.Fields[4]])])}if("Line"===e.Case){var m=_Array$from(e.Fields[0]),y=l(m);return new i("Scaled",[y,y,new n("ScaledLine",[m])])}if("Area"===e.Case){var g=_Array$from(e.Fields[0]),v=l(g);return new i("Scaled",[v,v,new n("ScaledArea",[g])])}if("Axes"!==e.Case){if("Stack"===e.Case){var C=_Array$from(e.Fields[1]),w=C.map(function(e){return u(e)}),T=w.map(function(e){var t=e.Fields[0][0];return t}),S=w.map(function(e){var t=e.Fields[0][1];return t}),b=[T.reduce(function(e,t){return o(e,t)}),S.reduce(function(e,t){return o(e,t)})],$=[e.Fields[0],b],E="Vertical"===$[0].Case?"Continuous"===$[1][1].Case?[1]:[2]:"Continuous"===$[1][0].Case?[0]:[2];switch(E[0]){case 0:throw new Error("Horizontal stacking of continuous axes is not supported");case 1:throw new Error("Vertical stacking of continuous axes is not supported");case 2:}return s(b[0],b[1],new i("Scaled",[b,b,new n("ScaledStack",[e.Fields[0],w])]))}if("Layered"===e.Case){var _=_Array$from(e.Fields[0]),k=_.map(function(e){return u(e)}),A=k.map(function(e){var t=e.Fields[0][0];return t}),x=k.map(function(e){var t=e.Fields[0][1];return t}),F=[A.reduce(function(e,t){return o(e,t)}),x.reduce(function(e,t){return o(e,t)})];return s(F[0],F[1],new i("Scaled",[F,F,new n("ScaledLayered",[k])]))}if("Interactive"===e.Case){var P=u(e.Fields[1]);return new i("Scaled",[P.Fields[0],P.Fields[0],new n("ScaledInteractive",[e.Fields[0],new i("Scaled",[P.Fields[0],P.Fields[0],P.Fields[2]])])])}var N=u(e.Fields[2]),O=N.Fields[0][1],H=N.Fields[0][0],G=[null!=e.Fields[0]?function(e){return new t("Continuous",[e[0],e[1]])}(e.Fields[0]):H,null!=e.Fields[1]?function(e){return new t("Continuous",[e[0],e[1]])}(e.Fields[1]):O];return s(G[0],G[1],new i("Scaled",[G,G,N.Fields[2]]))}var L=function(){var t=function(e){if("Categorical"===e.Case){var t=_Array$from(delay(function(){return map$5(function(e){return new Value("CAR",[e,.5])},e.Fields[0])})),n=t.concat([new Value("CAR",[last(e.Fields[0]),1])]);return[e,n,_Array$from(delay(function(){return collect$1(function(e){return singleton$1([new Value("CAR",[new categorical("CA",[e.Fields[0]]),.5]),e.Fields[0]])},e.Fields[0])}))]}return r(e.Fields[0],e.Fields[1])},o=u(e.Fields[0]),a=o.Fields[0][1],l=o.Fields[0][0],c=t(l),p=t(a);return{v:new i("Scaled",[[c[0],p[0]],[c[0],p[0]],new n("ScaledAxes",[[c[1],p[1]],[c[2],p[2]],function(){var e=[c[0],p[0]];return function(t){return s(e[0],e[1],t)}}()(o)])])}}();if("object"===("undefined"==typeof L?"undefined":_typeof(L)))return L.v};return e}({}),Projections=function(e){var t=e.Projection=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Interactive.Compost.Projections.Projection",interfaces:["FSharpUnion","System.IEquatable","System.IComparable"],cases:{Padding:[Tuple(["number","number","number","number"]),Tuple([makeGeneric(Value,{u:GenericParam("vx")}),makeGeneric(Value,{u:GenericParam("vx")}),makeGeneric(Value,{u:GenericParam("vy")}),makeGeneric(Value,{u:GenericParam("vy")})]),makeGeneric(e,{vx:GenericParam("vx"),vy:GenericParam("vy"),ux:GenericParam("ux"),uy:GenericParam("uy")})],Scale:[Tuple(["number","number"]),Tuple(["number","number"])]}}}},{key:"Equals",value:function(e){return equalsUnions(this,e)}},{key:"CompareTo",value:function(e){return compareUnions(this,e)}}]),e}();setType("TheGamma.Interactive.Compost.Projections.Projection",t);var n=e.ProjectedShapeInner=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Interactive.Compost.Projections.ProjectedShapeInner",interfaces:["FSharpUnion"],cases:{ProjectedArea:[FableArray(Tuple([makeGeneric(Value,{u:GenericParam("vx")}),makeGeneric(Value,{u:GenericParam("vy")})]))],ProjectedAxes:[Tuple([FableArray(makeGeneric(Value,{u:GenericParam("vx")})),FableArray(makeGeneric(Value,{u:GenericParam("vy")}))]),Tuple([FableArray(Tuple([makeGeneric(Value,{u:GenericParam("vx")}),"string"])),FableArray(Tuple([makeGeneric(Value,{u:GenericParam("vy")}),"string"]))]),makeGeneric(i,{vx:GenericParam("vx"),vy:GenericParam("vy")})],ProjectedBar:[makeGeneric(continuous,{u:GenericParam("vx")}),makeGeneric(categorical,{u:GenericParam("vy")})],ProjectedColumn:[makeGeneric(categorical,{u:GenericParam("vx")}),makeGeneric(continuous,{u:GenericParam("vy")})],ProjectedInteractive:[Interface("System.Collections.Generic.IEnumerable"),makeGeneric(i,{vx:GenericParam("vx"),vy:GenericParam("vy")})],ProjectedLayered:[FableArray(makeGeneric(i,{vx:GenericParam("vx"),vy:GenericParam("vy")}))],ProjectedLine:[FableArray(Tuple([makeGeneric(Value,{u:GenericParam("vx")}),makeGeneric(Value,{u:GenericParam("vy")})]))],ProjectedStack:[Orientation,FableArray(makeGeneric(i,{vx:GenericParam("vx"),vy:GenericParam("vy")}))],ProjectedStyle:["function",makeGeneric(i,{vx:GenericParam("vx"),vy:GenericParam("vy")})],ProjectedText:[makeGeneric(Value,{u:GenericParam("vx")}),makeGeneric(Value,{u:GenericParam("vy")}),VerticalAlign,HorizontalAlign,"string"]}}}}]),e}();setType("TheGamma.Interactive.Compost.Projections.ProjectedShapeInner",n);var i=e.ProjectedShape=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Interactive.Compost.Projections.ProjectedShape",interfaces:["FSharpUnion"],cases:{Projected:[makeGeneric(t,{vx:GenericParam("vx"),vy:GenericParam("vy"),ux:Any,uy:Any}),Tuple([makeGeneric(Scales.Scale,{v:GenericParam("vx")}),makeGeneric(Scales.Scale,{v:GenericParam("vy")})]),makeGeneric(n,{vx:GenericParam("vx"),vy:GenericParam("vy")})]}}}}]),e}();setType("TheGamma.Interactive.Compost.Projections.ProjectedShape",i);var r=e.scaleOne=function(e,t,n,i){var r=[n,i];if("Continuous"===r[0].Case){if("CAR"===r[1].Case)throw new Error("Cannot project categorical value on a continuous scale.");return new continuous("CO",[(r[1].Fields[0].Fields[0]-r[0].Fields[0].Fields[0])/(r[0].Fields[1].Fields[0]-r[0].Fields[0].Fields[0])*(t-e)+e])}if("COV"===r[1].Case)throw new Error("Cannot project continuous value on a categorical scale.");var o=(t-e)/r[0].Fields[0].length,s=r[0].Fields[0].findIndex(function(e){return r[1].Fields[0].Fields[0]===e.Fields[0]}),a=s+r[1].Fields[1];return new continuous("CO",[e+a*o])},o=e.getExtremes=function(e){return"Categorical"===e.Case?[new Value("CAR",[e.Fields[0][0],0]),new Value("CAR",[e.Fields[0][e.Fields[0].length-1],1])]:[new Value("COV",[e.Fields[0]]),new Value("COV",[e.Fields[1]])]},s=e.project=function(e,t,n,i,o){var a=[n,i],l=[o,a];if("Padding"===l[0].Case){var u=l[0].Fields[0][0],c=l[0].Fields[0][1],p=l[0].Fields[2],h=l[0].Fields[1][2],d=l[0].Fields[1][0],f=l[0].Fields[0][3],m=l[0].Fields[1][3],y=l[0].Fields[1][1],g=l[0].Fields[0][2],v=s(e,t,d,h,p),C=v[1].Fields[0],w=v[0].Fields[0],T=s(e,t,y,m,p),S=T[1].Fields[0],b=T[0].Fields[0],$=[w<b?w:b,w>b?w:b,C<S?C:S,C>S?C:S],E=s(e,t,a[0],a[1],p),_=E[1].Fields[0],k=E[0].Fields[0],A=$[0]===$[1]?k:$[0]+f+($[1]-$[0]-f-c)/($[1]-$[0])*(k-$[0]),x=$[2]===$[3]?_:$[2]+u+($[3]-$[2]-u-g)/($[3]-$[2])*(_-$[2]);return[new continuous("CO",[A]),new continuous("CO",[x])]}var F=l[1][1],P=l[1][0],N=l[0].Fields[1],O=l[0].Fields[0];return[r(O[0],O[1],e,P),r(N[0],N[1],t,F)]},a=e.scaleOneInv=function(e,t,n,i){var r=[n,i];if("Categorical"===r[0].Case){var o=r[1].Fields[0],s=r[0].Fields[0],a=(t-e)/s.length,l=Math.floor(o/a),u=o/a-l;return~~l<0||~~l>=s.length?new Value("CAR",[new categorical("CA",["<outside-of-range>"]),u]):new Value("CAR",[s[~~l],u])}var c=r[1].Fields[0],p=r[0].Fields[0].Fields[0],h=r[0].Fields[1].Fields[0];return new Value("COV",[new continuous("CO",[(c-e)/(t-e)*(h-p)+p])])},l=(e.projectInv=function(e,t,n,i,r){for(;;){var o=[e,t],l=[n,i],u=[r,l];if("Scale"===u[0].Case){var c=u[1][1],p=u[1][0],h=u[0].Fields[1],d=u[0].Fields[0];return[a(d[0],d[1],o[0],p),a(h[0],h[1],o[1],c)]}var f=(u[1][1].Fields[0],u[1][0].Fields[0],u[0].Fields[0][0]),m=u[0].Fields[0][1],y=u[0].Fields[2],g=u[0].Fields[1][2],v=u[0].Fields[1][0],C=u[0].Fields[0][3],w=u[0].Fields[1][3],T=u[0].Fields[1][1],S=u[0].Fields[0][2],b=s(o[0],o[1],v,g,y),$=b[1].Fields[0],E=b[0].Fields[0],_=s(o[0],o[1],T,w,y),k=_[1].Fields[0],A=_[0].Fields[0],x=[E<A?E:A,E>A?E:A,$<k?$:k,$>k?$:k],F=l[1].Fields[0],P=l[0].Fields[0],N=(P-C)/(x[1]-x[0]-C-m)*(x[1]-x[0]),O=(F-f)/(x[3]-x[2]-f-S)*(x[3]-x[2]);e=o[0],t=o[1],n=new continuous("CO",[N]),i=new continuous("CO",[O]),r=y}},e.calculateProjections=function(e,r){for(;;){if("ScaledLine"===e.Fields[2].Case){var s=e.Fields[2].Fields[0];return new i("Projected",[r,e.Fields[0],new n("ProjectedLine",[s])])}if("ScaledBar"===e.Fields[2].Case){var a=e.Fields[2].Fields[1],u=e.Fields[2].Fields[0];return new i("Projected",[r,e.Fields[0],new n("ProjectedBar",[u,a])])}if("ScaledColumn"===e.Fields[2].Case){var c=e.Fields[2].Fields[1],p=e.Fields[2].Fields[0];return new i("Projected",[r,e.Fields[0],new n("ProjectedColumn",[p,c])])}if("ScaledText"===e.Fields[2].Case){var h=e.Fields[2].Fields[1],d=e.Fields[2].Fields[0],f=e.Fields[2].Fields[2],m=e.Fields[2].Fields[4],y=e.Fields[2].Fields[3];return new i("Projected",[r,e.Fields[0],new n("ProjectedText",[d,h,f,y,m])])}if("ScaledArea"===e.Fields[2].Case){var g=e.Fields[2].Fields[0];return new i("Projected",[r,e.Fields[0],new n("ProjectedArea",[g])])}{if("ScaledPadding"!==e.Fields[2].Case){if("ScaledAxes"===e.Fields[2].Case){var v=e.Fields[0][1],C=e.Fields[0][0],w=e.Fields[2].Fields[2],T=e.Fields[2].Fields[1],S=e.Fields[2].Fields[0],b=[o(C),o(v)],$=b[1][0],E=b[0][0],_=b[1][1],k=b[0][1],A=new t("Padding",[[20,20,40,100],[E,k,$,_],r]);return new i("Projected",[A,e.Fields[0],new n("ProjectedAxes",[S,T,l(w,A)])])}if("ScaledStack"===e.Fields[2].Case){var x=e.Fields[2].Fields[1],F=e.Fields[2].Fields[0];return new i("Projected",[r,e.Fields[0],new n("ProjectedStack",[F,x.map(function(e){return l(e,r)})])])}if("ScaledLayered"===e.Fields[2].Case){var P=e.Fields[2].Fields[0];return new i("Projected",[r,e.Fields[0],new n("ProjectedLayered",[P.map(function(e){return l(e,r)})])])}if("ScaledInteractive"===e.Fields[2].Case){var N=e.Fields[2].Fields[1],O=e.Fields[2].Fields[0];return new i("Projected",[r,e.Fields[0],new n("ProjectedInteractive",[O,l(N,r)])])}var H=e.Fields[2].Fields[0],G=e.Fields[2].Fields[1];return new i("Projected",[r,e.Fields[0],new n("ProjectedStyle",[H,l(G,r)])])}var L=e.Fields[2].Fields[0][0],I=(e.Fields[0][1],e.Fields[0][0],e.Fields[2].Fields[1]),R=e.Fields[2].Fields[0][1],D=e.Fields[2].Fields[0][3],M=e.Fields[2].Fields[0][2],B=void 0,q=I.Fields[1][1],V=I.Fields[1][0];B=[o(V),o(q)];var j=B[1][0],z=B[0][0],W=B[1][1],U=B[0][1],K=new t("Padding",[[L,R,M,D],[z,U,j,W],r]);e=I,r=K}}});return e}({}),Drawing=function(e){var t=e.hideFill=function(e){var n=new FillStyle("Solid",[[0,new Color("RGB",[0,0,0])]]),i=void 0;if(null!=e.Animation){var r=e.Animation[0],o=e.Animation[2],s=e.Animation[1];i=[r,s,function(e){return function(e){return t(e)}(o(e))}]}else i=null;return new Style(e.StrokeColor,e.StrokeWidth,e.StrokeDashArray,n,i,e.Font,e.Cursor)},n=e.hideStroke=function(e){var t=[0,e.StrokeColor[1]],i=void 0;if(null!=e.Animation){var r=e.Animation[0],o=e.Animation[2],s=e.Animation[1];i=[r,s,function(e){return function(e){return n(e)}(o(e))}]}else i=null;return new Style(t,e.StrokeWidth,e.StrokeDashArray,e.Fill,i,e.Font,e.Cursor)},i=e.drawShape=function(e,r,o){var s=function(){var s=o.Fields[1][1],a=o.Fields[1][0],l=function(e){var t=Projections.project(a,s,e[0],e[1],o.Fields[0]),n=t[1].Fields[0],i=t[0].Fields[0];return[i,n]},u=[o.Fields[2],[a,s]],c="ProjectedText"===u[0].Case?[1,u[0].Fields[3],u[0].Fields[4],u[0].Fields[2],u[0].Fields[0],u[0].Fields[1]]:"ProjectedLine"===u[0].Case?[2,u[0].Fields[0]]:"ProjectedColumn"===u[0].Case?"Categorical"===u[1][0].Case&&"Continuous"===u[1][1].Case?[4,u[1][1].Fields[1],u[1][1].Fields[0],u[1][0].Fields[0],u[0].Fields[0],u[0].Fields[1]]:[3,u[0].Fields[0],u[0].Fields[1]]:"ProjectedBar"===u[0].Case?"Categorical"===u[1][1].Case&&"Continuous"===u[1][0].Case?[6,u[1][0].Fields[1],u[1][0].Fields[0],u[1][1].Fields[0],u[0].Fields[0],u[0].Fields[1]]:[5,u[0].Fields[0],u[0].Fields[1]]:"ProjectedArea"===u[0].Case?"Continuous"===u[1][0].Case&&"Continuous"===u[1][1].Case?[8,u[1][0].Fields[1],u[1][1].Fields[1],u[0].Fields[0],u[1][0].Fields[0],u[1][1].Fields[0]]:[7,u[0].Fields[0]]:"ProjectedAxes"===u[0].Case?[9,u[0].Fields[0][0],u[0].Fields[0][1],u[0].Fields[1][0],u[0].Fields[1][1],u[0].Fields[2],u[1][0],u[1][1]]:"ProjectedLayered"===u[0].Case?[10,u[0].Fields[0]]:"ProjectedStack"===u[0].Case?[11,u[0].Fields[1]]:"ProjectedInteractive"===u[0].Case?[12,u[0].Fields[0],u[0].Fields[1]]:[0,u[0].Fields[0],u[0].Fields[1]],p=function(){switch(c[0]){case 0:return e=e,r=c[1](r),o=c[2],{v:"continue|drawShape"};case 1:var s="Hanging"===c[3].Case?"hanging":"Middle"===c[3].Case?"middle":"baseline",a="Center"===c[1].Case?"middle":"End"===c[1].Case?"end":"start";
return{v:{v:new Svg.Svg("Text",[l([c[4],c[5]]),c[2],fsFormat("alignment-baseline:%s; text-anchor:%s;")(function(e){return e})(s)(a)+Svg.formatStyle(e,r)])}};case 2:var u=_Array$from(toList(delay(function(){return append$1(singleton$1(new Svg.PathSegment("MoveTo",[l(head(c[1]))])),delay(function(){return map$5(function(e){return new Svg.PathSegment("LineTo",[l(e)])},skip(1,c[1]))}))})));return{v:{v:new Svg.Svg("Path",[u,Svg.formatStyle(e,t(r))])}};case 3:throw new Error("Column can be drawn only on matching scales");case 4:var p=[new Svg.PathSegment("MoveTo",[l([new Value("CAR",[c[4],0]),new Value("COV",[c[5]])])]),new Svg.PathSegment("LineTo",[l([new Value("CAR",[c[4],1]),new Value("COV",[c[5]])])]),new Svg.PathSegment("LineTo",[l([new Value("CAR",[c[4],1]),new Value("COV",[c[2]])])]),new Svg.PathSegment("LineTo",[l([new Value("CAR",[c[4],0]),new Value("COV",[c[2]])])]),new Svg.PathSegment("LineTo",[l([new Value("CAR",[c[4],0]),new Value("COV",[c[5]])])])];return{v:{v:new Svg.Svg("Path",[p,Svg.formatStyle(e,n(r))])}};case 5:throw new Error("Bar can be drawn only on matching scales");case 6:var h=[new Svg.PathSegment("MoveTo",[l([new Value("COV",[c[4]]),new Value("CAR",[c[5],0])])]),new Svg.PathSegment("LineTo",[l([new Value("COV",[c[4]]),new Value("CAR",[c[5],1])])]),new Svg.PathSegment("LineTo",[l([new Value("COV",[c[2]]),new Value("CAR",[c[5],1])])]),new Svg.PathSegment("LineTo",[l([new Value("COV",[c[2]]),new Value("CAR",[c[5],0])])]),new Svg.PathSegment("LineTo",[l([new Value("COV",[c[4]]),new Value("CAR",[c[5],0])])])];return{v:{v:new Svg.Svg("Path",[h,Svg.formatStyle(e,n(r))])}};case 7:throw new Error("Area can be drawn only on continuous scale");case 8:var d=[head(c[3])[0],last(c[3])[0]],f=_Array$from(toList(delay(function(){return append$1(singleton$1(new Svg.PathSegment("MoveTo",[l([d[0],new Value("COV",[c[5]])])])),delay(function(){return append$1(map$5(function(e){return new Svg.PathSegment("LineTo",[l(e)])},c[3]),delay(function(){return append$1(singleton$1(new Svg.PathSegment("LineTo",[l([d[1],new Value("COV",[c[5]])])])),delay(function(){return singleton$1(new Svg.PathSegment("LineTo",[l([d[0],new Value("COV",[c[5]])])]))}))}))}))})));return{v:{v:new Svg.Svg("Path",[f,Svg.formatStyle(e,n(r))])}};case 9:var m=function(e){return function(t){return[t[0]+e[0],t[1]+e[1]]}},y=[Projections.getExtremes(c[6]),Projections.getExtremes(c[7])],g=y[1][0],v=y[0][0],C=y[1][1],w=y[0][1];return{v:{v:new Svg.Svg("Combine",[_Array$from(delay(function(){return append$1(singleton$1(new Svg.Svg("Path",[_Array$from(delay(function(){return append$1(singleton$1(new Svg.PathSegment("MoveTo",[l([v,C])])),delay(function(){return append$1(singleton$1(new Svg.PathSegment("LineTo",[l([v,g])])),delay(function(){return singleton$1(new Svg.PathSegment("LineTo",[l([w,g])]))}))}))})),"fill:transparent; stroke:rgb(0,0,0); stroke-width:2"])),delay(function(){return append$1(collect$1(function(e){return singleton$1(new Svg.Svg("Text",[m([0,10])(l([e[0],g])),e[1],"alignment-baseline:hanging;text-anchor:middle;font:9pt sans-serif"]))},c[3]),delay(function(){return append$1(collect$1(function(e){return singleton$1(new Svg.Svg("Text",[m([-10,0])(l([v,e[0]])),e[1],"alignment-baseline:middle;text-anchor:end;font:9pt sans-serif"]))},c[4]),delay(function(){return append$1(singleton$1(new Svg.Svg("Path",[_Array$from(delay(function(){return append$1(collect$1(function(e){return append$1(singleton$1(new Svg.PathSegment("MoveTo",[l([e,g])])),delay(function(){return singleton$1(new Svg.PathSegment("LineTo",[l([e,C])]))}))},c[1]),delay(function(){return collect$1(function(e){return append$1(singleton$1(new Svg.PathSegment("MoveTo",[l([v,e])])),delay(function(){return singleton$1(new Svg.PathSegment("LineTo",[l([w,e])]))}))},c[2])}))})),"fill:transparent; stroke:rgb(228,228,228); stroke-width:1"])),delay(function(){return singleton$1(i(e,r,c[5]))}))}))}))}))}))])}};case 10:return{v:{v:new Svg.Svg("Combine",[c[1].map(function(t){return i(e,r,t)})])}};case 11:return{v:{v:new Svg.Svg("Combine",[c[1].map(function(t){return i(e,r,t)})])}};case 12:return e=e,r=r,o=c[2],{v:"continue|drawShape"}}}();if("object"===("undefined"==typeof p?"undefined":_typeof(p)))return p.v};e:for(;;){var a=s();switch(a){case"continue|drawShape":continue e;default:if("object"===("undefined"==typeof a?"undefined":_typeof(a)))return a.v}}};return e}({}),Events=function(e){var t=e.MouseEventKind=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Interactive.Compost.Events.MouseEventKind",interfaces:["FSharpUnion","System.IEquatable","System.IComparable"],cases:{Click:[],Down:[],Move:[],Up:[]}}}},{key:"Equals",value:function(e){return equalsUnions(this,e)}},{key:"CompareTo",value:function(e){return compareUnions(this,e)}}]),e}();setType("TheGamma.Interactive.Compost.Events.MouseEventKind",t);var n=e.TouchEventKind=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Interactive.Compost.Events.TouchEventKind",interfaces:["FSharpUnion","System.IEquatable","System.IComparable"],cases:{End:[],Move:[],Start:[]}}}},{key:"Equals",value:function(e){return equalsUnions(this,e)}},{key:"CompareTo",value:function(e){return compareUnions(this,e)}}]),e}();setType("TheGamma.Interactive.Compost.Events.TouchEventKind",n);var i=e.InteractiveEvent=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Interactive.Compost.Events.InteractiveEvent",interfaces:["FSharpUnion","System.IEquatable","System.IComparable"],cases:{MouseEvent:[t,Tuple([makeGeneric(Value,{u:GenericParam("vx")}),makeGeneric(Value,{u:GenericParam("vy")})])],MouseLeave:[],TouchEvent:[n,Tuple([makeGeneric(Value,{u:GenericParam("vx")}),makeGeneric(Value,{u:GenericParam("vy")})])]}}}},{key:"Equals",value:function(e){return equalsUnions(this,e)}},{key:"CompareTo",value:function(e){return compareUnions(this,e)}}]),e}();setType("TheGamma.Interactive.Compost.Events.InteractiveEvent",i);var r=e.projectEvent=function(e,t,n,r){var o=[e,t],s="TouchEvent"===r.Case?"COV"===r.Fields[1][0].Case&&"COV"===r.Fields[1][1].Case?[1,r.Fields[0],r.Fields[1][0].Fields[0],r.Fields[1][1].Fields[0]]:[2]:"MouseLeave"===r.Case?[3]:"COV"===r.Fields[1][0].Case&&"COV"===r.Fields[1][1].Case?[0,r.Fields[0],r.Fields[1][0].Fields[0],r.Fields[1][1].Fields[0]]:[2];switch(s[0]){case 0:return new i("MouseEvent",[s[1],function(){var e=[s[2],s[3]];return Projections.projectInv(o[0],o[1],e[0],e[1],n)}()]);case 1:return new i("TouchEvent",[s[1],function(){var e=[s[2],s[3]];return Projections.projectInv(o[0],o[1],e[0],e[1],n)}()]);case 2:throw new Error("TODO: projectEvent - not continuous");case 3:return new i("MouseLeave",[])}},o=e.inScale=function(e,t){var n=[e,t];if("Categorical"===n[0].Case){if("COV"===n[1].Case)throw new Error("inScale: Cannot test if continuous value is in categorical scale");return exists$1(function(e){return n[1].Fields[0].Equals(e)},n[0].Fields[0])}if("CAR"===n[1].Case)throw new Error("inScale: Cannot test if categorical value is in continuous scale");return n[1].Fields[0].Fields[0]>=(n[0].Fields[0].Fields[0]<n[0].Fields[1].Fields[0]?n[0].Fields[0].Fields[0]:n[0].Fields[1].Fields[0])&&n[1].Fields[0].Fields[0]<=(n[0].Fields[0].Fields[0]>n[0].Fields[1].Fields[0]?n[0].Fields[0].Fields[0]:n[0].Fields[1].Fields[0])},s=e.inScales=function(e,t,n){var i="MouseEvent"===n.Case?[1,n.Fields[1][0],n.Fields[1][1]]:"TouchEvent"===n.Case?[1,n.Fields[1][0],n.Fields[1][1]]:[0];switch(i[0]){case 0:return!0;case 1:return!!o(e,i[1])&&o(t,i[2])}},a=e.triggerEvent=function(e,t,n){var i="ProjectedText"===e.Fields[2].Case?[0]:"ProjectedColumn"===e.Fields[2].Case?[0]:"ProjectedBar"===e.Fields[2].Case?[0]:"ProjectedArea"===e.Fields[2].Case?[0]:"ProjectedStyle"===e.Fields[2].Case?[1,e.Fields[2].Fields[1]]:"ProjectedAxes"===e.Fields[2].Case?[1,e.Fields[2].Fields[2]]:"ProjectedStack"===e.Fields[2].Case?[2,e.Fields[2].Fields[1]]:"ProjectedLayered"===e.Fields[2].Case?[2,e.Fields[2].Fields[0]]:"ProjectedInteractive"===e.Fields[2].Case?[3]:[0];switch(i[0]){case 0:break;case 1:a(i[1],t,n);break;case 2:for(var o=0;o<=i[1].length-1;o++){var l=i[1][o];a(l,t,n)}break;case 3:var u=r(e.Fields[1][0],e.Fields[1][1],e.Fields[0],n);if(s(e.Fields[1][0],e.Fields[1][1],u)){var c=!0,p=!1,h=void 0;try{for(var d,f=_getIterator(e.Fields[2].Fields[0]);!(c=(d=f.next()).done);c=!0){var m=d.value,y=[u,m],g="TouchEvent"===y[0].Case?"Start"===y[0].Fields[0].Case?"TouchStart"===y[1].Case?[1,y[1].Fields[0],y[0].Fields[1]]:[3]:"End"===y[0].Fields[0].Case?"TouchEnd"===y[1].Case?[1,y[1].Fields[0],y[0].Fields[1]]:[3]:"TouchMove"===y[1].Case?[1,y[1].Fields[0],y[0].Fields[1]]:[3]:"MouseLeave"===y[0].Case?"MouseLeave"===y[1].Case?[2,y[1].Fields[0]]:[3]:"Move"===y[0].Fields[0].Case?"MouseMove"===y[1].Case?[0,y[1].Fields[0],y[0].Fields[1]]:[3]:"Up"===y[0].Fields[0].Case?"MouseUp"===y[1].Case?[0,y[1].Fields[0],y[0].Fields[1]]:[3]:"Down"===y[0].Fields[0].Case?"MouseDown"===y[1].Case?[0,y[1].Fields[0],y[0].Fields[1]]:[3]:"Click"===y[1].Case?[0,y[1].Fields[0],y[0].Fields[1]]:[3];switch(g[0]){case 0:t.preventDefault(),g[1](t)(g[2]);break;case 1:t.preventDefault(),g[1](t)(g[2]);break;case 2:g[1](t);break;case 3:}}}catch(e){p=!0,h=e}finally{try{!c&&f.return&&f.return()}finally{if(p)throw h}}}a(e.Fields[2].Fields[1],t,n)}};return e}({}),Compost=function(e){e.app=function(e,t,n,i){var r=new Event$2,o=function(e){r.Trigger(e)},s=document.createElement("div");document.getElementById(e).innerHTML="",document.getElementById(e).appendChild(s);var a={},l=t,u=function(e){l=null!=e?i(l)(e):l;var t=renderVirtual(n(o)(l)),r=diff(a,t);s=patch(s,r),a=t};u(null),add$5(function(e){return u(function(e){return e}(e))},r.Publish)},e.createSvg=function(e,t,n){var i=Scales.calculateScales(n),r=new Projections.Projection("Scale",[[0,e],[t,0]]),o=Projections.calculateProjections(i,r),a=void 0,l=new FillStyle("Solid",[[1,new Color("RGB",[196,196,196])]]),u=[1,new Color("RGB",[256,0,0])],c=new List$2,p=new Width("Pixels",[2]),h=null,d="default";a=new Style(u,p,c,l,h,"10pt sans-serif",d);var f=[],m=Drawing.drawShape(f,a,o),y=function(e){return function(t){return function(n){var i=function(e){return function(t){for(;;){if(null==e)return[t[0],t[1]];var n=e.offsetParent;t=[t[0]-e.offsetLeft,t[1]-e.offsetTop],e=n}}},r=function(e){for(;;){if(null!=e.offsetParent)return e;e=e.parentElement}};return i(r(e))([t,n])}}},g=function(e){return function(t){return function(n){var i=n,r=y(t)(i.pageX)(i.pageY);Events.triggerEvent(o,i,new Events.InteractiveEvent("MouseEvent",[e,[new Value("COV",[new continuous("CO",[r[0]])]),new Value("COV",[new continuous("CO",[r[1]])])]]))}}},v=function(e){return function(t){return function(n){var i=n,r=i.touches[0],s=y(t)(r.pageX)(r.pageY);Events.triggerEvent(o,i,new Events.InteractiveEvent("TouchEvent",[e,[new Value("COV",[new continuous("CO",[s[0]])]),new Value("COV",[new continuous("CO",[s[1]])])]]))}}};return function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("div")(ofArray([op_EqualsGreater("style",fsFormat("width:%dpx;height:%dpx;margin:0px auto 0px auto")(function(e){return e})(~~e)(~~t))]))(ofArray([function(e){return function(t){return El.op_Dynamic(e,t)}}(s)("svg")(ofArray([op_EqualsGreater("width",String(~~e)),op_EqualsGreater("height",String(~~t)),op_EqualsBangGreater("click",g(new Events.MouseEventKind("Click",[]))),op_EqualsBangGreater("mousemove",g(new Events.MouseEventKind("Move",[]))),op_EqualsBangGreater("mousedown",g(new Events.MouseEventKind("Down",[]))),op_EqualsBangGreater("mouseup",g(new Events.MouseEventKind("Up",[]))),op_EqualsBangGreater("mouseleave",function(e){return function(e){Events.triggerEvent(o,e,new Events.InteractiveEvent("MouseLeave",[]))}}),op_EqualsBangGreater("touchmove",v(new Events.TouchEventKind("Move",[]))),op_EqualsBangGreater("touchdown",v(new Events.TouchEventKind("Start",[]))),op_EqualsBangGreater("touchup",v(new Events.TouchEventKind("End",[])))]))(toList(delay(function(){return append$1(f,delay(function(){return Svg.renderSvg(m)}))})))]))};return e}({}),YouDrawHelpers=function(e){var t=e.YouDrawEvent=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Interactive.YouDrawHelpers.YouDrawEvent",interfaces:["FSharpUnion","System.IEquatable","System.IComparable"],cases:{Draw:["number","number"],ShowResults:[]}}}},{key:"Equals",value:function(e){return equalsUnions(this,e)}},{key:"CompareTo",value:function(e){return compareUnions(this,e)}}]),e}();setType("TheGamma.Interactive.YouDrawHelpers.YouDrawEvent",t);var n=e.YouDrawState=function(){function e(t,n,i,r){_classCallCheck(this,e),this.Completed=t,this.Clip=n,this.Data=i,this.Guessed=r}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Interactive.YouDrawHelpers.YouDrawState",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{Completed:"boolean",Clip:"number",Data:FableArray(Tuple(["number","number"])),Guessed:FableArray(Tuple(["number",Option("number")]))}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.Interactive.YouDrawHelpers.YouDrawState",n);e.initState=function(e,t){var i=!1;return new n(i,t,e,_Array$from(delay(function(){return collect$1(function(e){return e[0]>t?singleton$1([e[0],null]):empty()},e)})))},e.handler=function(e,t){if("Draw"!==t.Case)return new n(!0,e.Clip,e.Data,e.Guessed);var i=function(){var i=e.Guessed.map(function(e,t){return[t,e]}),r=reduce(function(e){return function(t,n){return e(t)<e(n)?t:n}}(function(e){return Math.abs(t.Fields[0]-e[1][0])}),i),o=i.map(function(e){return e[0]===r[0]?[e[1][0],t.Fields[1]]:[e[1][0],e[1][1]]});return{v:new n(e.Completed,e.Clip,e.Data,o)}}();return"object"===("undefined"==typeof i?"undefined":_typeof(i))?i.v:void 0},e.render=function(e,n,i,r,o,s,a,l,u,c,p,h){var d=_Array$from(delay(function(){return collect$1(function(e){return singleton$1([new Value("COV",[new continuous("CO",[e[0]])]),new Value("COV",[new continuous("CO",[e[1]])])])},h.Data)})),f=_Array$from(delay(function(){return collect$1(function(e){return e[0]<=h.Clip?singleton$1([new Value("COV",[new continuous("CO",[e[0]])]),new Value("COV",[new continuous("CO",[e[1]])])]):empty()},h.Data)})),m=_Array$from(delay(function(){return append$1(singleton$1(last(f)),delay(function(){return collect$1(function(e){return e[0]>h.Clip?singleton$1([new Value("COV",[new continuous("CO",[e[0]])]),new Value("COV",[new continuous("CO",[e[1]])])]):empty()},h.Data)}))})),y=_Array$from(delay(function(){return append$1(singleton$1(last(f)),delay(function(){return collect$1(function(e){return function(){return null!=e[1]}(null)?singleton$1([new Value("COV",[new continuous("CO",[e[0]])]),new Value("COV",[new continuous("CO",[e[1]])])]):empty()},h.Guessed)}))})),g=[(head(h.Data)[0]+h.Clip)/2,u+(c-u)/10],v=[(last(h.Data)[0]+h.Clip)/2,u+(c-u)/10],C=[h.Clip,c-(c-u)/10],w=function(e){return function(t){var n="12pt sans-serif",i=new FillStyle("Solid",[[1,new Color("HTML",[e])]]);return new Style([0,new Color("RGB",[0,0,0])],t.StrokeWidth,t.StrokeDashArray,i,t.Animation,n,t.Cursor)}},T=new Shape("Layered",[ofArray([new Shape("Style",[w(s),new Shape("Text",[new Value("COV",[new continuous("CO",[g[0]])]),new Value("COV",[new continuous("CO",[g[1]])]),new VerticalAlign("Baseline",[]),new HorizontalAlign("Center",[]),r])]),new Shape("Style",[w(a),new Shape("Text",[new Value("COV",[new continuous("CO",[v[0]])]),new Value("COV",[new continuous("CO",[v[1]])]),new VerticalAlign("Baseline",[]),new HorizontalAlign("Center",[]),o])]),new Shape("Style",[w(l),new Shape("Text",[new Value("COV",[new continuous("CO",[C[0]])]),new Value("COV",[new continuous("CO",[C[1]])]),new VerticalAlign("Baseline",[]),new HorizontalAlign("Center",[]),i])])])]),S=new Shape("Axes",[new Shape("Interactive",[h.Completed?new List$2:ofArray([new EventHandler("MouseMove",[function(e){return function(n){if("COV"!==n[0].Case)throw new Error("C:\\Tomas\\Public\\thegamma\\thegamma-script\\src\\libraries\\interactive.fs",70,35);var i=n[0].Fields[0].Fields[0];if("COV"!==n[1].Case)throw new Error("C:\\Tomas\\Public\\thegamma\\thegamma-script\\src\\libraries\\interactive.fs",70,47);var r=n[1].Fields[0].Fields[0];1===(1&~~e.buttons)&&p(new t("Draw",[i,r]))}}]),new EventHandler("TouchMove",[function(e){return function(e){if("COV"!==e[0].Case)throw new Error("C:\\Tomas\\Public\\thegamma\\thegamma-script\\src\\libraries\\interactive.fs",72,35);var n=e[0].Fields[0].Fields[0];if("COV"!==e[1].Case)throw new Error("C:\\Tomas\\Public\\thegamma\\thegamma-script\\src\\libraries\\interactive.fs",72,47);var i=e[1].Fields[0].Fields[0];p(new t("Draw",[n,i]))}}]),new EventHandler("MouseDown",[function(e){return function(e){if("COV"!==e[0].Case)throw new Error("C:\\Tomas\\Public\\thegamma\\thegamma-script\\src\\libraries\\interactive.fs",74,35);var n=e[0].Fields[0].Fields[0];if("COV"!==e[1].Case)throw new Error("C:\\Tomas\\Public\\thegamma\\thegamma-script\\src\\libraries\\interactive.fs",74,47);var i=e[1].Fields[0].Fields[0];p(new t("Draw",[n,i]))}}]),new EventHandler("TouchStart",[function(e){return function(e){if("COV"!==e[0].Case)throw new Error("C:\\Tomas\\Public\\thegamma\\thegamma-script\\src\\libraries\\interactive.fs",75,36);var n=e[0].Fields[0].Fields[0];if("COV"!==e[1].Case)throw new Error("C:\\Tomas\\Public\\thegamma\\thegamma-script\\src\\libraries\\interactive.fs",75,48);var i=e[1].Fields[0].Fields[0];p(new t("Draw",[n,i]))}}])]),new Shape("Scale",[null,[new continuous("CO",[u]),new continuous("CO",[c])],new Shape("Layered",[toList(delay(function(){return append$1(singleton$1(T),delay(function(){return append$1(singleton$1(new Shape("Style",[function(e){return Drawing.hideStroke(Drawing.hideFill(e))},new Shape("Line",[d])])),delay(function(){return append$1(singleton$1(new Shape("Style",[function(e){var t=[1,new Color("HTML",[s])],n=new FillStyle("Solid",[[.2,new Color("HTML",[s])]]);return new Style(t,e.StrokeWidth,e.StrokeDashArray,n,e.Animation,e.Font,e.Cursor)},new Shape("Layered",[ofArray([new Shape("Area",[f]),new Shape("Line",[f])])])])),delay(function(){return append$1(h.Completed?singleton$1(new Shape("Style",[function(e){var t=[1,new Color("HTML",[a])],n=ofArray([new _Number("Percentage",[0]),new _Number("Percentage",[100])]),i=new FillStyle("Solid",[[0,new Color("HTML",[a])]]),r=[1e3,"ease",function(e){var t=ofArray([new _Number("Percentage",[100]),new _Number("Percentage",[0])]),n=new FillStyle("Solid",[[.2,new Color("HTML",[a])]]);return new Style(e.StrokeColor,e.StrokeWidth,t,n,e.Animation,e.Font,e.Cursor)}];return new Style(t,e.StrokeWidth,n,i,r,e.Font,e.Cursor)},new Shape("Layered",[ofArray([new Shape("Area",[m]),new Shape("Line",[m])])])])):empty(),delay(function(){return y.length>1?singleton$1(new Shape("Style",[function(e){var t=[1,new Color("HTML",[l])],n=ofArray([new _Number("Integer",[5]),new _Number("Integer",[5])]);return new Style(t,e.StrokeWidth,n,e.Fill,e.Animation,e.Font,e.Cursor)},new Shape("Line",[y])])):empty()}))}))}))}))}))])])])]);return function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("div")(ofArray([op_EqualsGreater("style","text-align:center;padding-top:20px")]))(ofArray([Compost.createSvg(e,n,S),function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("div")(ofArray([op_EqualsGreater("style","padding-bottom:20px")]))(ofArray([function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("button")(toList(delay(function(){return append$1(singleton$1(op_EqualsBangGreater("click",function(e){return function(e){p(new t("ShowResults",[]))}})),delay(function(){return equals(last(h.Guessed)[1],null)?singleton$1(op_EqualsGreater("disabled","disabled")):empty()}))})))(ofArray([text("Show me how I did")]))]))]))};return e}({}),youdraw=function(){function e(t,n,i,r,o,s,a,l,u,c){_classCallCheck(this,e),this.data=t,this.clip=n,this.min=i,this.max=r,this.knownColor=o,this.unknownColor=s,this.drawColor=a,this.topLabel=l,this.knownLabel=u,this.guessLabel=c}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Interactive.youdraw",interfaces:["FSharpRecord","System.IEquatable"],properties:{data:makeGeneric(series,{k:"number",v:"number"}),clip:Option("number"),min:Option("number"),max:Option("number"),knownColor:Option("string"),unknownColor:Option("string"),drawColor:Option("string"),topLabel:Option("string"),knownLabel:Option("string"),guessLabel:Option("string")}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"setRange",value:function(t,n){var i=t,r=n;return new e(this.data,this.clip,i,r,this.knownColor,this.unknownColor,this.drawColor,this.topLabel,this.knownLabel,this.guessLabel)}},{key:"setClip",value:function(t){var n=t;return new e(this.data,n,this.min,this.max,this.knownColor,this.unknownColor,this.drawColor,this.topLabel,this.knownLabel,this.guessLabel)}},{key:"setColors",value:function(t,n){var i=t,r=n;return new e(this.data,this.clip,this.min,this.max,i,r,this.drawColor,this.topLabel,this.knownLabel,this.guessLabel)}},{key:"setDrawColor",value:function(t){var n=t;return new e(this.data,this.clip,this.min,this.max,this.knownColor,this.unknownColor,n,this.topLabel,this.knownLabel,this.guessLabel)}},{key:"setLabels",value:function(t,n,i){var r=n,o=t,s=i;return new e(this.data,this.clip,this.min,this.max,this.knownColor,this.unknownColor,this.drawColor,o,r,s)}},{key:"show",value:function(e){var t=this;!function(e){startImmediate(e)}(function(n){return n.Delay(function(){var i="container"+replace$$1(function(){var e=newGuid();return e}(),"-","");return renderTo(document.getElementById(e),function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("div")(ofArray([op_EqualsGreater("id",i)]))(new List$2)),n.Bind(Async_AwaitFuture_Static(t.data.data),function(r){var o=10;return n.Combine(n.While(function(){return o>0&&null==document.getElementById(i)},n.Delay(function(){return n.Bind(sleep(10),function(){return o-=1,n.Zero()})})),n.Delay(function(){var o=document.getElementById(i),s=[o.clientWidth,400>o.clientWidth/2?400:o.clientWidth/2];return n.TryWith(n.Delay(function(){var i=null!=t.min?t.min:reduce(function(e,t){return Math.min(e,t)},map$5(function(e){return e[1]},r)),o=null!=t.max?t.max:reduce(function(e,t){return Math.max(e,t)},map$5(function(e){return e[1]},r)),a=null!=t.clip?t.clip:r[~~(r.length/2)][0],l=_Array$from(sortWith(function(e,t){return compare(function(e){return e[0]}(e),function(e){return e[0]}(t))},r)),u=[defaultArg(t.knownColor,"#606060"),defaultArg(t.unknownColor,"#FFC700"),defaultArg(t.drawColor,"#808080")];return Compost.app(e,YouDrawHelpers.initState(l,a),function(){var e=[defaultArg(t.topLabel,""),defaultArg(t.knownLabel,""),defaultArg(t.guessLabel,"")],n=[u[0],u[1],u[2]],r=[i,o];return function(t){return function(i){return YouDrawHelpers.render(s[0],s[1],e[0],e[1],e[2],n[0],n[1],n[2],r[0],r[1],t,i)}}}(),function(e){return function(t){return YouDrawHelpers.handler(e,t)}}),n.Zero()}),function(e){return Log.exn("GUI","Interactive rendering failed: %O",e),n.Zero()})}))})})}(singleton$2))}}],[{key:"create",value:function(t){var n=null,i=null,r=null,o=null,s=null,a=null;return new e(t,n,i,r,null,null,null,s,a,o)}}]),e}();setType("TheGamma.Interactive.youdraw",youdraw);var YouGuessColsHelpers=function(e){var t=e.YouGuessState=function(){function e(t,n,i,r,o,s){_classCallCheck(this,e),this.Completed=t,this.CompletionStep=n,this.Default=i,this.Maximum=r,this.Data=o,this.Guesses=s}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Interactive.YouGuessColsHelpers.YouGuessState",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{Completed:"boolean",CompletionStep:"number",Default:"number",Maximum:"number",Data:FableArray(Tuple(["string","number"])),Guesses:makeGeneric(FableMap,{Key:"string",Value:"number"})}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.Interactive.YouGuessColsHelpers.YouGuessState",t);var n=e.YouGuessEvent=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Interactive.YouGuessColsHelpers.YouGuessEvent",interfaces:["FSharpUnion","System.IEquatable","System.IComparable"],cases:{Animate:[],ShowResults:[],Update:["string","number"]}}}},{key:"Equals",value:function(e){return equalsUnions(this,e)}},{key:"CompareTo",value:function(e){return compareUnions(this,e)}}]),e}();setType("TheGamma.Interactive.YouGuessColsHelpers.YouGuessEvent",n);var i=(e.initState=function(e){var n=void 0,i=Scales.generateContinuousRange(new continuous("CO",[0]),new continuous("CO",[reduce(function(e,t){return Math.max(e,t)},map$5(function(e){return e[1]},e))]));if("Continuous"!==i[0].Case)throw new Error("Failed to calculate maximum");var r=i[0].Fields[1].Fields[0];n=r;var o=!1,s=0;return new t(o,s,averageBy(function(e){return e[1]},e),n,e,create$3(null,new GenericComparer(compare)))},e.update=function(e,n){if("Animate"===n.Case){var i=1<e.CompletionStep+.05?1:e.CompletionStep+.05;return new t(e.Completed,i,e.Default,e.Maximum,e.Data,e.Guesses)}if("Update"===n.Case){var r=add$1(n.Fields[0],n.Fields[1],e.Guesses);return new t(e.Completed,e.CompletionStep,e.Default,e.Maximum,e.Data,r)}return new t(!0,e.CompletionStep,e.Default,e.Maximum,e.Data,e.Guesses)},e.vega10=ofArray(["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"]));e.renderBars=function(e,t,r,o,s){!!s.Completed&&s.CompletionStep<1&&window.setTimeout(function(){o(new n("Animate",[]))},50);var a=new Shape("Axes",[new Shape("Interactive",[s.Completed?new List$2:ofArray([new EventHandler("MouseMove",[function(e){return function(t){if("CAR"!==t[0].Case)throw new Error("C:\\Tomas\\Public\\thegamma\\thegamma-script\\src\\libraries\\interactive.fs",212,50);var i=t[0].Fields[0].Fields[0];if("COV"!==t[1].Case)throw new Error("C:\\Tomas\\Public\\thegamma\\thegamma-script\\src\\libraries\\interactive.fs",212,64);var r=t[1].Fields[0].Fields[0];1===(1&~~e.buttons)&&o(new n("Update",[i,r]))}}]),new EventHandler("MouseDown",[function(e){return function(e){if("CAR"!==e[0].Case)throw new Error("C:\\Tomas\\Public\\thegamma\\thegamma-script\\src\\libraries\\interactive.fs",214,50);var t=e[0].Fields[0].Fields[0];if("COV"!==e[1].Case)throw new Error("C:\\Tomas\\Public\\thegamma\\thegamma-script\\src\\libraries\\interactive.fs",214,64);var i=e[1].Fields[0].Fields[0];o(new n("Update",[t,i]))}}]),new EventHandler("TouchStart",[function(e){return function(e){if("CAR"!==e[0].Case)throw new Error("C:\\Tomas\\Public\\thegamma\\thegamma-script\\src\\libraries\\interactive.fs",216,51);var t=e[0].Fields[0].Fields[0];if("COV"!==e[1].Case)throw new Error("C:\\Tomas\\Public\\thegamma\\thegamma-script\\src\\libraries\\interactive.fs",216,65);var i=e[1].Fields[0].Fields[0];o(new n("Update",[t,i]))}}]),new EventHandler("TouchMove",[function(e){return function(e){if("CAR"!==e[0].Case)throw new Error("C:\\Tomas\\Public\\thegamma\\thegamma-script\\src\\libraries\\interactive.fs",218,50);var t=e[0].Fields[0].Fields[0];if("COV"!==e[1].Case)throw new Error("C:\\Tomas\\Public\\thegamma\\thegamma-script\\src\\libraries\\interactive.fs",218,64);var i=e[1].Fields[0].Fields[0];o(new n("Update",[t,i]))}}])]),new Shape("Style",[function(e){if(s.Completed)return e;var t="row-resize";return new Style(e.StrokeColor,e.StrokeWidth,e.StrokeDashArray,e.Fill,e.Animation,e.Font,t)},new Shape("Layered",[toList(delay(function(){return append$1(singleton$1(new Shape("Stack",[new Orientation("Horizontal",[]),toList(delay(function(){return collect$1(function(e){var t=(e[1][1],e[1][0]);return singleton$1(function(){var e=new Shape("Style",[function(e){var t=new FillStyle("Solid",[[.2,new Color("HTML",["#a0a0a0"])]]);return new Style(e.StrokeColor,e.StrokeWidth,e.StrokeDashArray,t,e.Animation,e.Font,e.Cursor)},new Shape("Column",[new categorical("CA",[t]),new continuous("CO",[s.Maximum])])]);return new Shape("Padding",[[0,10,0,10],e])}())},zip(i,s.Data))}))])),delay(function(){return append$1(singleton$1(new Shape("Stack",[new Orientation("Horizontal",[]),toList(delay(function(){return collect$1(function(e){var t=e[1][1],n=e[1][0];return singleton$1(function(){var i=void 0,r=[s.Completed,tryFind$1(n,s.Guesses)],o=r[0]?null==r[1]?[2]:[0]:null==r[1]?[2]:[1];switch(o[0]){case 0:var a=r[1];i=[.6,s.CompletionStep*t+(1-s.CompletionStep)*a];break;case 1:var l=r[1];i=[.6,l];break;case 2:i=[.2,s.Default]}var u=new Shape("Style",[function(t){var n=new FillStyle("Solid",[[i[0],new Color("HTML",[e[0]])]]);return new Style(t.StrokeColor,t.StrokeWidth,t.StrokeDashArray,n,t.Animation,t.Font,t.Cursor)},new Shape("Column",[new categorical("CA",[n]),new continuous("CO",[i[1]])])]);return new Shape("Padding",[[0,10,0,10],u])}())},zip(i,s.Data))}))])),delay(function(){return append$1(collect$1(function(e){var t=(e[1][1],e[1][0]),n=tryFind$1(t,s.Guesses);if(null!=n){var i=new Shape("Line",[ofArray([[new Value("CAR",[new categorical("CA",[t]),0]),new Value("COV",[new continuous("CO",[n])])],[new Value("CAR",[new categorical("CA",[t]),1]),new Value("COV",[new continuous("CO",[n])])]])]);return singleton$1(new Shape("Style",[function(t){return new Style([1,new Color("HTML",[e[0]])],new Width("Pixels",[4]),ofArray([new _Number("Integer",[5]),new _Number("Integer",[5])]),t.Fill,t.Animation,t.Font,t.Cursor)},new Shape("Padding",[[0,10,0,10],i])]))}return empty()},zip(i,s.Data)),delay(function(){if(null!=r){var e=new Value("CAR",[new categorical("CA",[s.Data[~~(s.Data.length/2)][0]]),s.Data.length%2===0?0:.5]),t=new Value("COV",[new continuous("CO",[.9*s.Maximum])]);return singleton$1(new Shape("Style",[function(e){var t="13pt sans-serif",n=new FillStyle("Solid",[[1,new Color("HTML",["#808080"])]]);return new Style([0,new Color("RGB",[0,0,0])],e.StrokeWidth,e.StrokeDashArray,n,e.Animation,t,e.Cursor)},new Shape("Text",[e,t,new VerticalAlign("Baseline",[]),new HorizontalAlign("Center",[]),r])]))}return empty()}))}))}))}))])])])]);return function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("div")(ofArray([op_EqualsGreater("style","text-align:center;padding-top:20px")]))(ofArray([Compost.createSvg(e,t,a),function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("div")(ofArray([op_EqualsGreater("style","padding-bottom:20px")]))(ofArray([function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("button")(toList(delay(function(){return append$1(singleton$1(op_EqualsBangGreater("click",function(e){return function(e){o(new n("ShowResults",[]))}})),delay(function(){return s.Guesses.size!==s.Data.length?singleton$1(op_EqualsGreater("disabled","disabled")):empty()}))})))(ofArray([text("Show me how I did")]))]))]))};return e}({}),YouGuessCols=function(){function e(t,n){_classCallCheck(this,e),this.data=t,this.topLabel=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Interactive.YouGuessCols",interfaces:["FSharpRecord","System.IEquatable"],properties:{data:makeGeneric(series,{k:"string",v:"number"}),topLabel:Option("string")}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"setLabel",value:function(t){var n=t;return new e(this.data,n)}},{key:"show",value:function(e){var t=this;!function(e){startImmediate(e)}(function(n){return n.Delay(function(){var i="container"+replace$$1(function(){var e=newGuid();return e}(),"-","");return renderTo(document.getElementById(e),function(e){return function(t){return El.op_Dynamic(e,t)}}(h$$1)("div")(ofArray([op_EqualsGreater("id",i)]))(new List$2)),
n.Bind(Async_AwaitFuture_Static(t.data.data),function(r){var o=10;return n.Combine(n.While(function(){return o>0&&null==document.getElementById(i)},n.Delay(function(){return n.Bind(sleep(10),function(){return o-=1,n.Zero()})})),n.Delay(function(){var r=document.getElementById(i),o=[r.clientWidth,400>r.clientWidth/2?400:r.clientWidth/2];return n.Bind(Async_AwaitFuture_Static(t.data.data),function(i){try{Compost.app(e,YouGuessColsHelpers.initState(i),function(e){return function(n){return YouGuessColsHelpers.renderBars(o[0],o[1],t.topLabel,e,n)}},function(e){return function(t){return YouGuessColsHelpers.update(e,t)}})}catch(e){Log.exn("GUI","Interactive rendering failed: %O",e)}return n.Zero()})}))})})}(singleton$2))}}]),e}();setType("TheGamma.Interactive.YouGuessCols",YouGuessCols);var youguess=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Interactive.youguess",properties:{}}}}],[{key:"columns",value:function(e){return new YouGuessCols(e,null)}}]),e}();setType("TheGamma.Interactive.youguess",youguess);var TypeContext=function(){function e(t){_classCallCheck(this,e),this.EquivalentVars=t}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Types.TypeContext",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{EquivalentVars:makeGeneric(List$2,{T:Tuple(["string","string"])})}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.Types.TypeContext",TypeContext);var typesEqual=function(){var e=new TypeContext(new List$2);return function(t){return function(n){return typesEqualAux(e,t,n)}}}(),UnifictionContext=function(){function e(t,n,i,r){_classCallCheck(this,e),this.FreeVars=t,this.Assignments=n,this.EquivalentVars=i,this.Errors=r}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Types.UnifictionContext",interfaces:["FSharpRecord"],properties:{FreeVars:makeGeneric(FableSet,{T:"string"}),Assignments:makeGeneric(List$2,{T:Tuple(["string",Type])}),EquivalentVars:makeGeneric(List$2,{T:Tuple(["string","string"])}),Errors:makeGeneric(List$2,{T:Tuple([Type,Type])})}}}}]),e}();setType("TheGamma.Types.UnifictionContext",UnifictionContext);var Lazy=function(){function e(e){this.factory=e,this.isValueCreated=!1}return Object.defineProperty(e.prototype,"value",{get:function(){return this.isValueCreated||(this.createdValue=this.factory(),this.isValueCreated=!0),this.createdValue},enumerable:!0,configurable:!0}),e}(),FormattingContext=function(){function e(t){_classCallCheck(this,e),this.Strings=t}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Ast.FormattingContext",interfaces:["FSharpRecord","System.IEquatable"],properties:{Strings:FableArray("string")}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"Add",value:function(e){this.Strings.push(formatToken(e))}}]),e}();setType("TheGamma.Ast.FormattingContext",FormattingContext);var anonymous="",BabelOptions=function(){function e(t){_classCallCheck(this,e),this.presets=t}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Interpreter.BabelOptions",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{presets:FableArray("string")}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.Interpreter.BabelOptions",BabelOptions);var BabelResult=function(){function e(t){_classCallCheck(this,e),this.code=t}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Interpreter.BabelResult",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{code:"string"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.Interpreter.BabelResult",BabelResult);var EvaluationContext=function(){function e(t){_classCallCheck(this,e),this.Globals=t}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Interpreter.EvaluationContext",interfaces:["FSharpRecord","System.IEquatable"],properties:{Globals:Interface("System.Collections.Generic.IDictionary")}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}}]),e}();setType("TheGamma.Interpreter.EvaluationContext",EvaluationContext);var QueueCell=function(){function e(e){this.value=e}return e}(),MailboxQueue=function(){function e(){}return e.prototype.add=function(e){var t=new QueueCell(e);this.firstAndLast?(this.firstAndLast[1].next=t,this.firstAndLast=[this.firstAndLast[0],t]):this.firstAndLast=[t,t]},e.prototype.tryGet=function(){if(this.firstAndLast){var e=this.firstAndLast[0].value;return this.firstAndLast[0].next?this.firstAndLast=[this.firstAndLast[0].next,this.firstAndLast[1]]:delete this.firstAndLast,e}},e}(),MailboxProcessor=function(){function e(e,t){this.body=e,this.cancellationToken=t||defaultCancellationToken,this.messages=new MailboxQueue}return e.prototype.__processEvents=function(){if(this.continuation){var e=this.messages.tryGet();if(e){var t=this.continuation;delete this.continuation,t(e)}}},e.prototype.start=function(){startImmediate(this.body(this),this.cancellationToken)},e.prototype.receive=function(){var e=this;return fromContinuations(function(t){if(e.continuation)throw new Error("Receive can only be called once!");e.continuation=t[0],e.__processEvents()})},e.prototype.post=function(e){this.messages.add(e),this.__processEvents()},e.prototype.postAndAsyncReply=function(e){function t(){n&&i&&i(n)}var n,i,r={reply:function(e){n=e,t()}};return this.messages.add(e(r)),this.__processEvents(),fromContinuations(function(e){i=e[0],t()})},e}(),Property=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Editors.Property",interfaces:["FSharpUnion"],cases:{Property:["string",Option(Metadata),Type]}}}}]),e}();setType("TheGamma.Editors.Property",Property);var Editor=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Editors.Editor",interfaces:["FSharpUnion"],cases:{CreateList:[Documentation,makeGeneric(_Node,{T:Name}),FableArray(makeGeneric(_Node,{T:Name})),FableArray(Property)],NestedChoice:[Documentation,Documentation,makeGeneric(_Node,{T:Name}),makeGeneric(_Node,{T:Name}),FableArray(Tuple([Property,FableArray(Property)]))],SingleChoice:[Documentation,makeGeneric(_Node,{T:Name}),FableArray(Property)]}}}},{key:"Range",get:function(){return"NestedChoice"===this.Case?unionRanges(this.Fields[2].Range,this.Fields[3].Range):"CreateList"===this.Case?fold$1(function(e,t){return unionRanges(e,t.Range)},new _Range(this.Fields[1].Range.End,this.Fields[1].Range.End),this.Fields[2]):this.Fields[1].Range}}]),e}();setType("TheGamma.Editors.Editor",Editor);var collectSingleChoiceEditors=function(){var e=function(e){return function(t){return t.Delay(function(){if(null==e.tail)return t.Return(null);var n=function(){var n=e.head[0],i=e.head[1],r=e.head[4];return{v:t.Bind(chooseableProperty(!0,i,n),function(e){return t.Return(defaultArg(e,null,function(e){return new Editor("SingleChoice",[r,e[0],e[1]])}))})}}();return"object"===("undefined"==typeof n?"undefined":_typeof(n))?n.v:void 0})}(singleton$2)};return function(t){return pickChainSuffixes(e,t)}}(),collectNestedChoiceEditors=function(){var e=function(e){return function(t){return t.Delay(function(){var n=null!=e.tail&&null!=e.tail.tail&&null!=e.tail.head[2]?[0,e.head[4],e.head[1],e.head[0],e.head[2],e.head[3],e.tail.head[4],e.tail.head[1],e.tail.head[0],e.tail.head[2],e.tail.head[3]]:[1];switch(n[0]){case 0:return Log.trace("editors","checking %s.%s",n[2].Node.Name,n[7].Node.Name),t.Bind(chooseableProperty(!1,n[2],n[3]),function(e){return t.Bind(chooseableProperty(!0,n[7],n[8]),function(i){var r=[e,i],o=null!=r[0]&&null!=r[1]?[0,r[0][1],r[0][0],r[1][1],r[1][0]]:[1],s=function(){switch(o[0]){case 0:Log.trace("editors","collecting %s nested members",o[1].length);var e=function(e){return Async.Array.map(function(e){return function(t){return t.Delay(function(){return t.Bind(getMembers(e.Fields[2]),function(i){var r=filterProperties(function(e){if(null!=e[1]){var t=e[1];return t.Type===n[9].Type&&typesEqual(e[2])(n[10])}return!1},i);return t.Return([e,[i,r]])})})}(singleton$2)},e(o[1]))};return{v:t.Bind(e(function(e){return _Array$from(truncate(5,e))}),function(i){return count(i)>2&&dominant(collect$1(function(e){return e[1][0]},i),collect$1(function(e){return e[1][1]},i))?t.Bind(e(function(e){return e}),function(e){var i=e.map(function(e){return[e[0],e[1][1]]});return t.Return(new Editor("NestedChoice",[n[1],n[6],o[2],o[4],i]))}):t.Return(null)})};case 1:return{v:t.Return(null)}}}();if("object"===("undefined"==typeof s?"undefined":_typeof(s)))return s.v})});case 1:return t.Return(null)}})}(singleton$2)};return function(t){return pickChainSuffixes(e,t)}}(),ItemListSchema=function(){function e(t){_classCallCheck(this,e),this.name=t}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Editors.ItemListSchema",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{name:"string"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.Editors.ItemListSchema",ItemListSchema);var CreateActionSchema=function(){function e(t){_classCallCheck(this,e),this.result=t}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Editors.CreateActionSchema",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{result:ItemListSchema}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.Editors.CreateActionSchema",CreateActionSchema);var AddActionSchema=function(){function e(t){_classCallCheck(this,e),this.targetCollection=t}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Editors.AddActionSchema",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{targetCollection:ItemListSchema}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.Editors.AddActionSchema",AddActionSchema);var collectItemListEditors=function(){var e=function(e){return function(t){return t.Delay(function(){var n=null!=e.tail&&null!=e.head[2]&&null!=e.tail.tail&&null!=e.tail.head[2]&&function(){var t=e.tail.head[2],n=e.head[2];return"CreateAction"===n.Type&&"CreateAction"===t.Type}()?[0,e.head[2],e.tail.head[2]]:[1],i=function(){switch(n[0]){case 0:return{v:t.Return(null)};case 1:var i=null!=e.tail&&null!=e.head[2]&&function(){var t=(e.head[4],e.head[3],e.head[2]);e.head[0],e.head[1];return"CreateAction"===t.Type}()?[0,e.tail,e.head[1],e.head[0],e.head[2],e.head[3],e.head[4]]:[1],r=function(){switch(i[0]){case 0:var e=i[4].Data.result.name,n=function(t){return function(n){return function(i){e:for(;;){var r=null!=i.tail&&null!=i.head[2]&&function(){var t=(i.head[3],i.head[2]);i.head[0],i.head[1];return"AddAction"===t.Type&&e===t.Data.targetCollection.name}()?[0,i.tail,i.head[1],i.head[0],i.head[2],i.head[3]]:[1];switch(r[0]){case 0:t=new List$2(r[2],t),n=r[5],i=r[1];continue e;case 1:return[reverse$$1(t),n]}}}}},r=n(new List$2)(i[5])(i[1]);return{v:{v:t.Bind(getMembers(r[1]),function(n){var o=filterProperties(function(t){var n=null!=t[1]&&function(){var e=t[1];return"AddAction"===e.Type}()?[0,t[0],t[1],t[2]]:[1];switch(n[0]){case 0:return n[2].Data.targetCollection.name===e;case 1:return!1}},n);return t.Return(new Editor("CreateList",[i[6],i[2],_Array$from(r[0]),o]))})}};case 1:return{v:{v:t.Return(null)}}}}();if("object"===("undefined"==typeof r?"undefined":_typeof(r)))return r.v}}();if("object"===("undefined"==typeof i?"undefined":_typeof(i)))return i.v})}(singleton$2)};return function(t){return pickChainSuffixes(e,t)}}(),BindingContext=function(){function e(t,n,i,r,o){_classCallCheck(this,e),this.Variables=t,this.GlobalValues=n,this.Root=i,this.Table=r,this.Bound=o}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Binder.BindingContext",interfaces:["FSharpRecord"],properties:{Variables:makeGeneric(FableMap,{Key:Name,Value:Entity}),GlobalValues:makeGeneric(FableMap,{Key:Name,Value:Entity}),Root:Entity,Table:makeGeneric(_Map,{TKey:Interface("TheGamma.Common.Symbol"),TValue:makeGeneric(ListDictionaryNode,{K:Interface("TheGamma.Common.Symbol"),T:makeGeneric(FableMap,{Key:Tuple(["number","string"]),Value:Entity})})}),Bound:FableArray(Tuple([_Range,Entity]))}}}}]),e}();setType("TheGamma.Binder.BindingContext",BindingContext);var BindingResult=function(){function e(t){_classCallCheck(this,e),this.ents=t;for(var n=new _Map,i=function(e){return function(t){n.has(e)||n.set(e,[]),n.get(e).push(t)}},r=this.ents,o=0;o<=r.length-1;o++){var s=r[o],a=Entity_get_Antecedents.bind(s[1])(),l=!0,u=!1,c=void 0;try{for(var p,h=_getIterator(a);!(l=(p=h.next()).done);l=!0){var d=p.value;i(d.Symbol)(s[1])}}catch(e){u=!0,c=e}finally{try{!l&&h.return&&h.return()}finally{if(u)throw c}}}this.childrenLookup=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Binder.BindingResult",properties:{Entities:FableArray(Tuple([_Range,Entity]))}}}}]),_createClass(e,[{key:"GetChildren",value:function(e){var t=tryGetValue(this.childrenLookup,e.Symbol,null);return t[0]?_Array$from(t[1]):[]}},{key:"Entities",get:function(){return this.ents}}]),e}();setType("TheGamma.Binder.BindingResult",BindingResult);var Tokenizer=function(e){e.inputEndInsideString=function(e,t){var n=101;return new _Error(n,fsFormat('Missing " at the end of the input. The string "%s" ends without closing double-quote.')(function(e){return e})(t),e)},e.missingClosingQuote=function(e,t){var n=102;return new _Error(n,fsFormat("Quoted identifier '%s' is missing closing quote.")(function(e){return e})(t),e)},e.unexpectedCharacter=function(e,t){var n=103;return new _Error(n,fsFormat("Unexcpected character '%s' in the input.")(function(e){return e})(t),e)};return e}({}),Parser=function(e){e.unexpectedTokenAfterDot=function(e,t){var n=201;return new _Error(n,fsFormat("Unexpected %s after '.' in method chain")(function(e){return e})(formatTokenInfo(t)),e)},e.unexpectedScopeEndAfterDot=function(e,t,n){var i=202;return new _Error(i,fsFormat("Unexpected end of scope after '.' in method chain before %s")(function(e){return e})(formatTokenInfo(n)),e)},e.unindentedIdentifierAfterDot=function(e,t,n){var i=203;return new _Error(i,fsFormat("Unexpected end of scope after '.' and before '%s'. Indent the identifier?")(function(e){return e})(n),e)},e.unindentedDotAfterIdentifier=function(e,t){var n=204;return new _Error(n,"Dot after this identifier is not correctly nested",e)},e.unindentedBlock=function(e,t){var n=205;return new _Error(n,fsFormat("Token following %s needs to be indented further")(function(e){return e})(formatTokenInfo(t)),e)},e.unexpectedTokenAfterOperator=function(e,t,n){var i=206;return new _Error(i,fsFormat("Unexpected token '%s' after operator '%s'")(function(e){return e})(formatTokenInfo(n))(formatTokenInfo(t)),e)},e.unexpectedTokenInArgList=function(e,t){var n=207;return new _Error(n,fsFormat("Unexpected token '%s' in list of call arguments")(function(e){return e})(formatTokenInfo(t)),e)},e.unexpectedScopeEndInArgList=function(e){var t=208;return new _Error(t,"Unexpected end of scope in argument list",e)},e.unexpectedTokenInParenthesizedExpr=function(e,t){var n=209;return new _Error(n,fsFormat("Unexpected token '%s' in parenthesized expression. Are you missing ')'?")(function(e){return e})(formatTokenInfo(t)),e)},e.unindentedTokenInParenthesizedExpr=function(e){var t=210;return new _Error(t,"Unexpected end of nested expression in `(`",e)},e.missingParenthesizedExpr=function(e){var t=211;return new _Error(t,"The parenthesized expression (...) is missing body!",e)},e.unexpectedTokenInList=function(e,t){var n=212;return new _Error(n,fsFormat("Unexpected token '%s' in list expression")(function(e){return e})(formatTokenInfo(t)),e)},e.unexpectedScopeEndInList=function(e){var t=213;return new _Error(t,"Unexpected end of scope in list expression",e)},e.unexpectedTokenInLetBinding=function(e,t){var n=214;return new _Error(n,fsFormat("Unexpected token '%s' in let declaration (should be let name = expr)")(function(e){return e})(formatTokenInfo(t)),e)},e.missingBodyInLetBinding=function(e){var t=215;return new _Error(t,"This let binding is missing body after equals",e)},e.nestedExpressionInCommand=function(e){var t=216;return new _Error(t,"Unexpected expression",e)},e.unexpectedTokenAfterFun=function(e,t){var n=217;return new _Error(n,fsFormat("Unexpected token '%s' after `fun`. Expected variable name.")(function(e){return e})(formatTokenInfo(t)),e)},e.missingArrowInFunc=function(e){var t=218;return new _Error(t,"Missing arrow after variable in function definition",e)},e.unexpectedScopeEndInFunc=function(e){var t=219;return new _Error(t,"Unexpected end of scope in function declaration",e)},e.missingBodyOfFunc=function(e){var t=220;return new _Error(t,"The function is missing body. If it is on the next line, you need to indent it further.",e)},e.exceptionWhileParsing=function(e,t){var n=299;return new _Error(n,"Unexpected exception while parsing: "+t,e)};return e}({}),TypeChecker=function(e){var t=(e.numericOperatorExpectsNumbers=function(e,t,n,i){var r=301;return new _Error(r,fsFormat("Both operands of binary operator '%s' should be numbers but the %s operand was %s instead.")(function(e){return e})(formatToken(new TokenKind("Operator",[e])))(0===t?"left":"right")(formatTypeInfo(n)),i)},e.variableNotInScope=function(e,t){var n=302;return new _Error(n,fsFormat("Variable '%s' is not in scope.")(function(e){return e})(e),t)},function(e){return join(", ",toList(delay(function(){return collect$1(function(e){var t="Property"===e.Case?[0,e.Fields[0]]:[0,e.Fields[0]];switch(t[0]){case 0:return singleton$1(t[1])}},e)})))});e.propertyMissing=function(e,n,i){var r=303;return new _Error(r,fsFormat("Could not find property '%s' in the list '%s'.")(function(e){return e})(e)(t(n)),i)},e.methodMissing=function(e,n,i){var r=304;return new _Error(r,fsFormat("Could not find method '%s' in the list '%s'.")(function(e){return e})(e)(t(n)),i)},e.notAnObject=function(e,t,n){var i=305;return new _Error(i,fsFormat("Type is not an object but %s and it does not have member `%s`")(function(e){return e})(formatTypeInfo(t))(e),n)},e.listElementTypeDoesNotMatch=function(e,t,n){var i=306;return new _Error(i,fsFormat("The type of this list element is %s but it should be %s")(function(e){return e})(formatTypeInfo(t))(formatTypeInfo(e)),n)},e.nameBasedParamMustBeLast=function(e){var t=307;return new _Error(t,"All named parameters must be at the end of parameter list.",e)},e.parameterMissingValue=function(e,t){var n=308;return new _Error(n,fsFormat("Required parameter `%s` is not given a value.")(function(e){return e})(e),t)},e.incorrectParameterType=function(e,t,n,i,r,o){var s=309;return new _Error(s,fsFormat("The value of parameter `%s` has wrong type. Expected %s but got %s. The type %s does not match the type %s.")(function(e){return e})(e)(formatTypeInfo(t))(formatTypeInfo(n))(formatTypeInfo(i))(formatTypeInfo(r)),o)},e.inferenceConflict=function(e,t,n,i){var r=310;return new _Error(r,fsFormat("The arguments of the call have conflicting types. The type %s assigned to a variable %s does not match the type %s.")(function(e){return e})(formatTypeInfo(t))(e)(formatTypeInfo(n)),i)},e.callMissingInstance=function(e,t){var n=311;return new _Error(n,fsFormat("The `%s` property access or call is missing an instance")(function(e){return e})(e),t)};return e}({}),$parseFloat$1=_global.parseFloat,$trim$1=_stringTrim.trim,_parseFloat$3=1/$parseFloat$1(_stringWs+"-0")!==-(1/0)?function(e){var t=$trim$1(String(e),3),n=$parseFloat$1(t);return 0===n&&"-"==t.charAt(0)?-0:n}:$parseFloat$1,$export$11=_export,$parseFloat=_parseFloat$3;$export$11($export$11.S+$export$11.F*(Number.parseFloat!=$parseFloat),"Number",{parseFloat:$parseFloat});var _parseFloat$1=parseFloat,_parseFloat=createCommonjsModule(function(e){e.exports={default:_parseFloat$1,__esModule:!0}}),_Number$parseFloat=unwrapExports(_parseFloat),Context$1=function(){function e(t,n,i){_classCallCheck(this,e),this.Tokens=t,this.Errors=n,this.Input=i}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Tokenizer.Context",interfaces:["FSharpRecord","System.IEquatable"],properties:{Tokens:FableArray(Token),Errors:FableArray(makeGeneric(_Error,{Range:_Range})),Input:"string"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}}]),e}();setType("TheGamma.Tokenizer.Context",Context$1);var Context$$1=function(){function e(t,n,i,r,o,s,a,l,u){_classCallCheck(this,e),this.Tokens=t,this.Whitespace=n,this.Errors=i,this.TopLevel=r,this.Silent=o,this.StrictlyNested=s,this.IndentCurrent=a,this.IndentStack=l,this.Position=u}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Parser.Context",interfaces:["FSharpRecord","System.IEquatable"],properties:{Tokens:FableArray(Token),Whitespace:FableArray(Token),Errors:FableArray(makeGeneric(_Error,{Range:_Range})),TopLevel:"boolean",Silent:"boolean",StrictlyNested:"boolean",IndentCurrent:"number",IndentStack:makeGeneric(List$2,{T:Tuple(["number","boolean"])}),Position:"number"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}}]),e}();setType("TheGamma.Parser.Context",Context$$1);var DisposableHelper=function(){function e(t){_classCallCheck(this,e),this.f=t}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Parser.DisposableHelper",interfaces:["System.IDisposable"],properties:{}}}}]),_createClass(e,[{key:"Dispose",value:function(){this.f(null)}}]),e}();setType("TheGamma.Parser.DisposableHelper",DisposableHelper);var Associativity=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Parser.Associativity",interfaces:["FSharpUnion","System.IEquatable","System.IComparable"],cases:{Left:[],Right:[]}}}},{key:"Equals",value:function(e){return equalsUnions(this,e)}},{key:"CompareTo",value:function(e){return compareUnions(this,e)}}]),e}();setType("TheGamma.Parser.Associativity",Associativity);var OpExpr=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Parser.OpExpr",interfaces:["FSharpUnion"],cases:{OpExpr:[makeGeneric(_Node,{T:Expr}),Option(Tuple([makeGeneric(_Node,{T:Operator}),e]))]}}}}]),e}();setType("TheGamma.Parser.OpExpr",OpExpr);var CheckingContext=function(){function e(t,n,i){_classCallCheck(this,e),this.Errors=t,this.Globals=n,this.Ranges=i}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.TypeChecker.CheckingContext",interfaces:["FSharpRecord","System.IEquatable"],properties:{Errors:FableArray(makeGeneric(_Error,{Range:_Range})),Globals:Interface("System.Collections.Generic.IDictionary"),Ranges:Interface("System.Collections.Generic.IDictionary")}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}}]),e}();setType("TheGamma.TypeChecker.CheckingContext",CheckingContext);var LineColumnRange=function(){function e(t,n,i,r){_classCallCheck(this,e),this.StartLineNumber=t,this.StartColumn=n,this.EndLineNumber=i,this.EndColumn=r}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.LineColumnRange",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{StartLineNumber:"number",StartColumn:"number",EndLineNumber:"number",EndColumn:"number"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.LineColumnRange",LineColumnRange);var LocationMapper=function(){function e(t){_classCallCheck(this,e),this.lengths=Int32Array.from(map$5(function(e){return e.length},split$$1(t,"\n")))}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.LocationMapper",properties:{}}}}]),_createClass(e,[{key:"AbsoluteToLineCol",value:function(e){for(var t=0,n=e;t<=this.lengths.length&&n>this.lengths[t];)n=n-this.lengths[t]-1,t+=1;return[t+1,n+1]}},{key:"LineColToAbsolute",value:function(e,t){for(var n=0,i=1;i<=e-1;i++)n=n+this.lengths[i-1]+1;return n+t-1}}]),e}();setType("TheGamma.LocationMapper",LocationMapper);var LiveEditorZone=function(){function e(t,n){_classCallCheck(this,e),this.Line=t,this.Preview=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Live.Common.LiveEditorZone",interfaces:["FSharpRecord"],properties:{Line:"number",Preview:DomNode}}}}]),e}();setType("TheGamma.Live.Common.LiveEditorZone",LiveEditorZone);var LivePreview=function(){function e(t,n,i){_classCallCheck(this,e),this.Update=t,this.Render=n,this.InitialState=i}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Live.Common.LivePreview",interfaces:["FSharpRecord"],properties:{Update:"function",Render:"function",InitialState:GenericParam("TState")}}}}]),e}();setType("TheGamma.Live.Common.LivePreview",LivePreview);var LiveState=function(){function e(t,n,i,r,o,s,a,l){_classCallCheck(this,e),this.Globals=t,this.Code=n,this.Program=i,this.Mapper=r,this.Location=o,this.Selection=s,this.State=a,this.CurrentPreview=l}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Live.Common.LiveState",interfaces:["FSharpRecord"],properties:{Globals:Interface("System.Collections.Generic.IEnumerable"),Code:"string",Program:Program$$1,Mapper:LocationMapper,Location:"number",Selection:Option(LineColumnRange),State:GenericParam("T"),CurrentPreview:Option(makeGeneric(LivePreview,{TState:Interface("TheGamma.Live.Common.CustomLiveState"),TEvent:Interface("TheGamma.Live.Common.CustomLiveEvent")}))}}}}]),e}();setType("TheGamma.Live.Common.LiveState",LiveState);var LiveEvent=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Live.Common.LiveEvent",interfaces:["FSharpUnion"],cases:{CustomEvent:[GenericParam("T")],InitializeGlobals:[Interface("System.Collections.Generic.IEnumerable")],UpdateLocation:["number"],UpdateSource:["string","number",Program$$1,LocationMapper]}}}}]),e}();setType("TheGamma.Live.Common.LiveEvent",LiveEvent);var EditorWorkerMessage=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Services.EditorWorkerMessage",interfaces:["FSharpUnion","System.IEquatable","System.IComparable"],cases:{Refersh:["string"],Update:["string"],UpdateNow:["string"]}}}},{key:"Equals",value:function(e){return equalsUnions(this,e)}},{key:"CompareTo",value:function(e){return compareUnions(this,e)}}]),e}();setType("TheGamma.Services.EditorWorkerMessage",EditorWorkerMessage);var EditorService=function(){function e(t,n,i){var r=this;_classCallCheck(this,e),this.article=t,this.checker=n,this.renderEditors=new Event$2,this.agent=start$1(function(e){var t=function t(n){return function(o){return function(s){return s.Delay(function(){return s.Bind(e.receive(),function(a){return"UpdateNow"===a.Case?s.Combine(s.TryWith(s.Delay(function(){return Log.trace("editors","updating..."),a.Fields[0]!==n?s.Bind(r.update(a.Fields[0]),function(){return s.Return(null)}):s.Zero()}),function(e){return Log.exn("editors","update failed: %O",e),s.Zero()}),s.Delay(function(){return s.ReturnFrom(t(a.Fields[0])(o))})):"Refersh"===a.Case?s.Combine(1===o?s.TryWith(s.Delay(function(){return Log.trace("editors","updating..."),a.Fields[0]!==n?s.Bind(r.update(a.Fields[0]),function(){return s.Return(null)}):s.Zero()}),function(e){return Log.exn("editors","update failed: %O",e),s.Zero()}):s.Zero(),s.Delay(function(){return s.ReturnFrom(t(a.Fields[0])(o-1))})):(function(e){startImmediate(e)}(function(t){return t.Delay(function(){return t.Bind(sleep(i),function(){return e.post(new EditorWorkerMessage("Refersh",[a.Fields[0]])),t.Zero()})})}(singleton$2)),s.ReturnFrom(t(n)(o+1)))})})}(singleton$2)}};return t("")(0)})}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Services.EditorService",properties:{EditorsUpdated:Interface("Microsoft.FSharp.Control.IEvent")}}}}]),_createClass(e,[{key:"UpdateSource",value:function(e,t){equals(t,!0)?this.agent.post(new EditorWorkerMessage("UpdateNow",[e])):this.agent.post(new EditorWorkerMessage("Update",[e]))}},{key:"update",value:function(e){var t=this;return function(n){return n.Delay(function(){return Log.event("options","update",t.article,e),n.Bind(t.checker(e),function(e){return Log.trace("service","Collecting editors"),n.Bind(Async.collect(function(e){return collectCmdEditors(e)},e[2].Body.Node),function(e){var i=mapIndexed$$1(function(e,t){return[e,t]},e),r=map$4(function(e){return e[1]},filter$1(function(e){return!exists$1(function(t){return t[0]!==e[0]&&strictSubRange(e[1].Range,t[1].Range)},i)},i));return Log.trace("service","Rendering %s out of %s",r.length,i.length),t.renderEditors.Trigger(r),n.Zero()})})})}(singleton$2)}},{key:"EditorsUpdated",get:function(){return this.renderEditors.Publish}}]),e}();setType("TheGamma.Services.EditorService",EditorService);var CheckingMessage=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Services.CheckingMessage",interfaces:["FSharpUnion","System.IEquatable"],cases:{IsWellTyped:["string",Any],TypeCheck:["string",Any]}}}},{key:"Equals",value:function(e){return equalsUnions(this,e)}}]),e}();setType("TheGamma.Services.CheckingMessage",CheckingMessage);var Position$1=function(){function e(t,n){_classCallCheck(this,e),this.Line=t,this.Column=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Services.Position",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{Line:"number",Column:"number"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.Services.Position",Position$1);var LineRange=function(){function e(t,n){_classCallCheck(this,e),this.Start=t,this.End=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Services.LineRange",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{Start:Position$1,End:Position$1}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.Services.LineRange",LineRange);var CheckingService=function(){function e(t,n){var i=this;_classCallCheck(this,e),this.globals=n,this.errorsReported=new Event$2;var r=new Program$$1(node(new _Range(0,0),new List$2));this.bindingContext=Async_StartAsFuture_Static(function(e){return e.Delay(function(){return e.Bind(Async_AwaitFuture_Static(i.globals),function(n){return e.Return(createContext(n,t))})})}(singleton$2)),this.agent=start$1(function(e){var t=function t(n){return function(o){return function(s){return s.Delay(function(){return s.Bind(e.receive(),function(e){
if("TypeCheck"===e.Case){if(e.Fields[0]===n)return Log.trace("service","Returning previous result"),e.Fields[1].reply(o),s.ReturnFrom(t(n)(o));if("TypeCheck"===e.Case)return Log.trace("service","Type checking source code"),s.Bind(i.typeCheck(e.Fields[0]),function(a){if(null==a)return e.Fields[1].reply([!1,new BindingResult([]),r]),s.ReturnFrom(t(n)(o));var l=a[0],u=a[2],c=a[1];i.errorsReported.Trigger([e.Fields[0],u]);var p=[0===u.length,c,l];return e.Fields[1].reply(p),s.ReturnFrom(t(e.Fields[0])(p))});throw new Error("C:\\Tomas\\Public\\thegamma\\thegamma-script\\src\\thegamma\\services.fs",120,12)}return s.Bind(i.typeCheck(e.Fields[0]),function(i){return s.Combine(function(){var t=null!=i&&function(){var e=i[2];return 0===e.length}()?[0,i[2]]:[1];switch(t[0]){case 0:return e.Fields[1].reply(!0),s.Zero();case 1:return e.Fields[1].reply(!1),s.Zero()}}(),s.Delay(function(){return s.ReturnFrom(t(n)(o))}))})})})}(singleton$2)}};return t("")([!1,new BindingResult([]),r])})}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Services.CheckingService",properties:{ErrorsReported:Interface("Microsoft.FSharp.Control.IEvent")}}}}]),_createClass(e,[{key:"TypeCheck",value:function(e){return this.agent.postAndAsyncReply(function(t){return new CheckingMessage("TypeCheck",[e,t])})}},{key:"IsWellTyped",value:function(e){return this.agent.postAndAsyncReply(function(t){return new CheckingMessage("IsWellTyped",[e,t])})}},{key:"errorsToLineCol",value:function(e,t){var n=map$4(function(e){return e.length},toList(split$$1(e,"\n")));return t.map(function(e){return new _Error(e.Number,e.Message,rangeToLoc(n,e.Range))})}},{key:"typeCheck",value:function(e){var t=this;return function(n){return n.Delay(function(){return n.Bind(Async_AwaitFuture_Static(t.globals),function(i){return n.TryWith(n.Delay(function(){var r=parseProgram(e);return n.Bind(Async_AwaitFuture_Static(t.bindingContext),function(o){var s=bindProgram(o,r[0]);return n.Bind(typeCheckProgram(i,s[1],s[0]),function(){var i=collectTypeErrors(s[0]);Log.trace("service","Type checking completed");var o=void 0,a=r[1].concat(i);return o=t.errorsToLineCol(e,a),n.Return([r[0],s[1],o])})})}),function(e){return Log.exn("service","Type checking failed: %O",e),n.Return(null)})})})}(singleton$2)}},{key:"ErrorsReported",get:function(){return this.errorsReported.Publish}}]),e}();setType("TheGamma.Services.CheckingService",CheckingService);var PreviewService=function(){function e(t,n,i,r){var o=this;_classCallCheck(this,e),this.checker=t,this.globals=n,this.ed=i,this.livePreviews=r,this.zoneSizeChanged=new Event$2,this.currentZone=null,this.zoneHeight=0,this.tree={},this.container=document.createElement("div"),this.lastCode="",this.lastMapper=new LocationMapper(""),this.changingEditor=!1;var s=function(e){return o.createLivePreview(e)}(this.ed);this.ed.onDidChangeCursorPosition(function(e){if(!o.changingEditor){var t=o.ed.getModel().getValue(1,!1);Log.trace("live","Cursor position changed: code <> lastCode = %s",t!==o.lastCode),function(e){startImmediate(e)}(function(e){return e.Delay(function(){return e.Bind(o.getUpdateEventAfterChange(),function(t){return s(t),e.Zero()})})}(singleton$2))}})}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Services.PreviewService",properties:{ZoneHeight:"number",ZoneSizeChanged:Interface("Microsoft.FSharp.Control.IEvent")}}}}]),_createClass(e,[{key:"removeZone",value:function(){var e=this,t=this.currentZone;null==t||!function(){var n=t[0];e.ed.changeViewZones(function(e){e.removeZone(n)})}(),this.currentZone=null,this.zoneSizeChanged.Trigger(null)}},{key:"createAndAddZone",value:function(e){var t=this,n=-1,i={},r=document.createElement("div");r.style.width="1000px",r.style.height="1000px",this.container=document.createElement("div"),this.tree={},r.appendChild(this.container),this.ed.changeViewZones(function(o){var s=t.currentZone;if(null!=s){var a=s[0];o.removeZone(a)}i.afterLineNumber=e,i.heightInPx=1,i.domNode=r,t.zoneHeight=1,n=o.addZone(i),t.currentZone=[n,i]})}},{key:"updateZones",value:function(e,t){var n=this,i=defaultArg(t.CurrentPreview,null,function(n){return n.Render(e)(t)});null!=i?!function(){if(function(){return null==n.currentZone}(null)){var e=i.Line;n.createAndAddZone(e)}var t=n.currentZone,r=renderVirtual(i.Preview),o=diff(n.tree,r);n.container=patch(n.container,o),n.tree=r;var s=function e(t){return function(i){return i.Delay(function(){var r=n.container.clientHeight;return 10===t||0!==r?i.Return(r):i.Bind(sleep(t*t),function(){return i.ReturnFrom(e(t+1))})})}(singleton$2)};!function(e){startImmediate(e)}(function(e){return e.Delay(function(){return e.Bind(s(1),function(r){return Log.trace("live","Old height: %s, New height: %s",n.zoneHeight,r),n.zoneHeight!==r||t[1].afterLineNumber!==i.Line?(t[1].afterLineNumber=i.Line,t[1].heightInPx=r,n.zoneHeight=r,n.ed.changeViewZones(function(e){e.layoutZone(t[0])}),n.zoneSizeChanged.Trigger(null),e.Zero()):e.Zero()})})}(singleton$2))}():this.removeZone()}},{key:"getUpdateEventAfterChange",value:function(){var e=this;return function(t){return t.Delay(function(){var n=e.ed.getModel().getValue(1,!1),i=e.ed.getPosition();if(n===e.lastCode){var r=e.lastMapper.LineColToAbsolute(~~i.lineNumber,~~i.column);return t.Return(new LiveEvent("UpdateLocation",[r]))}var o=function(){e.lastCode=n,e.lastMapper=new LocationMapper(n);var r=e.lastMapper.LineColToAbsolute(~~i.lineNumber,~~i.column);return{v:t.Bind(e.checker.TypeCheck(n),function(i){return t.Return(new LiveEvent("UpdateSource",[n,r,i[2],e.lastMapper]))})}}();if("object"===("undefined"==typeof o?"undefined":_typeof(o)))return o.v})}(singleton$2)}},{key:"createLivePreview",value:function(e){var t=this,n=new Event$2,i=void 0;i=_defineProperty({},_Symbol.reflection,function(){return{interfaces:["TheGamma.Live.Common.CustomLiveState"]}});var r=void 0,o=new LocationMapper(""),s=0,a=new Program$$1(node(new _Range(0,0),new List$2));r=new LiveState(new List$2,"",a,o,s,null,i,null);var l=function(e){var o=updateLiveState(r,e),s=null==o.CurrentPreview?null:o.CurrentPreview.Update(function(e){n.Trigger(e)})(o)(e),a=[s,e],l=null!=a[0]?[0]:"UpdateSource"===a[1].Case?[1]:"UpdateLocation"===a[1].Case?[1]:[2];switch(l[0]){case 0:var u=a[0];return u;case 1:Log.trace("live","Searching for available previews");var c=tryPick(function(t){var i=void 0,r=t;return i=new LiveState(o.Globals,o.Code,o.Program,o.Mapper,o.Location,o.Selection,t.InitialState,r),t.Update(function(e){n.Trigger(e)})(i)(e)},t.livePreviews);if(null!=c)return c;var p=null;return new LiveState(o.Globals,o.Code,o.Program,o.Mapper,o.Location,o.Selection,i,p);case 2:var h=null;return new LiveState(o.Globals,o.Code,o.Program,o.Mapper,o.Location,o.Selection,i,h)}};return add$5(function(i){try{Log.trace("live","Updating state %O with event %O",r,i);var o=r;r=l(i),"UpdateSource"!==i.Case&&o.Code!==r.Code&&(t.changingEditor=!0,e.getModel().setValue(r.Code));var s=r.Selection;if(null!=s){t.changingEditor=!0;var a={};a.startColumn=s.StartColumn,a.startLineNumber=s.StartLineNumber,a.endColumn=s.EndColumn,a.endLineNumber=s.EndLineNumber,e.setSelection(a);var u=null;r=new LiveState(r.Globals,r.Code,r.Program,r.Mapper,r.Location,u,r.State,r.CurrentPreview)}if(t.changingEditor===!0)t.changingEditor=!1,function(e){startImmediate(e)}(function(e){return e.Delay(function(){return Log.trace("live","Editor changed. Getting after change event..."),e.Bind(t.getUpdateEventAfterChange(),function(i){Log.trace("live","Editor changed. Updating state %O with event %O",r,i),r=l(i),Log.trace("live","Editor changed. New state %O",r);var o=function(e){n.Trigger(e)};return t.updateZones(o,r),e.Zero()})})}(singleton$2));else{var c=function(e){n.Trigger(e)};t.updateZones(c,r)}}catch(e){Log.exn("live","Error when updating state %O with event %O: %O",r,i,e)}},n.Publish),function(e){startImmediate(e)}(function(e){return e.Delay(function(){return e.Bind(Async_AwaitFuture_Static(t.globals),function(t){return n.Trigger(new LiveEvent("InitializeGlobals",[t])),e.Zero()})})}(singleton$2)),function(e){n.Trigger(e)}}},{key:"ZoneSizeChanged",get:function(){return this.zoneSizeChanged.Publish}},{key:"ZoneHeight",get:function(){return equals(this.currentZone,null)?0:this.zoneHeight}}]),e}();setType("TheGamma.Services.PreviewService",PreviewService);var CompilationContext=function(){function e(t,n){_classCallCheck(this,e),this.LineLengths=t,this.Globals=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.CodeGenerator.CompilationContext",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{LineLengths:makeGeneric(List$2,{T:"number"}),Globals:makeGeneric(FableMap,{Key:"string",Value:Expression})}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.CodeGenerator.CompilationContext",CompilationContext);var BabelOptions$1=function(){function e(t){_classCallCheck(this,e),this.presets=t}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.CodeGenerator.BabelOptions",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{presets:FableArray("string")}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.CodeGenerator.BabelOptions",BabelOptions$1);var BabelResult$1=function(){function e(t){_classCallCheck(this,e),this.code=t}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.CodeGenerator.BabelResult",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{code:"string"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.CodeGenerator.BabelResult",BabelResult$1);var Aggregation=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.TypeProviders.Pivot.Aggregation",interfaces:["FSharpUnion","System.IEquatable","System.IComparable"],cases:{ConcatValues:["string"],CountAll:[],CountDistinct:["string"],GroupKey:[],Mean:["string"],ReturnUnique:["string"],Sum:["string"]}}}},{key:"Equals",value:function(e){return equalsUnions(this,e)}},{key:"CompareTo",value:function(e){return compareUnions(this,e)}}]),e}();setType("TheGamma.TypeProviders.Pivot.Aggregation",Aggregation);var SortDirection=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.TypeProviders.Pivot.SortDirection",interfaces:["FSharpUnion","System.IEquatable","System.IComparable"],cases:{Ascending:[],Descending:[]}}}},{key:"Equals",value:function(e){return equalsUnions(this,e)}},{key:"CompareTo",value:function(e){return compareUnions(this,e)}}]),e}();setType("TheGamma.TypeProviders.Pivot.SortDirection",SortDirection);var Paging=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.TypeProviders.Pivot.Paging",interfaces:["FSharpUnion","System.IEquatable","System.IComparable"],cases:{Skip:["string"],Take:["string"]}}}},{key:"Equals",value:function(e){return equalsUnions(this,e)}},{key:"CompareTo",value:function(e){return compareUnions(this,e)}}]),e}();setType("TheGamma.TypeProviders.Pivot.Paging",Paging);var Transformation=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.TypeProviders.Pivot.Transformation",interfaces:["FSharpUnion","System.IEquatable","System.IComparable"],cases:{DropColumns:[makeGeneric(List$2,{T:"string"})],Empty:[],FilterBy:[makeGeneric(List$2,{T:Tuple(["string","boolean","string"])})],GetRange:["string"],GetSeries:["string","string"],GetTheData:[],GroupBy:[makeGeneric(List$2,{T:"string"}),makeGeneric(List$2,{T:Aggregation})],Metadata:[],Paging:[makeGeneric(List$2,{T:Paging})],SortBy:[makeGeneric(List$2,{T:Tuple(["string",SortDirection])})]}}}},{key:"Equals",value:function(e){return equalsUnions(this,e)}},{key:"CompareTo",value:function(e){return compareUnions(this,e)}}]),e}();setType("TheGamma.TypeProviders.Pivot.Transformation",Transformation);var Field=function(){function e(t,n){_classCallCheck(this,e),this.Name=t,this.Type=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.TypeProviders.Pivot.Field",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{Name:"string",Type:PrimitiveType}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("TheGamma.TypeProviders.Pivot.Field",Field);var Transform=function(e){var t=function(e){return"CountAll"===e.Case?"count-all":"CountDistinct"===e.Case?"count-dist "+escapeIdent(e.Fields[0]):"ReturnUnique"===e.Case?"unique "+escapeIdent(e.Fields[0]):"ConcatValues"===e.Case?"concat-vals "+escapeIdent(e.Fields[0]):"Sum"===e.Case?"sum "+escapeIdent(e.Fields[0]):"Mean"===e.Case?"mean "+escapeIdent(e.Fields[0]):"key"},n=(e.toUrl=function(e){return join("$",map$4(function(e){return null==e[1].tail?e[0]:e[0]+"("+join(",",e[1])+")"},concat$$1(toList(delay(function(){return map$5(function(e){return"Metadata"===e.Case?ofArray([["metadata",new List$2]]):"GetRange"===e.Case?ofArray([["range",ofArray([e.Fields[0]])]]):"FilterBy"===e.Case?ofArray([["filter",map$4(function(e){return e[0]+(e[1]?" eq ":" neq ")+e[2]},e.Fields[0])]]):"DropColumns"===e.Case?ofArray([["drop",e.Fields[0]]]):"SortBy"===e.Case?ofArray([["sort",map$4(function(e){return e[0]+(e[1].Equals(new SortDirection("Ascending",[]))?" asc":" desc")},e.Fields[0])]]):"GroupBy"===e.Case?ofArray([["groupby",append$$1(map$4(function(e){return"by "+escapeIdent(e)},e.Fields[0]),map$4(function(e){return t(e)},e.Fields[1]))]]):"Paging"===e.Case?map$4(function(e){return"Skip"===e.Case?["skip",ofArray([e.Fields[0]])]:["take",ofArray([e.Fields[0]])]},e.Fields[0]):"GetSeries"===e.Case?ofArray([["series",ofArray([e.Fields[0],e.Fields[1]])]]):("Empty"===e.Case,new List$2)},e)})))))},e.singleTransformFields=function(e,t){if("Metadata"===t.Case)throw new Error("Metadata should not appear in normal queries");if("GetRange"===t.Case)throw new Error("GetRange should not appear in normal queries");if("GetTheData"===t.Case)return e;if("SortBy"===t.Case)return e;if("Paging"===t.Case)return e;if("FilterBy"===t.Case)return e;if("GetSeries"===t.Case)return ofArray([find(function(e){return e.Name===t.Fields[0]},e),find(function(e){return e.Name===t.Fields[1]},e)]);if("DropColumns"===t.Case){var n=function(){var n=create$2(t.Fields[0],new GenericComparer(compare));return{v:filter$1(function(e){return!n.has(e.Name)},e)}}();if("object"===("undefined"==typeof n?"undefined":_typeof(n)))return n.v}else{if("GroupBy"!==t.Case)return e;var i=function(){var n=new _Map(toList(delay(function(){return map$5(function(e){return[e.Name,e]},e)})));return{v:collect$$1(function(e){var i="ReturnUnique"===e.Case?[1,e.Fields[0]]:"ConcatValues"===e.Case?[1,e.Fields[0]]:"Sum"===e.Case?[1,e.Fields[0]]:"Mean"===e.Case?[2]:"CountAll"===e.Case?[3]:"CountDistinct"===e.Case?[4]:[0];switch(i[0]){case 0:return map$4(function(e){return n.get(e)},t.Fields[0]);case 1:return ofArray([n.get(i[1])]);case 2:return ofArray([n.get(e.Fields[0])]);case 3:return ofArray([new Field("count",new PrimitiveType("Number",[]))]);case 4:return ofArray([new Field(n.get(e.Fields[0]).Name,new PrimitiveType("Number",[]))])}},t.Fields[1])}}();if("object"===("undefined"==typeof i?"undefined":_typeof(i)))return i.v}});e.transformFields=function(e,t){return toList(function(){var t=toList(e);return function(e){return fold$1(function(e,t){return n(e,t)},t,e)}}()(t))};return e}({}),propertyEmitter=new Emitter(function(e){return e[0]}),Context$2=function(){function e(t,n,i,r){_classCallCheck(this,e),this.Root=t,this.LookupNamed=n,this.InputFields=i,this.Fields=r}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.TypeProviders.Pivot.Context",interfaces:["FSharpRecord"],properties:{Root:"string",LookupNamed:"function",InputFields:makeGeneric(List$2,{T:Field}),Fields:makeGeneric(List$2,{T:Field})}}}}]),e}();setType("TheGamma.TypeProviders.Pivot.Context",Context$2);var PivotSection=function(){function e(t,n){_classCallCheck(this,e),this.Transformation=t,this.Nodes=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Live.Pivot.PivotSection",interfaces:["FSharpRecord"],properties:{Transformation:Transformation,Nodes:makeGeneric(List$2,{T:makeGeneric(_Node,{T:Expr})})}}}}]),e}();setType("TheGamma.Live.Pivot.PivotSection",PivotSection);var PivotEditorMenus=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Live.Pivot.PivotEditorMenus",interfaces:["FSharpUnion","System.IEquatable","System.IComparable"],cases:{AddDropdownOpen:[],ContextualDropdownOpen:[],Hidden:[]}}}},{key:"Equals",value:function(e){return equalsUnions(this,e)}},{key:"CompareTo",value:function(e){return compareUnions(this,e)}}]),e}();setType("TheGamma.Live.Pivot.PivotEditorMenus",PivotEditorMenus);var PivotEditorAction=function(){function e(t,n){_classCallCheck(this,e),this.Case=t,this.Fields=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Live.Pivot.PivotEditorAction",interfaces:["FSharpUnion"],cases:{AddElement:[Interface("TheGamma.Common.Symbol"),"string",Option(makeGeneric(List$2,{T:Expr}))],AddTransform:[Transformation],RemoveElement:[Interface("TheGamma.Common.Symbol")],RemoveSection:[Interface("TheGamma.Common.Symbol")],ReplaceElement:[Interface("TheGamma.Common.Symbol"),"string",Option(makeGeneric(List$2,{T:Expr}))],ReplaceRange:[_Range,"string"],SelectChainElement:["number"],SelectRange:[_Range],SwitchMenu:[PivotEditorMenus],UpdatePreview:[DomNode]}}}}]),e}();setType("TheGamma.Live.Pivot.PivotEditorAction",PivotEditorAction);var PivotEditorState=function(){function e(t,n,i,r,o,s,a){_classCallCheck(this,e),this.Body=t,this.FirstNode=n,this.Preview=i,this.Sections=r,this.SelectedEntity=o,this.Menus=s,this.Focus=a}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Live.Pivot.PivotEditorState",interfaces:["FSharpRecord"],properties:{Body:makeGeneric(_Node,{T:Expr}),FirstNode:makeGeneric(_Node,{T:Expr}),Preview:DomNode,Sections:makeGeneric(List$2,{T:PivotSection}),SelectedEntity:Entity,Menus:PivotEditorMenus,Focus:Option(Tuple(["string",Option("number")]))}}}}]),e}();setType("TheGamma.Live.Pivot.PivotEditorState",PivotEditorState);var marker="InsertPropertyHere",preview=new LivePreview(function(e){return function(t){return function(n){return updatePivotState(e,t,n)}}},function(e){return function(t){return renderPivot(e,t)}},function(){var e=node(new _Range(0,0),new Expr("Empty",[])),t=node(new _Range(0,0),new Expr("Empty",[])),n=null;return new PivotEditorState(e,t,text("not created"),new List$2,n,new PivotEditorMenus("Hidden",[]),null)}()),ShowableEditorState=function(){function e(t,n,i,r){_classCallCheck(this,e),this.EndLocation=t,this.Preview=n,this.PreviewSymbol=i,this.PreviewID=r}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"TheGamma.Live.Showable.ShowableEditorState",interfaces:["FSharpRecord"],properties:{EndLocation:"number",Preview:DomNode,PreviewSymbol:Interface("TheGamma.Common.Symbol"),PreviewID:"number"}}}}]),e}();setType("TheGamma.Live.Showable.ShowableEditorState",ShowableEditorState);var preview$1=new LivePreview(function(e){return function(t){return function(n){return updateShowableState(e,t,n)}}},function(e){return function(t){return renderShowable(e,t)}},function(){var e=0,t=_Symbol2();return new ShowableEditorState(0,text("not created"),t,e)}()),i$2=1;eval("monaco$"+i$2+" = monaco"),monaco=monaco;var noState=_defineProperty({clone:function(){return this},equals:function(e){return!0}},_Symbol.reflection,function(){return{interfaces:["Fable.Import.monaco.languages.IState"]}}),tokensProvider=_defineProperty({tokenize:function(e,t){var n={};n.endState=noState,n.tokens=[];for(var i=tokenize(e),r=0;r<=i[0].length-1;r++){var o=i[0][r],s={};s.startIndex=o.Range.Start,s.scopes=getColorClass(o.Token),n.tokens.push(s)}return n},getInitialState:function(){return noState}},_Symbol.reflection,function(){return{interfaces:["Fable.Import.monaco.languages.TokensProvider"]}}),createdEditors=new _Map,TheGammaProviders=function(){function e(t){_classCallCheck(this,e),this.globals=t}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"Main.TheGammaProviders",interfaces:["FSharpRecord","System.IEquatable"],properties:{globals:Interface("TheGamma.Common.Future")}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}}]),e}();setType("Main.TheGammaProviders",TheGammaProviders);var TheGammaContext=function(){function e(t,n){_classCallCheck(this,e),this.checkingService=t,this.providers=n}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"Main.TheGammaContext",interfaces:["FSharpRecord","System.IEquatable"],properties:{checkingService:CheckingService,providers:TheGammaProviders}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}}]),e}();setType("Main.TheGammaContext",TheGammaContext);var previews=ofArray([preview,preview$1]),editorOptions=function(){function e(t,n,i,r,o){_classCallCheck(this,e),this.width=t,this.height=n,this.maxHeight=i,this.autoHeight=r,this.monacoOptions=o}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"Main.editorOptions",interfaces:["FSharpRecord"],properties:{width:Option("number"),height:Option("number"),maxHeight:Option("number"),autoHeight:Option("boolean"),monacoOptions:Option("function")}}}}]),e}();setType("Main.editorOptions",editorOptions);var error=function(){function e(t,n,i,r,o,s){_classCallCheck(this,e),this.number=t,this.message=n,this.startLine=i,this.startColumn=r,this.endLine=o,this.endColumn=s}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"Main.error",interfaces:["FSharpRecord","System.IEquatable","System.IComparable"],properties:{number:"number",message:"string",startLine:"number",startColumn:"number",endLine:"number",endColumn:"number"}}}},{key:"Equals",value:function(e){return equalsRecords(this,e)}},{key:"CompareTo",value:function(e){return compareRecords(this,e)}}]),e}();setType("Main.error",error);var defaultEditorOptions=new editorOptions(null,null,null,null,null),editor$1=function(){function e(t){_classCallCheck(this,e),this.ed=t}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"Main.editor",properties:{}}}}]),_createClass(e,[{key:"getValue",value:function(){return this.ed.getModel().getValue(1,!1)}},{key:"setValue",value:function(e){this.ed.getModel().setValue(e)}}]),e}();setType("Main.editor",editor$1);var gamma=function(){function e(t){_classCallCheck(this,e),this.ctx=t}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"Main.gamma",properties:{}}}}]),_createClass(e,[{key:"evaluate",value:function(e,t){var n=this;!function(e){startImmediate(e)}(function(i){return i.Delay(function(){return i.TryWith(i.Delay(function(){return i.Bind(_evaluate(n.ctx,e,t),function(){return i.Return(null)})}),function(t){return Log.exn("api","Evaluating code '%O' failed with error '%O'.",e,t),i.Zero()})})}(singleton$2))}},{key:"errorsReported",value:function(e){add$5(function(t){e(_Array$from(sortWith(function(e,t){return compare(function(e){return e.Range.Start}(e),function(e){return e.Range.Start}(t))},t[1])).map(function(e){return new error(e.Number,e.Message,e.Range.Start.Line,e.Range.Start.Column,e.Range.End.Line,e.Range.End.Column)}))},this.ctx.checkingService.ErrorsReported)}},{key:"createEditor",value:function(e,t,n){var i=20,r=null!=n?n:defaultEditorOptions,o=document.getElementById(e),s=defaultArg(r.width,o.clientWidth),a=defaultArg(r.height,o.clientHeight),l=defaultArg(r.maxHeight,2147483647),u=createMonacoEditor(e,t,this.ctx.checkingService,function(e){e.fontSize=15,e.lineHeight=20,defaultArg(r.monacoOptions,function(e){})(e);var t=e.lineHeight;null!=t&&(i=t)}),c={};c.width=s,c.height=a,u.layout(c);var p=new PreviewService(this.ctx.checkingService,this.ctx.providers.globals,u,previews),h=-1,d=function(){var e=u.getModel().getValue(1,!1),t=1+split$$1(e,"\n").length,n=l<(200>20*t+p.ZoneHeight?200:20*t+p.ZoneHeight)?l:200>20*t+p.ZoneHeight?200:20*t+p.ZoneHeight;if(n!==h){h=n;var i={};i.width=s,i.height=n,u.layout(i),o.style.height=String(i.height)+"px",o.style.width=String(i.width)+"px"}};return equals(r.autoHeight,!0)&&(u.getModel().onDidChangeContent(function(e){d(null)}),add$5(function(){d(null)},p.ZoneSizeChanged),d(null)),new editor$1(u)}}],[{key:"createContext",value:function(t){var n=new CheckingService("",t.globals);return new e(new TheGammaContext(n,t))}}]),e}();setType("Main.gamma",gamma);var providers=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:_Symbol.reflection,value:function(){return{type:"Main.providers",properties:{}}}}],[{key:"createProviders",value:function(e){var t=buildGlobalsTable(function(t){return function(n){return n.Delay(function(){var i=function(e){return _Object$keys(e).map(function(t){return{key:t,value:e[t]}})}(e).map(function(e){return e.value(e.key)(t)});return n.Bind(parallel(i),function(e){return n.Return(concat$1(e))})})}(singleton$2)});return new TheGammaProviders(t)}},{key:"rest",value:function(e,t){return function(n){return function(i){return function(r){return r.Delay(function(){return r.Return(ofArray([RestProvider.provideRestType(i,n,e,null!=t?t:"")]))})}(singleton$2)}}}},{key:"library",value:function(e){return function(t){return function(t){return FSharpProvider.provideFSharpTypes(t,e)}}}},{key:"pivot",value:function(e){return function(t){return function(n){return function(i){return i.Delay(function(){return i.Bind(Http.Request("GET",e+"?metadata"),function(r){var o=function(e){return _Object$keys(e).map(function(t){return{key:t,value:e[t]}})}(JSON.parse(r)).map(function(e){var t=void 0,n=e.value;switch(n){case"string":t=new PrimitiveType("String",[]);break;case"bool":t=new PrimitiveType("Bool",[]);break;case"number":t=new PrimitiveType("Number",[]);break;default:throw new Error(fsFormat("The property '%s' has invalid type '%s'. Only 'string', 'number' and 'bool' are supported.")(function(e){return e})(e.key)(n))}return[e.key,t]});return i.Return(ofArray([providePivotType(e,t,n,o)]))})})}(singleton$2)}}}}]),e}();setType("Main.providers",providers),exports.evaluate=_evaluate,exports.buildGlobalsTable=buildGlobalsTable,exports.TheGammaProviders=TheGammaProviders,exports.TheGammaContext=TheGammaContext,exports.callShowMethod=callShowMethod,exports.previews=previews,exports.editorOptions=editorOptions,exports.error=error,exports.defaultEditorOptions=defaultEditorOptions,exports.editor=editor$1,exports.gamma=gamma,exports.providers=providers,Object.defineProperty(exports,"__esModule",{value:!0})});

//# sourceMappingURL=thegamma.min.js.map